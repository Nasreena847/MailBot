{"file":"nylas-customize-booking-settings2.js","mappings":";;;;;;;AAAA,MAAM,gCAAgC,GAAG,iqEAAiqE;;;;;;;;;;;;;;;;MCuB7rE,6BAA6B;;;;;;;;2CAUO,IAAI,CAAC,qBAAqB,EAAE,SAAS,EAAE,sBAAsB,IAAI,KAAK;8CAKnE,IAAI,CAAC,qBAAqB,EAAE,SAAS,EAAE,yBAAyB,IAAI,KAAK;8CAKzE,IAAI,CAAC,qBAAqB,EAAE,SAAS,EAAE,yBAAyB,IAAI,KAAK;oBAKpG,4BAA4B;;;;;IAqCnD,yBAAyB,CAAC,QAAgB;QACxC,KAAK,CAAC,kCAAkC,EAAE,2BAA2B,EAAE,QAAQ,CAAC,CAAC;QACjF,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;KAC1C;IAGD,mCAAmC,CAAC,QAAuB;QACzD,KAAK,CAAC,kCAAkC,EAAE,qCAAqC,EAAE,QAAQ,CAAC,CAAC;QAC3F,IAAI,CAAC,mBAAmB,GAAG,CAAC,QAAQ,EAAE,SAAS,EAAE,sBAAsB,CAAC;QACxE,IAAI,CAAC,uBAAuB,GAAG,QAAQ,EAAE,SAAS,EAAE,yBAAyB,IAAI,KAAK,CAAC;QACvF,IAAI,CAAC,uBAAuB,GAAG,QAAQ,EAAE,SAAS,EAAE,yBAAyB,IAAI,KAAK,CAAC;KACxF;IAGD,iBAAiB;QACf,KAAK,CAAC,kCAAkC,EAAE,mBAAmB,CAAC,CAAC;KAChE;IAED,oBAAoB;QAClB,KAAK,CAAC,kCAAkC,EAAE,sBAAsB,CAAC,CAAC;KACnE;IAED,iBAAiB;QACf,KAAK,CAAC,kCAAkC,EAAE,mBAAmB,CAAC,CAAC;QAE/D,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;KAC3C;IAED,gBAAgB;QACd,KAAK,CAAC,kCAAkC,EAAE,kBAAkB,CAAC,CAAC;QAC9D,IAAI,IAAI,CAAC,qBAAqB,EAAE;YAC9B,IAAI,CAAC,mCAAmC,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;SACtE;aAAM;YAEL,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;YAChC,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;YACrC,IAAI,CAAC,uBAAuB,GAAG,KAAK,CAAC;SACtC;KACF;IAED,mBAAmB;QACjB,KAAK,CAAC,kCAAkC,EAAE,qBAAqB,CAAC,CAAC;KAClE;IAED,kBAAkB;QAChB,KAAK,CAAC,kCAAkC,EAAE,oBAAoB,CAAC,CAAC;KACjE;IAED,mBAAmB;QACjB,KAAK,CAAC,kCAAkC,EAAE,qBAAqB,CAAC,CAAC;KAClE;IAED,kBAAkB;QAChB,KAAK,CAAC,kCAAkC,EAAE,oBAAoB,CAAC,CAAC;KACjE;IAGD,sBAAsB,CAAC,KAAsD;QAC3E,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC;QACvC,QAAQ,IAAI;YACV,KAAK,wBAAwB;gBAC3B,IAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC;gBACnC,MAAM;YACR,KAAK,2BAA2B;gBAC9B,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC;gBACvC,MAAM;YACR,KAAK,2BAA2B;gBAC9B,IAAI,CAAC,uBAAuB,GAAG,OAAO,CAAC;gBACvC,MAAM;SACT;QACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;YACrB,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC;gBACpB,sBAAsB,EAAE,CAAC,IAAI,CAAC,mBAAmB;gBACjD,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;gBACrD,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;aACtD,CAAC;YACF,IAAI,EAAE,IAAI,CAAC,IAAI;SAChB,CAAC,CAAC;QACH,IAAI,CAAC,SAAS,CAAC,YAAY,CACzB,IAAI,CAAC,SAAS,CAAC;YACb,sBAAsB,EAAE,CAAC,IAAI,CAAC,mBAAmB;YACjD,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;YACrD,uBAAuB,EAAE,IAAI,CAAC,uBAAuB;SACtD,CAAC,EACF,IAAI,CAAC,IAAI,CACV,CAAC;KACH;IAOD,MAAM;QACJ,MAAM,aAAa,GAAG,OAAO,IAAI,CAAC,uBAAuB,KAAK,SAAS,IAAI,OAAO,IAAI,CAAC,uBAAuB,KAAK,SAAS,IAAI,OAAO,IAAI,CAAC,mBAAmB,KAAK,SAAS,CAAC;QAE9K,QACE,EAAC,IAAI,uDACF,aAAa,KACZ,WAAK,KAAK,EAAC,kCAAkC,EAAC,IAAI,EAAC,MAAM,IACvD,WAAK,KAAK,EAAC,QAAQ,EAAC,IAAI,EAAC,cAAc,IACrC,oCAA4B,EAC5B,+CAAsC,CAClC,EAEN,WAAK,KAAK,EAAC,4CAA4C,EAAC,IAAI,EAAC,gBAAgB,IAC3E,WAAK,KAAK,EAAC,gDAAgD,EAAC,IAAI,EAAC,8CAA8C,IAC7G,0BAAoB,IAAI,EAAC,wBAAwB,EAAC,KAAK,EAAC,2CAA2C,EAAC,OAAO,EAAE,IAAI,CAAC,mBAAmB,IACnI,YAAM,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,OAAO,IAC9B,SAAG,KAAK,EAAC,gBAAgB,gDAA8C,CAClE,CACY,CACjB,EACN,WAAK,KAAK,EAAC,gDAAgD,EAAC,IAAI,EAAC,iDAAiD,IAChH,0BAAoB,IAAI,EAAC,2BAA2B,EAAC,KAAK,EAAC,sDAAsD,EAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,IACrJ,YAAM,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,OAAO,IAC9B,SAAG,KAAK,EAAC,gBAAgB,gCAA8B,EACvD,yBAAmB,EAAE,EAAC,YAAY,IAChC,iBAAW,IAAI,EAAC,cAAc,GAAG,EACjC,YAAM,IAAI,EAAC,iBAAiB,sBACZ,+BAA2B,sEACpC,CACW,CACf,CACY,CACjB,EACN,WAAK,KAAK,EAAC,gDAAgD,EAAC,IAAI,EAAC,iDAAiD,IAChH,0BAAoB,IAAI,EAAC,2BAA2B,EAAC,KAAK,EAAC,kDAAkD,EAAC,OAAO,EAAE,IAAI,CAAC,uBAAuB,IACjJ,YAAM,IAAI,EAAC,OAAO,EAAC,KAAK,EAAC,OAAO,IAC9B,SAAG,KAAK,EAAC,gBAAgB,gCAA8B,EACvD,yBAAmB,EAAE,EAAC,QAAQ,IAC5B,iBAAW,IAAI,EAAC,cAAc,GAAG,EACjC,YAAM,IAAI,EAAC,iBAAiB,sBACZ,2BAAuB,sEAChC,CACW,CACf,CACY,CACjB,CACF,CACF,CACP,CACI,EACP;KACH;;;;;;;;;;;;;;;;;;;;;AAnDD;IALC,iBAAiB,CAAmH;QACnI,IAAI,EAAE,kCAAkC;QACxC,YAAY,EAAE,IAAI,GAAG,CAAC,CAAC,CAAC,uCAAuC,EAAE,uBAAuB,CAAC,CAAC,CAAC;QAC3F,iBAAiB,EAAE,IAAI;KACxB,CAAC;;;;2DAoDD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":[],"sources":["src/components/scheduler-editor/nylas-customize-booking-settings/nylas-customize-booking-settings.scss?tag=nylas-customize-booking-settings&encapsulation=shadow","src/components/scheduler-editor/nylas-customize-booking-settings/nylas-customize-booking-settings.tsx"],"sourcesContent":["@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-customize-booking-settings {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n  .nylas-customize-booking-settings__settings {\n    display: flex;\n    flex-direction: column;\n    gap: 1.5rem;\n    padding: 1rem;\n    margin: 1rem 0;\n    .nylas-customize-booking-settings__settings-div {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n  }\n}\n\n.label {\n  margin-left: 32px;\n  font-size: 16px;\n  font-weight: 400;\n  color: var(--nylas-base-800);\n  line-height: 24px;\n  .label-contents {\n    margin: 0;\n    display: inline-block;\n    @media #{$mobile} {\n      display: block;\n    }\n  }\n  tooltip-component {\n    display: inline-block;\n  }\n}\n\ntooltip-component#guests::part(tc__content) {\n  @media #{$mobile} {\n    left: 58px;\n  }\n}\n\ntooltip-component#reschedule::part(tc__content) {\n  left: 58px;\n  @media #{$mobile} {\n    left: 58px;\n  }\n}\n\ntooltip-component#cancel::part(tc__content) {\n  left: -58px;\n  @media #{$mobile} {\n    left: 58px;\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-customize-booking-settings` component is a UI component that displays the booking calendar picker.\n * @part ncbs - The booking calendar picker container\n * @part ncbs__header - The header of the booking calendar picker\n * @part ncbs__settings - The settings container\n * @part ncbs__settings-div - The div inside the settings container that contains the checkbox and tooltip for each setting\n * @part ncbs__additional_guests - The additional guests setting\n * @part ncbs__cancellation_options - The cancellation options setting\n * @part ncbs__rescheduling_options - The rescheduling options setting\n */\n@Component({\n  tag: 'nylas-customize-booking-settings',\n  styleUrl: 'nylas-customize-booking-settings.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasCustomizeBookingSettings {\n  @Element() host!: HTMLNylasCustomizeBookingSettingsElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * @deprecated The default additional guests hidden setting as set in the configuration.\n   */\n  @Prop() defaultHideAdditionalGuests: boolean = this.selectedConfiguration?.scheduler?.hide_additional_guests ?? false;\n\n  /**\n   * @deprecated The default hide cancellation options setting as set in the configuration.\n   */\n  @Prop() defaultHideCancellationOptions: boolean = this.selectedConfiguration?.scheduler?.hide_cancellation_options ?? false;\n\n  /**\n   * @deprecated The default hide rescheduling options setting as set in the configuration.\n   */\n  @Prop() defaultHideReschedulingOptions: boolean = this.selectedConfiguration?.scheduler?.hide_rescheduling_options ?? false;\n\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'customize-booking-settings';\n\n  /**\n   * State to store the allowed additional guests setting.\n   */\n  @State() allowGuestsToInvite!: boolean;\n\n  /**\n   * State to store the hide cancel booking setting.\n   */\n  @State() hideCancellationOptions!: boolean;\n\n  /**\n   * State to store the hide reschedule booking setting.\n   */\n  @State() hideReschedulingOptions!: boolean;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * This event is fired when the selected booking calendar changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-customize-booking-settings', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-customize-booking-settings', 'selectedConfigurationChangedHandler', newValue);\n    this.allowGuestsToInvite = !newValue?.scheduler?.hide_additional_guests;\n    this.hideCancellationOptions = newValue?.scheduler?.hide_cancellation_options ?? false;\n    this.hideReschedulingOptions = newValue?.scheduler?.hide_rescheduling_options ?? false;\n  }\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-customize-booking-settings', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-customize-booking-settings', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-customize-booking-settings', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-customize-booking-settings', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      // Set the default values if the selected configuration is not available\n      this.allowGuestsToInvite = true;\n      this.hideCancellationOptions = false;\n      this.hideReschedulingOptions = false;\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-customize-booking-settings', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-customize-booking-settings', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-customize-booking-settings', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-customize-booking-settings', 'componentDidRender');\n  }\n\n  @Listen('nylasFormCheckboxToggled')\n  checkboxToggledHandler(event: CustomEvent<{ name: string; checked: boolean }>) {\n    const { name, checked } = event.detail;\n    switch (name) {\n      case 'hide_additional_guests':\n        this.allowGuestsToInvite = checked;\n        break;\n      case 'hide_cancellation_options':\n        this.hideCancellationOptions = checked;\n        break;\n      case 'hide_rescheduling_options':\n        this.hideReschedulingOptions = checked;\n        break;\n    }\n    this.valueChanged.emit({\n      value: JSON.stringify({\n        additionalGuestsHidden: !this.allowGuestsToInvite,\n        hideCancellationOptions: this.hideCancellationOptions,\n        hideReschedulingOptions: this.hideReschedulingOptions,\n      }),\n      name: this.name,\n    });\n    this.internals.setFormValue(\n      JSON.stringify({\n        additionalGuestsHidden: !this.allowGuestsToInvite,\n        hideCancellationOptions: this.hideCancellationOptions,\n        hideReschedulingOptions: this.hideReschedulingOptions,\n      }),\n      this.name,\n    );\n  }\n\n  @RegisterComponent<NylasCustomizeBookingSettings, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-customize-booking-settings',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    const showComponent = typeof this.hideCancellationOptions === 'boolean' && typeof this.hideReschedulingOptions === 'boolean' && typeof this.allowGuestsToInvite === 'boolean';\n\n    return (\n      <Host>\n        {showComponent && (\n          <div class=\"nylas-customize-booking-settings\" part=\"ncbs\">\n            <div class=\"header\" part=\"ncbs__header\">\n              <h3>Additional settings</h3>\n              <p>Booking settings for the event.</p>\n            </div>\n\n            <div class=\"nylas-customize-booking-settings__settings\" part=\"ncbs__settings\">\n              <div class=\"nylas-customize-booking-settings__settings-div\" part=\"ncbs__settings-div , ncbs__additional_guests\">\n                <checkbox-component name=\"hide_additional_guests\" label=\"Allow guests to invite additional guests.\" checked={this.allowGuestsToInvite}>\n                  <span slot=\"label\" class=\"label\">\n                    <p class=\"label-contents\">Allow guests to invite additional guests.</p>\n                  </span>\n                </checkbox-component>\n              </div>\n              <div class=\"nylas-customize-booking-settings__settings-div\" part=\"ncbs__settings-div , ncbs__rescheduling_options\">\n                <checkbox-component name=\"hide_rescheduling_options\" label=\"Hide 'Reschedule' option on booking page and emails.\" checked={this.hideReschedulingOptions}>\n                  <span slot=\"label\" class=\"label\">\n                    <p class=\"label-contents\">Hide rescheduling option.</p>\n                    <tooltip-component id=\"reschedule\">\n                      <info-icon slot=\"tooltip-icon\" />\n                      <span slot=\"tooltip-content\">\n                        Hide the&nbsp;<strong>Reschedule</strong>&nbsp;button in the booking confirmation and email notifications.\n                      </span>\n                    </tooltip-component>\n                  </span>\n                </checkbox-component>\n              </div>\n              <div class=\"nylas-customize-booking-settings__settings-div\" part=\"ncbs__settings-div , ncbs__cancellation_options\">\n                <checkbox-component name=\"hide_cancellation_options\" label=\"Hide 'Cancel' option on booking page and emails.\" checked={this.hideCancellationOptions}>\n                  <span slot=\"label\" class=\"label\">\n                    <p class=\"label-contents\">Hide cancellation option.</p>\n                    <tooltip-component id=\"cancel\">\n                      <info-icon slot=\"tooltip-icon\" />\n                      <span slot=\"tooltip-content\">\n                        Hide the&nbsp;<strong>Cancel</strong>&nbsp;button in the booking confirmation and email notifications.\n                      </span>\n                    </tooltip-component>\n                  </span>\n                </checkbox-component>\n              </div>\n            </div>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n"],"version":3}