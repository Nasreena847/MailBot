{"version":3,"names":["iconCss","CalendarAgendaFillIconStyle0","CalendarAgendaFillIcon","render","h","key","width","this","height","fill","xmlns","d","CalendarAgendaIconStyle0","CalendarAgendaIcon","CalendarInfoIconStyle0","CalendarInfoIcon","CalendarPatternsIconStyle0","CalendarPatternsIcon","CheckmarkIconStyle0","CheckmarkIcon","viewBox","DragableIconStyle0","DragableIcon","EnvelopeFillIconStyle0","EnvelopeFillIcon","EnvelopeIconStyle0","EnvelopeIcon","FlowIconStyle0","FlowIcon","GoogleMeetIconStyle0","GoogleMeetIcon","id","inputImageUrlCss","InputImageUrlStyle0","InputImageUrl","componentType","imageUrl","connectedCallback","debug","disconnectedCallback","componentWillLoad","host","setAttribute","name","componentDidLoad","currentImageUrl","setImage","componentWillUpdate","componentDidUpdate","componentWillRender","componentDidRender","elementNameChangedHandler","newValue","nylasFormInputChangedHandler","event","value","detail","nylasFormInputBlurHandler","errorMessage","isValidImage","then","internals","setValidity","setFormValue","valueChanged","emit","catch","customError","Host","class","type","required","exportparts","defaultValue","src","alt","__decorate","RegisterComponent","eventToProps","async","_nylasSchedulerConfigConnector","LocationIconStyle0","LocationIcon","LocationOffIconStyle0","LocationOffIcon","MicrosoftTeamsIconStyle0","opacity","x1","y1","x2","y2","gradientUnits","offset","nylasAdditionalParticipantsCss","NylasAdditionalParticipantsStyle0","NylasAdditionalParticipants","eventParticipants","selectedConfiguration","availability","availability_rules","availability_method","selectedConfigurationChangedHandler","isRoundRobinConfig","participants","updateFormValue","includeOrganizerAsParticipant","find","p","email","currentUser","findCurrentUserInParticipants","is_organizer","calendar_ids","booking","calendar_id","onInputOptionChanged","EMAIL_REGEX","index","participant","participantOptions","participantErrors","is_valid","test","undefined","addParticipant","removeParticipant","filter","_","i","validate","regex","valid","String","toLowerCase","length","error","JSON","stringify","getArrayDifference","array1","array2","filtered","participant1","some","participant2","map","label","slot","part","organizer","readOnly","onClick","checked","htmlFor","filterable","inputValue","options","stateToProps","Map","fireRegisterEvent","nylasAvailabilityPickerCss","NylasAvailabilityPickerStyle0","NylasAvailabilityPicker","Intl","DateTimeFormat","resolvedOptions","timeZone","SUN","MON","start","end","TUE","WED","THU","FRI","SAT","configChangedHandler","newConfig","defaultOpenHours","default_open_hours","DEFAULT_OPEN_HOURS","openHours","openHoursToSchedule","scheduleChanged","oldValue","overlapDays","Object","keys","forEach","dayTimeRanges","overlaps","getOverlaps","element","shadowRoot","getElementById","scheduleToOpenHours","schedule","timezone","nylasFormDropdownChangedHandler","updateValue","defaultTimezone","timeRanges","timeRangesInMinutes","range","timeToMinutes","originalIndex","sort","a","b","includes","push","addTimeRange","day","currentTimeRanges","dayStart","dayEnd","lastRangeEnd","convertTo12HourFormat","minutesToTime","gapFound","currentEnd","nextStart","removeTimeRange","splice","setTime","dayIndex","timeType","split","setFormError","newSchedule","openHour","days","dayKey","getDayKey","start12hr","end12hr","timeRange","timeRangeExists","dayKeys","openHoursMap","start24hr","convertTo24HourFormat","end24hr","has","set","entry","get","selectedOpenHours","_key","timezoneOptions","TIMEZONE_MAP","selectedTimezoneOption","hideHeader","defaultSelectedOption","timeRangeIndex","startKey","endKey","hasError","time","minimumStartTime","nylasBookingCalendarPickerCss","NylasBookingCalendarPickerStyle0","NylasBookingCalendarPicker","defaultBookingCalendar","toString","selectedCalendar","currentUserCalendarsChangedHandler","currentUserCalendars","currentUserCalendarOptions","calendar","optionsFromCalendars","calendars","calendarOptions","withSearch","cal","nylasBookingConfirmationRedirectCss","NylasBookingConfirmationRedirectStyle0","NylasBookingConfirmationRedirect","scheduler","confirmation_redirect_url","currentRedirectUrl","acceptUrl","redirectUrl","componentLoaded","redirectUrlErrorMessage","isValidUrl","formSubmittedHandler","_event","redirectOptions","option","placeholder","nylasBookingConfirmationTypeCss","NylasBookingConfirmationTypeStyle0","NylasBookingConfirmationType","event_booking","booking_type","selectedBookingType","showDropdown","organizer_confirmation_url","bookingType","bookingOptions","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread2","target","arguments","source","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_typeof","obj","Symbol","iterator","constructor","prototype","configurable","writable","_extends","assign","hasOwnProperty","call","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_objectWithoutProperties","sourceSymbolKeys","propertyIsEnumerable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","Array","isArray","_arrayLikeToArray","iter","from","o","minLen","n","slice","len","arr2","TypeError","version","userAgent","pattern","window","navigator","match","IE11OrLess","Edge","FireFox","Safari","IOS","ChromeForAndroid","captureMode","capture","passive","on","el","fn","addEventListener","off","removeEventListener","matches","selector","substring","msMatchesSelector","webkitMatchesSelector","getParentOrHost","document","nodeType","parentNode","closest","ctx","includeCTX","R_SPACE","toggleClass","state","classList","className","replace","css","prop","val","style","defaultView","getComputedStyle","currentStyle","matrix","selfOnly","appliedTransforms","transform","matrixFn","DOMMatrix","WebKitCSSMatrix","CSSMatrix","MSCSSMatrix","tagName","list","getElementsByTagName","getWindowScrollingElement","scrollingElement","documentElement","getRect","relativeToContainingBlock","relativeToNonStaticParent","undoScale","container","getBoundingClientRect","elRect","top","left","bottom","right","innerHeight","innerWidth","containerRect","parseInt","elMatrix","scaleX","scaleY","isScrolledPast","elSide","parentSide","parent","getParentAutoScrollElement","elSideVal","parentSideVal","visible","getChild","childNum","includeDragEl","currentChild","children","display","Sortable","ghost","dragged","draggable","lastChild","last","lastElementChild","previousElementSibling","nodeName","toUpperCase","clone","getRelativeScrollOffset","offsetLeft","offsetTop","winScroller","scrollLeft","scrollTop","indexOfObject","Number","includeSelf","elem","gotSelf","clientWidth","scrollWidth","clientHeight","scrollHeight","elemCSS","overflowX","overflowY","body","extend","dst","isRectEqual","rect1","rect2","Math","round","_throttleTimeout","throttle","callback","ms","args","_this","setTimeout","cancelThrottle","clearTimeout","scrollBy","x","y","Polymer","$","jQuery","Zepto","dom","cloneNode","setRect","rect","unsetRect","getChildContainingRectFromElement","ghostEl","child","_rect$left","_rect$top","_rect$right","_rect$bottom","animated","childRect","min","Infinity","max","expando","Date","getTime","AnimationStateManager","animationStates","animationCallbackId","captureAnimationState","animation","fromRect","thisAnimationDuration","childMatrix","f","e","addAnimationState","removeAnimationState","animateAll","animating","animationTime","toRect","prevFromRect","prevToRect","animatingRect","targetMatrix","calculateRealTime","animate","animationResetTimer","currentRect","duration","translateX","translateY","animatingX","animatingY","forRepaintDummy","repaint","easing","offsetWidth","sqrt","pow","plugins","defaults","initializeByDefault","PluginManager","mount","plugin","pluginName","concat","pluginEvent","eventName","sortable","evt","eventCanceled","cancel","eventNameGlobal","initializePlugins","initialized","modified","modifyOption","getEventProperties","eventProperties","modifiedValue","optionListeners","dispatchEvent","_ref","rootEl","targetEl","cloneEl","toEl","fromEl","oldIndex","newIndex","oldDraggableIndex","newDraggableIndex","originalEvent","putSortable","extraEventProperties","onName","charAt","substr","CustomEvent","bubbles","cancelable","createEvent","initEvent","to","item","pullMode","lastPutMode","allEventProperties","_excluded","data","bind","dragEl","parentEl","nextEl","lastDownEl","cloneHidden","dragStarted","moved","activeSortable","active","hideGhostForTarget","_hideGhostForTarget","unhideGhostForTarget","_unhideGhostForTarget","cloneNowHidden","cloneNowShown","dispatchSortableEvent","_dispatchEvent","info","activeGroup","awaitingDragStarted","ignoreNextClick","sortables","tapEvt","touchEvt","lastDx","lastDy","tapDistanceLeft","tapDistanceTop","lastTarget","lastDirection","pastFirstInvertThresh","isCircumstantialInvert","targetMoveDistance","ghostRelativeParent","ghostRelativeParentInitialScroll","_silent","savedInputChecked","documentExists","PositionGhostAbsolutely","CSSFloatProperty","supportDraggable","createElement","supportCssPointerEvents","cssText","pointerEvents","_detectDirection","elCSS","elWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","child1","child2","firstChildCSS","secondChildCSS","firstChildWidth","marginLeft","marginRight","secondChildWidth","flexDirection","gridTemplateColumns","touchingSideChild2","clear","_dragElInRowColumn","dragRect","targetRect","vertical","dragElS1Opp","dragElS2Opp","dragElOppLength","targetS1Opp","targetS2Opp","targetOppLength","_detectNearestEmptySortable","ret","threshold","emptyInsertThreshold","insideHorizontally","insideVertically","_prepareGroup","toFn","pull","sameGroup","group","otherGroup","join","originalGroup","checkPull","checkPut","put","revertClone","preventDefault","stopPropagation","stopImmediatePropagation","nearestEmptyInsertDetectEvent","touches","nearest","clientX","clientY","_onDragOver","_checkOutsideTargetEl","_isOutsideThisEl","disabled","store","handle","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","ghostClass","chosenClass","dragClass","ignore","preventOnFilter","setData","dataTransfer","textContent","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","devicePixelRatio","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","nativeDraggable","_onTapStart","contains","_getDirection","touch","pointerType","originalTarget","path","composedPath","_saveInputCheckedState","button","isContentEditable","criteria","trim","_prepareDragStart","ownerDocument","dragStartFn","nextSibling","_lastX","_lastY","_onDrop","_disableDelayedDragEvents","_triggerDragStart","_disableDraggable","_disableDelayedDrag","_delayedDragTouchMoveHandler","_dragStartTimer","abs","floor","_onTouchMove","_onDragStart","selection","_nextTick","empty","getSelection","removeAllRanges","err","_dragStarted","fallback","_appendGhost","_nulling","_emulateDragOver","elementFromPoint","inserted","ghostMatrix","relativeScrollOffset","dx","dy","c","cssMatrix","appendChild","removeAttribute","_hideClone","cloneId","insertBefore","_loopId","setInterval","effectAllowed","_dragStartId","revert","isOwner","canSort","fromSortable","completedFired","dragOverEvent","extra","axis","completed","onMove","after","_onMove","changed","insertion","_showClone","_ignoreWhileAnimating","elLastChild","_ghostIsLast","_ghostIsFirst","firstChild","targetBeforeFirstSwap","differentLevel","differentRowCol","side1","scrolledPastTop","scrollBefore","_getSwapDirection","sibling","dragIndex","nextElementSibling","moveVector","_unsilent","_offMoveEvents","_offUpEvents","clearInterval","_cancelNextTick","removeChild","save","handleEvent","_globalDragOver","toArray","order","getAttribute","_generateId","useAnimation","items","closest$1","destroy","querySelectorAll","dropEffect","willInsertAfter","onMoveFn","retVal","draggedRect","related","relatedRect","firstElRect","childContainingRect","spacer","lastElRect","isLastTarget","mouseOnAxis","targetLength","targetS1","targetS2","invert","_getInsertDirection","str","href","sum","charCodeAt","root","inputs","idx","utils","is","nextTick","cancelNextTick","detectDirection","_len","create","autoScrolls","scrollEl","scrollRootEl","scrolling","lastAutoScrollX","lastAutoScrollY","touchEvt$1","pointerElemChangedInterval","AutoScrollPlugin","AutoScroll","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","_handleAutoScroll","_handleFallbackAutoScroll","dragOverCompleted","_ref2","dragOverBubble","drop","clearPointerElemChangedInterval","clearAutoScrolls","nulling","autoScroll","ogElemScroller","newElem","pid","isFallback","sens","speed","scrollThisInstance","scrollCustomFn","scrollFn","layersOut","currentParent","canScrollX","canScrollY","scrollPosX","scrollPosY","vx","vy","layer","scrollOffsetY","scrollOffsetX","toSortable","changedTouches","onSpill","Revert","startIndex","dragStart","_ref3","Remove","_ref4","parentSortable","lastSwapEl","SwapPlugin","Swap","swapClass","dragOverValid","swap","prevSwapEl","swapNodes","swapItem","n1","n2","p1","p2","i1","i2","isEqualNode","multiDragElements","multiDragClones","lastMultiDragSelect","multiDragSortable","initialFolding","folding","dragEl$1","clonesFromRect","clonesHidden","MultiDragPlugin","MultiDrag","avoidImplicitDeselect","_deselectMultiDrag","_checkKeyDown","_checkKeyUp","selectedClass","multiDragKey","multiDragElement","multiDragKeyDown","isMultiDrag","delayStartGlobal","delayEnded","setupClone","sortableIndex","insertMultiDragClones","showClone","hideClone","_ref5","dragStartGlobal","_ref6","multiDrag","_ref7","_this2","removeMultiDragElements","dragOver","_ref8","_ref9","insertMultiDragElements","_ref10","dragRectAbsolute","clonesHiddenBefore","dragOverAnimationCapture","_ref11","dragMatrix","dragOverAnimationComplete","_ref12","shiftKey","lastIndex","currentIndex","multiDragIndex","update","nullingGlobal","destroyGlobal","shift","select","deselect","_this3","oldIndicies","newIndicies","clones","clonesInserted","elementsInserted","nylasBookingFormConfigCss","NylasBookingFormConfigStyle0","NylasBookingFormConfig","staticFields","typeLabel","readonly","isOpen","formFields","additionalFields","entries","additional_fields","field","additonalFields","FIELD_TYPES","onEnd","swapFields","watchHandler","sortedFields","addFieldsMap","reduce","acc","maxOrder","newField","existingFieldWithLabel","startsWith","fieldIndex","optionIndex","fieldOptionChange","fieldLabelChange","newArray","fieldToggle","fieldRemove","fieldRequired","fieldOptionAdd","fieldOptionRemove","DEFAULT_FORM_FIELD_TYPES","withChevron","dropdownButtonText","j","nylasBufferTimeCss","NylasBufferTimeStyle0","NylasBufferTime","buffer","before","selectedBeforeBufferTime","selectedAfterBufferTime","bufferTime","renderPreview","totalSlots","slotHeight","eventSlotHeight","slotFill","minutes","fullSlots","partialFillHeight","createBeforeSlots","isActive","isPartial","slotStyle","backgroundColor","background","createAfterSlots","minuteOptions","nylasCalendarPickerCss","NylasCalendarPickerStyle0","NylasCalendarPicker","defaultSelectedCalendars","selectedOptionsChangedHandler","valueChangedHandler","selectedCalendars","selected","nylasCancellationPolicyCss","NylasCancellationPolicyStyle0","NylasCancellationPolicy","message","cancellation_policy","cancellationPolicy","handleChange","sanitize","maxlength","onInput","nylasConfirmationEmailCss","NylasConfirmationEmailStyle0","NylasConfirmationEmail","confirmationEmail","confirmationEmailTemplate","isConfirmationEmailOpen","participantsState","email_template","reminders","overrides","nylasFormInputChangeHandler","booking_confirmed","title","handleEmailBodyChange","logo","updateConfirmationFormValue","toggleConfirmationEmail","organizerName","variant","clickHandler","maxLength","tooltip","nylasConnectedCalendarsCss","NylasConnectedCalendarsStyle0","NylasConnectedCalendars","setParticipants","calendarsChangedHandler","participantCalendars","getParticipantCalendarOptions","participantsChangedHandler","participantOptionsChangedHandler","addedParticipants","availableParticipantOptions","availableParticipant","remainingParticipants","participantOption","participantDefaultSelectedCalendars","calendarId","handleValueChanged","connectedCalendarsFormRef","checkValidity","participantsCalendars","selectedParticipants","ref","nylasCustomBookingFlowCss","NylasCustomBookingFlowStyle0","NylasCustomBookingFlow","checkForMissingSlots","nylasCustomEventSlugCss","NylasCustomEventSlugStyle0","NylasCustomEventSlug","urlSlug","defaultUrlSlug","slug","nylasFormInputFocusHandler","focus","slugErrorMessage","requiresSlug","toggleDrawer","copyToClipboard","clipboard","writeText","copied","console","isComponentReady","icon","nylasCustomizeBookingSettingsCss","NylasCustomizeBookingSettingsStyle0","NylasCustomizeBookingSettings","hide_additional_guests","hide_cancellation_options","hide_rescheduling_options","allowGuestsToInvite","hideCancellationOptions","hideReschedulingOptions","checkboxToggledHandler","additionalGuestsHidden","showComponent","nylasEventDescriptionCss","NylasEventDescriptionStyle0","NylasEventDescription","eventDescription","description","nylasEventDurationCss","NylasEventDurationStyle0","NylasEventDuration","eventDurationMinutes","newVal","configDuration","duration_minutes","durationMinutes","durationIncrement","durationMinutesChangedHandler","setDurationMintueOptions","durationMinutesOptions","inputOptionChangedHandler","durationOptions","defaultInputOption","pluralizedLabel","nylasEventInfoCss","NylasEventInfoStyle0","NylasEventInfo","nylasEventLimitsCss","NylasEventLimitsStyle0","NylasEventLimits","nylasEventLocationCss","NylasEventLocationStyle0","NylasEventLocation","eventLocation","eventConferencing","setDefaultGrantID","setDefaultLocationOption","location","userProvider","configLocation","configConferencing","conferencing","provider","selectedLocationOption","grantId","userProviderState","payload","googleConfGrantId","conferenceProviders","PROVIDER_CONFERENCE_MAP","google","autocreate","conf_grant_id","microsoftConfGrantId","microsoft","zoomConfGrantId","zoom","CONFERENCE_PROVIDER_MAP","locationOptions","newLocationOptions","defaultOption","icons","none","custom","locationIcon","nylasEventTitleCss","NylasEventTitleStyle0","NylasEventTitle","eventTitleTokens","token","labelHTML","availableTokens","$value","fullText","focusOffset","ariaActivedescendantChangedHandler","activeOption","add","remove","configEventTitle","updateEventTitleFromProp","eventTitle","validity","validationError","titleRef","innerHTML","highlightTokens","outputHtml","tokenObj","RegExp","getCurrentSelectionForBrowser","getSelectionTextData","nodeValue","node","allSelected","text","dollarIndex","lastIndexOf","lastWord","currentText","isAllSelected","anchorOffset","focusNode","currentBrowser","getBrowser","shadowRootSelection","focusNodeValue","anchorNodeValue","anchorNode","allSelectedFirefox","windowSelection","getComposedRanges","startContainer","allSelectedSafari","endOffset","warn","currentSelection","updateEventTitle","resetDropdown","showTokens","currentWord","populateSuggestionsDropdown","handleInputKeyDown","isNonPrintableKey","ariaActivedescendant","click","nextOption","filteredTokens","prevOption","selectOption","word","dollarWord","currentNode","textNode","currentNodeText","wordText","textBefore","textAfter","newTextNode","createTextNode","newRange","createRange","tagSpan","newTextNodeAfter","replaceWith","setStart","afterNode","sel","collapse","addRange","query","getLabelHTML","contentEditable","onKeyDown","tabindex","role","nylasLimitFutureBookingsCss","NylasLimitFutureBookingsStyle0","NylasLimitFutureBookings","daysInFuture","available_days_in_future","availableDaysInFuture","updateNumberAndPeriodFromDays","timePeriodChangedHandler","number","period","selectedNumber","selectedPeriod","showTImePeriodSelector","timePeriods","defaultSelectedNumber","defaultSelectedPeriod","nylasMinBookingNoticeCss","NylasMinBookingNoticeStyle0","NylasMinBookingNotice","minBookingNotice","min_booking_notice","updateNumberAndPeriodFromMinutes","totalMinutes","minutesInHour","minutesInDay","minutesInWeek","minutesInMonth","nylasMinCancellationNoticeCss","NylasMinCancellationNoticeStyle0","NylasMinCancellationNotice","minCancellationNotice","min_cancellation_notice","showTimePeriodSelector","nylasPageNameCss","NylasPageNameStyle0","NylasPageName","currentPageName","pageName","showToggle","nylasPageStylingCss","NylasPageStylingStyle0","NylasPageStyling","customInputsSlotChangedHandler","appearance","currentAppearance","updateInputDefaultValues","hasAttribute","selectedOption","parse","childNodes","Node","ELEMENT_NODE","cloneAndCopyProps","clonedElement","log","parsedOptions","clonedChild","TEXT_NODE","editor","querySelector","slotElement","divElement","slottedElements","assignedElements","flatten","bodyElement","slotContainer","customInputsSlot","checkIfElementIsInSlot","findElement","submit_button_label","thank_you_message","color","company_logo_url","radioChangedHandler","subsection","hide","nylasParticipantBookingCalendarsCss","NylasParticipantBookingCalendarsStyle0","NylasParticipantBookingCalendars","showAdditionalParticipantBookingCalendars","participantDefaultSelectedCalendar","bookingCalendarsFormRef","nylasParticipantsCustomAvailabilityCss","NylasParticipantsCustomAvailabilityStyle0","NylasParticipantsCustomAvailability","nylasFormSwitchToggledHandler","open_hours","participantFormRef","jsonValue","participantOpenHours","setCustom","nylasSchedulingMethodCss","NylasSchedulingMethodStyle0","NylasSchedulingMethod","bookingtType","bookingTypeOptions","defaultBookingType","hasAdditionalParticipants","nylasTimeslotIntervalCss","NylasTimeslotIntervalStyle0","defaultRoundToMinutes","NylasTimeslotInterval","interval_minutes","round_to","internalEventDurationMinutes","internalIntervalMinutes","selectedInterval","roundToMinutes","selectedRoundTo","interval","roundTo","nylasFormRadioChangedHandler","intervalPreferenceOptions","defaultSelectedInterval","op","defaultSelectedValue","PaintbrushFillIconStyle0","PaintbrushFillIcon","PaintbrushIconStyle0","PaintbrushIcon","PeopleIconStyle0","PeopleIcon","toggleSwitchCss","ToggleSwitchStyle0","ToggleSwitchComponent","isChecked","toggleCheck","nylasFormSwitchToggled","onChange","ZoomIconStyle0","ZoomIcon"],"sources":["src/common/icons/icon.css?tag=calendar-agenda-fill-icon&encapsulation=scoped","src/common/icons/calendar-agenda-fill.tsx","src/common/icons/icon.css?tag=calendar-agenda-icon&encapsulation=scoped","src/common/icons/calendar-agenda.tsx","src/common/icons/icon.css?tag=calendar-info-icon&encapsulation=scoped","src/common/icons/calendar-info.tsx","src/common/icons/icon.css?tag=calendar-patterns-icon&encapsulation=scoped","src/common/icons/calendar-patterns.tsx","src/common/icons/icon.css?tag=checkmark-icon&encapsulation=scoped","src/common/icons/checkmark.tsx","src/common/icons/icon.css?tag=dragable-icon&encapsulation=scoped","src/common/icons/dragable.tsx","src/common/icons/icon.css?tag=envelope-fill-icon&encapsulation=scoped","src/common/icons/envelope-fill.tsx","src/common/icons/icon.css?tag=envelope-icon&encapsulation=scoped","src/common/icons/envelope.tsx","src/common/icons/icon.css?tag=flow-icon&encapsulation=scoped","src/common/icons/flow.tsx","src/common/icons/icon.css?tag=google-meet-icon&encapsulation=scoped","src/common/icons/google-meet.tsx","src/components/design-system/input-image-url/input-image-url.scss?tag=input-image-url&encapsulation=shadow","src/components/design-system/input-image-url/input-image-url.tsx","src/common/icons/icon.css?tag=location-icon&encapsulation=scoped","src/common/icons/location.tsx","src/common/icons/icon.css?tag=location-off-icon&encapsulation=scoped","src/common/icons/location-off.tsx","src/common/icons/icon.css?tag=microsoft-teams-icon&encapsulation=scoped","src/common/icons/microsof-teams.tsx","src/components/scheduler-editor/nylas-additional-participants/nylas-additional-participants.scss?tag=nylas-additional-participants&encapsulation=shadow","src/components/scheduler-editor/nylas-additional-participants/nylas-additional-participants.tsx","src/components/scheduler-editor/nylas-availability-picker/nylas-availability-picker.scss?tag=nylas-availability-picker&encapsulation=shadow","src/components/scheduler-editor/nylas-availability-picker/nylas-availability-picker.tsx","src/components/scheduler-editor/nylas-booking-calendar-picker/nylas-booking-calendar-picker.scss?tag=nylas-booking-calendar-picker&encapsulation=shadow","src/components/scheduler-editor/nylas-booking-calendar-picker/nylas-booking-calendar-picker.tsx","src/components/scheduler-editor/nylas-booking-confirmation-redirect/nylas-booking-confirmation-redirect.scss?tag=nylas-booking-confirmation-redirect&encapsulation=shadow","src/components/scheduler-editor/nylas-booking-confirmation-redirect/nylas-booking-confirmation-redirect.tsx","src/components/scheduler-editor/nylas-booking-confirmation-type/nylas-booking-confirmation-type.scss?tag=nylas-booking-confirmation-type&encapsulation=shadow","src/components/scheduler-editor/nylas-booking-confirmation-type/nylas-booking-confirmation-type.tsx","../../node_modules/.pnpm/sortablejs@1.15.2/node_modules/sortablejs/modular/sortable.complete.esm.js","src/components/scheduler-editor/nylas-booking-form-config/nylas-booking-form-config.scss?tag=nylas-booking-form-config&encapsulation=shadow","src/components/scheduler-editor/nylas-booking-form-config/nylas-booking-form-config.tsx","src/components/scheduler-editor/nylas-buffer-time/nylas-buffer-time.scss?tag=nylas-buffer-time&encapsulation=shadow","src/components/scheduler-editor/nylas-buffer-time/nylas-buffer-time.tsx","src/components/scheduler-editor/nylas-calendar-picker/nylas-calendar-picker.scss?tag=nylas-calendar-picker&encapsulation=shadow","src/components/scheduler-editor/nylas-calendar-picker/nylas-calendar-picker.tsx","src/components/scheduler-editor/nylas-cancellation-policy/nylas-cancellation-policy.scss?tag=nylas-cancellation-policy&encapsulation=shadow","src/components/scheduler-editor/nylas-cancellation-policy/nylas-cancellation-policy.tsx","src/components/scheduler-editor/nylas-confirmation-email/nylas-confirmation-email.scss?tag=nylas-confirmation-email&encapsulation=shadow","src/components/scheduler-editor/nylas-confirmation-email/nylas-confirmation-email.tsx","src/components/scheduler-editor/nylas-connected-calendars/nylas-connected-calendars.scss?tag=nylas-connected-calendars&encapsulation=shadow","src/components/scheduler-editor/nylas-connected-calendars/nylas-connected-calendars.tsx","src/components/scheduler-editor/nylas-custom-booking-flow/nylas-custom-booking-flow.scss?tag=nylas-custom-booking-flow&encapsulation=shadow","src/components/scheduler-editor/nylas-custom-booking-flow/nylas-custom-booking-flow.tsx","src/components/scheduler-editor/nylas-custom-event-slug/nylas-custom-event-slug.scss?tag=nylas-custom-event-slug&encapsulation=shadow","src/components/scheduler-editor/nylas-custom-event-slug/nylas-custom-event-slug.tsx","src/components/scheduler-editor/nylas-customize-booking-settings/nylas-customize-booking-settings.scss?tag=nylas-customize-booking-settings&encapsulation=shadow","src/components/scheduler-editor/nylas-customize-booking-settings/nylas-customize-booking-settings.tsx","src/components/scheduler-editor/nylas-event-description/nylas-event-description.scss?tag=nylas-event-description&encapsulation=shadow","src/components/scheduler-editor/nylas-event-description/nylas-event-description.tsx","src/components/scheduler-editor/nylas-event-duration/nylas-event-duration.scss?tag=nylas-event-duration&encapsulation=shadow","src/components/scheduler-editor/nylas-event-duration/nylas-event-duration.tsx","src/components/scheduler-editor/nylas-event-info/nylas-event-info.scss?tag=nylas-event-info&encapsulation=shadow","src/components/scheduler-editor/nylas-event-info/nylas-event-info.tsx","src/components/scheduler-editor/nylas-event-limits/nylas-event-limits.scss?tag=nylas-event-limits&encapsulation=shadow","src/components/scheduler-editor/nylas-event-limits/nylas-event-limits.tsx","src/components/scheduler-editor/nylas-event-location/nylas-event-location.scss?tag=nylas-event-location&encapsulation=shadow","src/components/scheduler-editor/nylas-event-location/nylas-event-location.tsx","src/components/scheduler-editor/nylas-event-title/nylas-event-title.scss?tag=nylas-event-title&encapsulation=shadow","src/components/scheduler-editor/nylas-event-title/nylas-event-title.tsx","src/components/scheduler-editor/nylas-limit-future-bookings/nylas-limit-future-bookings.scss?tag=nylas-limit-future-bookings&encapsulation=shadow","src/components/scheduler-editor/nylas-limit-future-bookings/nylas-limit-future-bookings.tsx","src/components/scheduler-editor/nylas-min-booking-notice/nylas-min-booking-notice.scss?tag=nylas-min-booking-notice&encapsulation=shadow","src/components/scheduler-editor/nylas-min-booking-notice/nylas-min-booking-notice.tsx","src/components/scheduler-editor/nylas-min-cancellation-notice/nylas-min-cancellation-notice.scss?tag=nylas-min-cancellation-notice&encapsulation=shadow","src/components/scheduler-editor/nylas-min-cancellation-notice/nylas-min-cancellation-notice.tsx","src/components/scheduler-editor/nylas-page-name/nylas-page-name.scss?tag=nylas-page-name&encapsulation=shadow","src/components/scheduler-editor/nylas-page-name/nylas-page-name.tsx","src/components/scheduler-editor/nylas-page-styling/nylas-page-styling.scss?tag=nylas-page-styling&encapsulation=shadow","src/components/scheduler-editor/nylas-page-styling/nylas-page-styling.tsx","src/components/scheduler-editor/nylas-participant-booking-calendars/nylas-participant-booking-calendars.scss?tag=nylas-participant-booking-calendars&encapsulation=shadow","src/components/scheduler-editor/nylas-participant-booking-calendars/nylas-participant-booking-calendars.tsx","src/components/scheduler-editor/nylas-participants-custom-availability/nylas-participants-custom-availability.scss?tag=nylas-participants-custom-availability&encapsulation=shadow","src/components/scheduler-editor/nylas-participants-custom-availability/nylas-participants-custom-availability.tsx","src/components/scheduler-editor/nylas-scheduling-method/nylas-scheduling-method.scss?tag=nylas-scheduling-method&encapsulation=shadow","src/components/scheduler-editor/nylas-scheduling-method/nylas-scheduling-method.tsx","src/components/scheduler-editor/nylas-timeslot-interval/nylas-timeslot-interval.scss?tag=nylas-timeslot-interval&encapsulation=shadow","src/components/scheduler-editor/nylas-timeslot-interval/nylas-timeslot-interval.tsx","src/common/icons/icon.css?tag=paintbrush-fill-icon&encapsulation=scoped","src/common/icons/paintbrush-fill.tsx","src/common/icons/icon.css?tag=paintbrush-icon&encapsulation=scoped","src/common/icons/paintbrush.tsx","src/common/icons/icon.css?tag=people-icon&encapsulation=scoped","src/common/icons/people.tsx","src/components/design-system/toggle-switch/toggle-switch.scss?tag=toggle-switch&encapsulation=shadow","src/components/design-system/toggle-switch/toggle-switch.tsx","src/common/icons/icon.css?tag=zoom-icon&encapsulation=scoped","src/common/icons/zoom.tsx"],"sourcesContent":[":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'calendar-agenda-fill-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class CalendarAgendaFillIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M14 11.5C14 12.8807 12.8807 14 11.5 14H2.5C1.11929 14 0 12.8807 0 11.5V2.5C0 1.11929 1.11929 0 2.5 0H11.5C12.8807 0 14 1.11929 14 2.5V11.5ZM11 3.5C11 3.25454 10.8231 3.05039 10.5899 3.00806L10.5 3H3.5L3.41012 3.00806C3.17688 3.05039 3 3.25454 3 3.5C3 3.74546 3.17688 3.94961 3.41012 3.99194L3.5 4H10.5L10.5899 3.99194C10.8231 3.94961 11 3.74546 11 3.5ZM11 7C11 6.75454 10.8231 6.55039 10.5899 6.50806L10.5 6.5H3.5L3.41012 6.50806C3.17688 6.55039 3 6.75454 3 7C3 7.24546 3.17688 7.44961 3.41012 7.49194L3.5 7.5H10.5L10.5899 7.49194C10.8231 7.44961 11 7.24546 11 7ZM11 10.5C11 10.2545 10.8231 10.0504 10.5899 10.0081L10.5 10H3.5L3.41012 10.0081C3.17688 10.0504 3 10.2545 3 10.5C3 10.7455 3.17688 10.9496 3.41012 10.9919L3.5 11H10.5L10.5899 10.9919C10.8231 10.9496 11 10.7455 11 10.5Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'calendar-agenda-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class CalendarAgendaIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M14 11.5C14 12.8807 12.8807 14 11.5 14H2.5C1.11929 14 0 12.8807 0 11.5V2.5C0 1.11929 1.11929 0 2.5 0H11.5C12.8807 0 14 1.11929 14 2.5V11.5ZM13 11.5V2.5C13 1.67157 12.3284 1 11.5 1H2.5C1.67157 1 1 1.67157 1 2.5V11.5C1 12.3284 1.67157 13 2.5 13H11.5C12.3284 13 13 12.3284 13 11.5ZM11 3.5C11 3.74546 10.8231 3.94961 10.5899 3.99194L10.5 4H3.5C3.22386 4 3 3.77614 3 3.5C3 3.25454 3.17688 3.05039 3.41012 3.00806L3.5 3H10.5C10.7761 3 11 3.22386 11 3.5ZM11 7C11 7.24546 10.8231 7.44961 10.5899 7.49194L10.5 7.5H3.5C3.22386 7.5 3 7.27614 3 7C3 6.75454 3.17688 6.55039 3.41012 6.50806L3.5 6.5H10.5C10.7761 6.5 11 6.72386 11 7ZM11 10.5C11 10.7455 10.8231 10.9496 10.5899 10.9919L10.5 11H3.5C3.22386 11 3 10.7761 3 10.5C3 10.2545 3.17688 10.0504 3.41012 10.0081L3.5 10H10.5C10.7761 10 11 10.2239 11 10.5Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'calendar-info-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class CalendarInfoIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M12 0C13.3807 0 14.5 1.11929 14.5 2.5V6.59971C14.1832 6.43777 13.8486 6.30564 13.5 6.20703V4H1.5V11.5C1.5 12.3284 2.17157 13 3 13H6.70703C6.80564 13.3486 6.93777 13.6832 7.09971 14H3C1.61929 14 0.5 12.8807 0.5 11.5V2.5C0.5 1.11929 1.61929 0 3 0H12ZM12 1H3C2.17157 1 1.5 1.67157 1.5 2.5V3H13.5V2.5C13.5 1.67157 12.8284 1 12 1ZM11.375 9.5C11.375 9.15482 11.6548 8.875 12 8.875C12.3452 8.875 12.625 9.15482 12.625 9.5C12.625 9.84518 12.3452 10.125 12 10.125C11.6548 10.125 11.375 9.84518 11.375 9.5ZM12.5 13.5C12.5 13.7761 12.2761 14 12 14C11.7239 14 11.5 13.7761 11.5 13.5V11.5C11.5 11.2239 11.7239 11 12 11C12.2761 11 12.5 11.2239 12.5 11.5V13.5ZM7.5 11.5C7.5 9.01472 9.51472 7 12 7C14.4853 7 16.5 9.01472 16.5 11.5C16.5 13.9853 14.4853 16 12 16C9.51472 16 7.5 13.9853 7.5 11.5ZM8.5 11.5C8.5 13.433 10.067 15 12 15C13.933 15 15.5 13.433 15.5 11.5C15.5 9.567 13.933 8 12 8C10.067 8 8.5 9.567 8.5 11.5Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'calendar-patterns-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class CalendarPatternsIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M3.25 0H11.75C13.2688 0 14.5 1.23122 14.5 2.75V11.25C14.5 12.7688 13.2688 14 11.75 14H3.25C1.73122 14 0.5 12.7688 0.5 11.25V2.75C0.5 1.23122 1.73122 0 3.25 0ZM2 2.75V4H13V2.75C13 2.05964 12.4404 1.5 11.75 1.5H3.25C2.55964 1.5 2 2.05964 2 2.75ZM12.2071 5L8.20711 9H10.7929L13 6.79289V5H12.2071ZM10.7929 5H8.20711L4.20711 9H6.79289L10.7929 5ZM2.79289 9L6.79289 5H4.20711L2 7.20711V9H2.79289ZM2 5.79289L2.79289 5H2V5.79289ZM12.2071 9H13V8.20711L12.2071 9Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'checkmark-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class CheckmarkIcon {\n  @Prop() width: string = '18';\n  @Prop() height: string = '14';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} viewBox=\"0 0 18 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M1.53033 7.46967C1.23744 7.17678 0.762563 7.17678 0.46967 7.46967C0.176777 7.76256 0.176777 8.23744 0.46967 8.53033L4.96967 13.0303C5.26256 13.3232 5.73744 13.3232 6.03033 13.0303L17.0303 2.03033C17.3232 1.73744 17.3232 1.26256 17.0303 0.96967C16.7374 0.676777 16.2626 0.676777 15.9697 0.96967L5.5 11.4393L1.53033 7.46967Z\"\n          fill=\"#293056\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'dragable-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class DragableIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M15.5 18C16.3284 18 17 18.6716 17 19.5C17 20.3284 16.3284 21 15.5 21C14.6716 21 14 20.3284 14 19.5C14 18.6716 14.6716 18 15.5 18ZM8.5 18C9.32843 18 10 18.6716 10 19.5C10 20.3284 9.32843 21 8.5 21C7.67157 21 7 20.3284 7 19.5C7 18.6716 7.67157 18 8.5 18ZM15.5 11C16.3284 11 17 11.6716 17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11ZM8.5 11C9.32843 11 10 11.6716 10 12.5C10 13.3284 9.32843 14 8.5 14C7.67157 14 7 13.3284 7 12.5C7 11.6716 7.67157 11 8.5 11ZM15.5 4C16.3284 4 17 4.67157 17 5.5C17 6.32843 16.3284 7 15.5 7C14.6716 7 14 6.32843 14 5.5C14 4.67157 14.6716 4 15.5 4ZM8.5 4C9.32843 4 10 4.67157 10 5.5C10 6.32843 9.32843 7 8.5 7C7.67157 7 7 6.32843 7 5.5C7 4.67157 7.67157 4 8.5 4Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'envelope-fill-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class EnvelopeFillIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '13';\n\n  render() {\n    return (\n      <svg width=\"16\" height=\"13\" viewBox=\"0 0 16 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M16.0001 3.373V10.5C16.0001 11.8807 14.8808 13 13.5001 13H2.50008C1.11937 13 0 11.8807 0 10.5V3.373L7.74657 7.93097C7.90304 8.02301 8.09711 8.02301 8.25359 7.93097L16.0001 3.373ZM13.5001 0C14.7871 0 15.847 0.972604 15.9849 2.22293L8.00008 6.91991L0.0152595 2.22293C0.153116 0.972604 1.21302 0 2.50008 0H13.5001Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'envelope-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class EnvelopeIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '13';\n\n  render() {\n    return (\n      <svg width=\"16\" height=\"13\" viewBox=\"0 0 16 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M13.5 0C14.8807 0 16 1.11929 16 2.5V10.5C16 11.8807 14.8807 13 13.5 13H2.5C1.11929 13 0 11.8807 0 10.5V2.5C0 1.11929 1.11929 0 2.5 0H13.5ZM15 3.961L8.25351 7.93097C8.12311 8.00767 7.96661 8.02045 7.82751 7.96932L7.74649 7.93097L1 3.963V10.5C1 11.3284 1.67157 12 2.5 12H13.5C14.3284 12 15 11.3284 15 10.5V3.961ZM13.5 1H2.5C1.67157 1 1 1.67157 1 2.5V2.802L8 6.91991L15 2.801V2.5C15 1.67157 14.3284 1 13.5 1Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'flow-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class FlowIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '12';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M13 1.66211C11.8954 1.66211 11 2.55754 11 3.66211C11 4.76668 11.8954 5.66211 13 5.66211C14.1046 5.66211 15 4.76668 15 3.66211C15 2.55754 14.1046 1.66211 13 1.66211ZM10.0407 3.16678C10.2768 1.74563 11.5119 0.662109 13 0.662109C14.6569 0.662109 16 2.00526 16 3.66211C16 5.31896 14.6569 6.66211 13 6.66211C11.5162 6.66211 10.2839 5.58482 10.0428 4.16971C9.37629 4.23688 8.82682 4.7426 8.71466 5.41551L8.27173 8.07311C8.07929 9.22776 7.11428 10.087 5.9593 10.1574C5.72319 11.5786 4.48813 12.6621 3 12.6621C1.34315 12.6621 0 11.319 0 9.66211C0 8.00526 1.34315 6.66211 3 6.66211C4.48384 6.66211 5.71607 7.73939 5.95724 9.15451C6.62371 9.08734 7.17318 8.58162 7.28534 7.90871L7.72827 5.25111C7.92071 4.09646 8.88571 3.23718 10.0407 3.16678ZM3 7.66211C1.89543 7.66211 1 8.55754 1 9.66211C1 10.7667 1.89543 11.6621 3 11.6621C4.10457 11.6621 5 10.7667 5 9.66211C5 8.55754 4.10457 7.66211 3 7.66211Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'google-meet-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class GoogleMeetIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    // Spam icon svg\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_22_6251)\">\n          <path d=\"M11.3145 10.1036L13.2642 12.3321L15.8859 14.0076L16.343 10.1173L15.8859 6.31384L13.2139 7.78584L11.3145 10.1036Z\" fill=\"#00832D\" />\n          <path d=\"M0 13.6464V16.9607C0 17.7184 0.613714 18.3321 1.37143 18.3321H4.68571L5.37143 15.827L4.68571 13.6464L2.41143 12.9607L0 13.6464Z\" fill=\"#0066DA\" />\n          <path d=\"M4.68571 1.875L0 6.56071L2.41143 7.24643L4.68571 6.56071L5.36 4.40986L4.68571 1.875Z\" fill=\"#E94235\" />\n          <path d=\"M4.68571 6.56067H0V13.6464H4.68571V6.56067Z\" fill=\"#2684FC\" />\n          <path\n            d=\"M18.8798 3.85895L15.8855 6.31381V14.0075L18.8935 16.4738C19.3438 16.8258 20.0021 16.5047 20.0021 15.9321V4.38923C20.0021 3.80981 19.329 3.49209 18.8798 3.85895ZM11.3141 10.1035V13.6464H4.68555V18.3321H14.5141C15.2718 18.3321 15.8855 17.7184 15.8855 16.9607V14.0075L11.3141 10.1035Z\"\n            fill=\"#00AC47\"\n          />\n          <path d=\"M14.5141 1.875H4.68555V6.56071H11.3141V10.1036L15.8855 6.31614V3.24643C15.8855 2.48871 15.2718 1.875 14.5141 1.875Z\" fill=\"#FFBA00\" />\n        </g>\n        <defs>\n          <clipPath id=\"clip0_22_6251\">\n            <rect width=\"20\" height=\"20\" fill=\"white\" />\n          </clipPath>\n        </defs>\n      </svg>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.logo-container {\n  display: flex;\n  flex-direction: row;\n  gap: 2rem;\n\n  .input-container {\n    flex: 1;\n\n    span.error-message {\n      color: var(--nylas-error);\n    }\n  }\n\n  .logo {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 200px;\n    height: 100px;\n    border: var(--nylas-base-200) solid 1px;\n    border-radius: var(--nylas-border-radius-2x);\n    overflow: hidden;\n    padding: 10px;\n\n    img {\n      max-height: 100%;\n      max-width: 100%;\n      object-fit: contain;\n      object-position: center;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, isValidImage } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../../scheduler-editor/nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-image-input` component is a UI component that allows users input an image URL and see a preview of the image.\n *\n * @part iiu__logo-input-textfield - The image input textfield\n */\n@Component({\n  tag: 'input-image-url',\n  styleUrl: 'input-image-url.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class InputImageUrl {\n  @Element() host!: HTMLInputImageUrlElement;\n  private readonly componentType: string = 'image-url';\n\n  /**\n   * Image\n   */\n  @Prop({ attribute: 'image-url' }) imageUrl: string = '';\n  /**\n   * Error message to display when the image URL is invalid.\n   */\n  @Prop() errorMessage: string = '';\n  /**\n   * The name of the component\n   */\n  @Prop() name: string = 'input-image-url';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The current image URL state.\n   */\n  @State() currentImageUrl: string = this.imageUrl;\n\n  /**\n   * This event is fired when the image URL is changed\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-image-input', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-image-input', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-image-input', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n    this.host.setAttribute('component-type', this.componentType);\n  }\n\n  componentDidLoad() {\n    debug('nylas-image-input', 'componentDidLoad');\n    this.currentImageUrl = this.imageUrl;\n    this.setImage(this.imageUrl);\n  }\n\n  componentWillUpdate() {\n    debug('nylas-image-input', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-image-input', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-image-input', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-image-input', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-image-input', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Listen('nylasFormInputChanged')\n  async nylasFormInputChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    const { name, value } = event.detail;\n\n    if (name === this.name) {\n      this.setImage(value);\n    }\n  }\n\n  @Listen('nylasFormInputBlurred')\n  async nylasFormInputBlurHandler(event: CustomEvent<{ value: string; name: string }>) {\n    const { name, value } = event.detail;\n\n    if (name === this.name) {\n      this.setImage(value);\n    }\n  }\n\n  setImage(value: string) {\n    this.errorMessage = '';\n\n    isValidImage(value)\n      .then(() => {\n        this.currentImageUrl = value;\n\n        this.internals.setValidity({});\n        this.internals.setFormValue(this.currentImageUrl, this.name);\n        this.valueChanged.emit({ value: this.currentImageUrl, name: this.name });\n      })\n      .catch(() => {\n        this.internals.setValidity({ customError: true }, 'Invalid image URL.');\n        this.errorMessage = 'Invalid image URL.';\n      });\n  }\n\n  @RegisterComponent<InputImageUrl, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-image-input',\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"logo-container\">\n          <div class=\"input-container\">\n            <input-component name={this.name} id={this.name} type=\"text\" required={false} exportparts=\"ic_input: iiu__logo-input-textfield\" defaultValue={this.imageUrl ?? ''} />\n            {this.errorMessage && <span class=\"error-message\">{this.errorMessage}</span>}\n          </div>\n\n          {this.currentImageUrl && !this.errorMessage && (\n            <div class=\"logo\">\n              <img src={this.currentImageUrl} alt=\"Logo\" />\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'location-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class LocationIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '18';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M10 7.66211C10 9.31896 8.65685 10.6621 7 10.6621C5.34315 10.6621 4 9.31896 4 7.66211C4 6.00526 5.34315 4.66211 7 4.66211C8.65685 4.66211 10 6.00526 10 7.66211ZM9 7.66211C9 6.55754 8.10457 5.66211 7 5.66211C5.89543 5.66211 5 6.55754 5 7.66211C5 8.76668 5.89543 9.66211 7 9.66211C8.10457 9.66211 9 8.76668 9 7.66211ZM11.9497 12.6171C14.6834 9.88221 14.6834 5.44812 11.9497 2.71326C9.21608 -0.0216067 4.78392 -0.0216067 2.05025 2.71326C-0.683418 5.44812 -0.683418 9.88221 2.05025 12.6171L3.57128 14.1159L5.61408 16.101L5.74691 16.2188C6.52168 16.8468 7.65623 16.8076 8.38611 16.1012L10.8223 13.7312L11.9497 12.6171ZM2.75499 3.4183C5.09944 1.07282 8.90055 1.07282 11.245 3.4183C13.5294 5.70364 13.5879 9.3725 11.4207 11.7288L11.245 11.912L9.92371 13.216L7.69315 15.3846L7.60016 15.4642C7.24594 15.732 6.7543 15.732 6.40012 15.4642L6.30713 15.3845L3.3263 12.4791L2.75499 11.912L2.57927 11.7288C0.412077 9.3725 0.47065 5.70364 2.75499 3.4183Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'location-off-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class LocationOffIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '18';\n\n  render() {\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M0.146447 0.808556C0.341709 0.613294 0.658291 0.613294 0.853553 0.808556L15.8536 15.8086C16.0488 16.0038 16.0488 16.3204 15.8536 16.5157C15.6583 16.7109 15.3417 16.7109 15.1464 16.5157L12.0938 13.463L11.8223 13.7312L9.38611 16.1012C8.65623 16.8076 7.52168 16.8468 6.74691 16.2188L6.61408 16.101L4.57128 14.1159L3.05025 12.6171C0.607421 10.1732 0.347525 6.37239 2.27056 3.63976L0.146447 1.51566C-0.0488155 1.3204 -0.0488155 1.00382 0.146447 0.808556ZM9.07768 10.4469C8.74346 10.576 8.38024 10.6468 8.0005 10.6468C6.34839 10.6468 5.00909 9.30689 5.00909 7.65406C5.00909 7.27461 5.07967 6.91166 5.20843 6.57763L2.98793 4.35713C1.49206 6.62038 1.68917 9.67377 3.57927 11.7288L3.75499 11.912L4.3263 12.4791L7.30713 15.3845L7.40012 15.4642C7.7543 15.732 8.24594 15.732 8.60016 15.4642L8.69315 15.3846L10.9237 13.216L11.3883 12.7575L9.07768 10.4469ZM9.85409 8.39486L10.5983 9.13904C10.8487 8.70143 10.9919 8.19447 10.9919 7.65406C10.9919 6.00122 9.65261 4.66134 8.0005 4.66134C7.45986 4.66134 6.95271 4.80482 6.51504 5.05581L7.25921 5.79998C7.48839 5.70819 7.73855 5.6577 8.0005 5.6577C9.10258 5.6577 9.99599 6.5515 9.99599 7.65406C9.99599 7.91581 9.94564 8.16581 9.85409 8.39486ZM4.35291 2.89368C6.70671 1.08827 10.0908 1.26314 12.245 3.4183C14.3986 5.57283 14.5739 8.95702 12.771 11.3118L13.4812 12.022C15.6702 9.27273 15.493 5.25762 12.9497 2.71326C10.4058 0.168159 6.39081 -0.00843871 3.64269 2.18347L4.35291 2.89368Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'microsoft-teams-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class GoogleMeetIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    // Spam icon svg\n    return (\n      <svg width={this.width} height={this.height} viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <g clip-path=\"url(#clip0_22_6280)\">\n          <path\n            d=\"M13.7109 7.60168H18.8769C19.365 7.60168 19.7607 7.99734 19.7607 8.4854V13.191C19.7607 14.9848 18.3065 16.4389 16.5127 16.4389H16.4974C14.7036 16.4391 13.2493 14.9852 13.249 13.1914C13.249 13.1913 13.249 13.1911 13.249 13.191V8.06355C13.249 7.80847 13.4558 7.60168 13.7109 7.60168Z\"\n            fill=\"#5059C9\"\n          />\n          <path\n            d=\"M17.2024 6.67152C18.3583 6.67152 19.2954 5.73444 19.2954 4.5785C19.2954 3.42255 18.3583 2.48547 17.2024 2.48547C16.0465 2.48547 15.1094 3.42255 15.1094 4.5785C15.1094 5.73444 16.0465 6.67152 17.2024 6.67152Z\"\n            fill=\"#5059C9\"\n          />\n          <path\n            d=\"M10.6912 6.67152C12.3609 6.67152 13.7145 5.31796 13.7145 3.64826C13.7145 1.97856 12.3609 0.625 10.6912 0.625C9.02153 0.625 7.66797 1.97856 7.66797 3.64826C7.66797 5.31796 9.02153 6.67152 10.6912 6.67152Z\"\n            fill=\"#7B83EB\"\n          />\n          <path\n            d=\"M14.7223 7.60168H6.19482C5.71257 7.61362 5.33108 8.01384 5.34227 8.49611V13.8631C5.27492 16.7571 7.56457 19.1588 10.4586 19.2296C13.3525 19.1588 15.6422 16.7571 15.5748 13.8631V8.49611C15.586 8.01384 15.2045 7.61362 14.7223 7.60168Z\"\n            fill=\"#7B83EB\"\n          />\n          <path\n            opacity=\"0.1\"\n            d=\"M10.9234 7.60168V15.1226C10.9211 15.4675 10.7121 15.7773 10.3932 15.9087C10.2917 15.9516 10.1825 15.9738 10.0723 15.9738H5.75134C5.69088 15.8203 5.63507 15.6668 5.58855 15.5087C5.42574 14.975 5.34267 14.4201 5.34204 13.8622V8.49471C5.33086 8.01321 5.71172 7.61362 6.1932 7.60168H10.9234Z\"\n            fill=\"black\"\n          />\n          <path\n            opacity=\"0.2\"\n            d=\"M10.4583 7.60168V15.5877C10.4583 15.698 10.4362 15.8071 10.3932 15.9087C10.2619 16.2276 9.95205 16.4366 9.60717 16.4389H5.96995C5.89088 16.2854 5.81646 16.1319 5.75134 15.9738C5.68623 15.8156 5.63507 15.6668 5.58855 15.5087C5.42574 14.975 5.34267 14.4201 5.34204 13.8622V8.49471C5.33086 8.01321 5.71172 7.61362 6.1932 7.60168H10.4583Z\"\n            fill=\"black\"\n          />\n          <path\n            opacity=\"0.2\"\n            d=\"M10.4583 7.60168V14.6575C10.4548 15.1261 10.0758 15.5051 9.60716 15.5087H5.58855C5.42574 14.975 5.34267 14.4201 5.34204 13.8622V8.49471C5.33086 8.01321 5.71172 7.61362 6.1932 7.60168H10.4583Z\"\n            fill=\"black\"\n          />\n          <path\n            opacity=\"0.2\"\n            d=\"M9.9932 7.60168V14.6575C9.98965 15.1261 9.61065 15.5051 9.14203 15.5087H5.58855C5.42574 14.975 5.34267 14.4201 5.34204 13.8622V8.49471C5.33086 8.01321 5.71172 7.61362 6.1932 7.60168H9.9932Z\"\n            fill=\"black\"\n          />\n          <path\n            opacity=\"0.1\"\n            d=\"M10.9241 5.1971V6.66222C10.845 6.66687 10.7706 6.67152 10.6915 6.67152C10.6124 6.67152 10.538 6.66687 10.4589 6.66222C10.3019 6.6518 10.1462 6.62689 9.99382 6.5878C9.05195 6.36475 8.27382 5.70421 7.90079 4.81106C7.83661 4.66107 7.78678 4.50533 7.75195 4.34595H10.0729C10.5422 4.34772 10.9223 4.72775 10.9241 5.1971Z\"\n            fill=\"black\"\n          />\n          <path\n            opacity=\"0.2\"\n            d=\"M10.4585 5.66219V6.66219C10.3015 6.65177 10.1458 6.62686 9.99341 6.58778C9.05155 6.36473 8.27342 5.70418 7.90039 4.81104H9.60736C10.0767 4.81281 10.4567 5.19285 10.4585 5.66219Z\"\n            fill=\"black\"\n          />\n          <path\n            opacity=\"0.2\"\n            d=\"M10.4585 5.66219V6.66219C10.3015 6.65177 10.1458 6.62686 9.99341 6.58778C9.05155 6.36473 8.27342 5.70418 7.90039 4.81104H9.60736C10.0767 4.81281 10.4567 5.19285 10.4585 5.66219Z\"\n            fill=\"black\"\n          />\n          <path opacity=\"0.2\" d=\"M9.99341 5.6622V6.58778C9.05155 6.36473 8.27342 5.70418 7.90039 4.81104H9.14225C9.6116 4.81282 9.99163 5.19286 9.99341 5.6622Z\" fill=\"black\" />\n          <path\n            d=\"M0.613296 4.81104H9.14074C9.61159 4.81104 9.99329 5.19274 9.99329 5.66359V14.191C9.99329 14.6619 9.61158 15.0436 9.14074 15.0436H0.613296C0.14244 15.0436 -0.239258 14.6619 -0.239258 14.191V5.66359C-0.239258 5.19274 0.142449 4.81104 0.613296 4.81104Z\"\n            fill=\"url(#paint0_linear_22_6280)\"\n          />\n          <path d=\"M7.12025 8.05659H5.4156V12.6985H4.32956V8.05659H2.63281V7.15613H7.12025V8.05659Z\" fill=\"white\" />\n        </g>\n        <defs>\n          <linearGradient id=\"paint0_linear_22_6280\" x1=\"1.53835\" y1=\"4.14486\" x2=\"8.2157\" y2=\"15.7098\" gradientUnits=\"userSpaceOnUse\">\n            <stop stop-color=\"#5A62C3\" />\n            <stop offset=\"0.5\" stop-color=\"#4D55BD\" />\n            <stop offset=\"1\" stop-color=\"#3940AB\" />\n          </linearGradient>\n          <clipPath id=\"clip0_22_6280\">\n            <rect width=\"20\" height=\"20\" fill=\"white\" />\n          </clipPath>\n        </defs>\n      </svg>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  margin: 1rem;\n  @include default-css-variables;\n}\n\n.nylas-additional-participants__title {\n  color: var(--nylas-base-nylas-base-900-aaa, #101323);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  /* 125% */\n  margin: 0;\n  text-align: left;\n}\n\n.nylas-additional-participants__subtitle {\n  color: var(--nylas-base-600);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  /* 142.857% */\n  margin: 0.25rem 0px 0px;\n  text-align: left;\n}\n\n.nylas-additional-participants__content {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.nylas-additional-participants__input_group {\n  padding-top: 8px;\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%;\n  }\n}\n\n.nylas-additional-participants__error {\n  color: var(--nylas-error);\n  font-size: 14px;\n  font-family: var(--nylas-font-family);\n  font-weight: 400;\n  line-height: 16px;\n  margin: 0;\n  text-align: left;\n}\n\n.nylas-additional-participants__input_wrapper {\n  display: flex;\n  border-width: 1;\n  border-radius: 8px;\n  border: 1px solid var(--nylas-base-300);\n\n  &.error {\n    border-color: var(--nylas-error);\n  }\n\n  button {\n    padding: 12px;\n    border: none;\n    border-left: 1px solid var(--nylas-base-300);\n    background: none;\n    cursor: pointer;\n\n    &:hover,\n    &:active {\n      color: var(--nylas-primary);\n    }\n  }\n}\n\n.nylas-additional-participants__input_wrapper_organizer {\n  border: none;\n}\n\n.nylas-additional-participants__input {\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n\n  input {\n    border: none;\n    outline: none;\n    background: none;\n    width: 100%;\n  }\n\n  input-dropdown {\n    width: 100%;\n  }\n\n  input-dropdown::part(id_dropdown) {\n    width: 100%;\n    height: 100%;\n  }\n\n  input-dropdown::part(id_dropdown-input) {\n    height: 100%;\n    border-radius: var(--nylas-border-radius-2x);\n    border: none;\n    border-top-right-radius: initial;\n    border-bottom-right-radius: initial;\n    padding-left: 16px;\n  }\n\n  input-component::part(ic__input) {\n    background: var(--nylas-base-50);\n  }\n\n  input-component::part(ic__label) {\n    font-size: 14px;\n  }\n\n  input-component {\n    div.required-input {\n      display: flex;\n      gap: 4px;\n\n      label {\n        display: flex;\n        gap: 4px;\n        align-items: center;\n\n        tooltip-component#organizer_participant_tooltip::part(tc__content) {\n          left: -84px;\n        }\n      }\n    }\n  }\n}\n\n.nylas-additional-participants__add {\n  padding: 12px;\n  display: flex;\n  align-items: center;\n  border: none;\n  background: none;\n  cursor: pointer;\n\n  span {\n    padding: 0 8px;\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 500;\n  }\n\n  &:hover,\n  &:active {\n    color: var(--nylas-primary);\n  }\n}","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, Prop, State, Watch, h, Element, Listen, EventEmitter } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Event } from '@stencil/core';\nimport { AdditionalParticipant, Configuration } from '@nylas/core';\nimport { User } from '@/common/nylas-api-request';\n\ntype Participant = {\n  name?: string;\n  email: string;\n  is_valid?: boolean;\n  is_organizer?: boolean;\n  availability?: Availability;\n  booking?: Booking;\n};\ntype Availability = {\n  calendar_ids: string[];\n};\ntype Booking = {\n  calendar_id: string;\n};\n\n/**\n * The `nylas-additional-participants` component is a form input for adding additional participants to an event.\n *\n * @part nap__title - The title of the component.\n * @part nap__subtitle - The subtitle of the component.\n * @part nap__content - The content of the component.\n * @part nap__input_group - The input group of the component.\n * @part nap__input_wrapper - The input wrapper of the component.\n * @part nap__input - The input of the component.\n * @part nap__remove-participant - The remove participant button of the component.\n * @part nap__add-participant - The add participant button of the component.\n *\n */\n@Component({\n  tag: 'nylas-additional-participants',\n  styleUrl: 'nylas-additional-participants.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasAdditionalParticipants {\n  @Element() host!: HTMLNylasAdditionalParticipantsElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The logged in user\n   */\n  @Prop() currentUser?: User;\n\n  @Prop() name: string = 'participants';\n  @Prop() eventParticipants?: Participant[];\n  @Prop() participantOptions?: AdditionalParticipant[];\n  @AttachInternals() internals!: ElementInternals;\n  @State() participants: Participant[] = this.eventParticipants ?? [];\n  @State() participantErrors: { [key: string]: string } = {};\n  @State() includeOrganizerAsParticipant: boolean = true;\n  @State() isRoundRobinConfig: boolean = this.selectedConfiguration?.availability?.availability_rules?.availability_method !== 'collective';\n  @State() error: string = '';\n\n  /**\n   * This event is fired when the selected participants change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-additional-participants', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-additional-participants', 'selectedConfigurationChangedHandler', newValue);\n    this.isRoundRobinConfig = newValue?.availability?.availability_rules?.availability_method !== 'collective';\n    this.participants = newValue?.participants || [];\n    this.updateFormValue();\n  }\n\n  connectedCallback() {\n    debug('nylas-additional-participants', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-additional-participants', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-additional-participants', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    }\n    this.isRoundRobinConfig = this.selectedConfiguration?.availability?.availability_rules?.availability_method !== 'collective';\n    this.includeOrganizerAsParticipant = this.isRoundRobinConfig && this.participants.find(p => p.email === this.currentUser?.email) ? true : false;\n\n    const findCurrentUserInParticipants = this.participants.find(p => p.email === this.currentUser?.email);\n    if (this.isRoundRobinConfig && !findCurrentUserInParticipants && this.currentUser?.email) {\n      this.participants = [\n        {\n          name: this.currentUser?.name,\n          email: this.currentUser?.email,\n          is_organizer: true,\n          availability: {\n            calendar_ids: ['primary'],\n          },\n          booking: {\n            calendar_id: 'primary',\n          },\n        },\n        ...this.participants,\n      ];\n    }\n    this.updateFormValue();\n  }\n\n  disconnectedCallback() {\n    debug('nylas-additional-participants', 'disconnectedCallback');\n  }\n\n  @Listen('inputOptionChanged')\n  onInputOptionChanged(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-additional-participants', 'onInputOptionChanged');\n    const EMAIL_REGEX = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,4}$/;\n    const index = event.detail.name;\n    const participant = this.participantOptions?.find(participant => participant.email === event.detail.value);\n\n    if (!participant && this.isRoundRobinConfig) {\n      this.internals.setValidity({ customError: true }, 'For round robin configuration, participant should be selected from the dropdown.');\n      this.participantErrors[index] = 'For round robin page, participant should be selected from the dropdown.';\n      this.participants[index].is_valid = false;\n      this.participants = [...this.participants];\n      return;\n    } else if (!participant && !EMAIL_REGEX.test(event.detail.value)) {\n      this.internals.setValidity({ customError: true }, 'Please enter a valid email address');\n      this.participantErrors[index] = 'Please enter a valid email address';\n      this.participants[index].is_valid = false;\n      this.participants = [...this.participants];\n      return;\n    } else {\n      this.participantErrors[index] = '';\n      this.participants[index].is_valid = true;\n      this.internals.setValidity({});\n    }\n    this.participants[index].email = event.detail.value;\n    this.participants[index].availability = participant ? { calendar_ids: ['primary'] } : undefined;\n    // If round-robin config, set booking calendar to primary for all participants\n    this.participants[index].booking = participant && this.isRoundRobinConfig ? { calendar_id: 'primary' } : undefined;\n    this.participants[index].name = participant?.name || event.detail.value;\n    this.participants = [...this.participants];\n    this.updateFormValue();\n  }\n\n  addParticipant() {\n    debug('nylas-additional-participants', 'addParticipant');\n    this.participants = [...this.participants, { name: '', email: '', is_organizer: false }];\n    this.updateFormValue();\n  }\n  removeParticipant(index: number) {\n    debug('nylas-additional-participants', 'removeParticipant');\n    this.participants = this.participants.filter((_, i) => i !== index);\n    this.updateFormValue();\n  }\n  validate(email, index) {\n    debug('nylas-additional-participants', 'validate');\n    const regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const valid = regex.test(String(email).toLowerCase());\n    this.participants[index].is_valid = valid;\n    this.updateFormValue();\n  }\n\n  updateFormValue() {\n    debug('nylas-additional-participants', 'updateFormValue');\n    const participants = this.isRoundRobinConfig ? (this.includeOrganizerAsParticipant ? this.participants : this.participants.filter(p => !p.is_organizer)) : this.participants;\n    if (participants.length === 0) {\n      this.internals.setValidity({ customError: true }, 'Please add at least one participant');\n      this.error = 'Please add at least one participant';\n    } else {\n      this.internals.setValidity({});\n      this.error = '';\n      this.internals.setFormValue(JSON.stringify(participants), this.name);\n      this.valueChanged.emit({ value: JSON.stringify(participants), name: this.name });\n    }\n  }\n\n  // Filter out the participants that are already added\n  getArrayDifference(array1: AdditionalParticipant[], array2: Participant[]) {\n    const filtered = array1.filter(participant1 => !array2.some(participant2 => participant1.email === participant2.email));\n    return filtered.map(participant => {\n      return { value: participant.email, label: participant.email };\n    });\n  }\n\n  @RegisterComponent<NylasAdditionalParticipants, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-additional-participants',\n    stateToProps: new Map([\n      ['schedulerConfig.additionalParticipants', 'participantOptions'],\n      ['schedulerConfig.selectedConfiguration', 'selectedConfiguration'],\n      ['schedulerConfig.currentUser', 'currentUser'],\n    ]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <nylas-form-card>\n          <h3 slot=\"header-title\" class=\"nylas-additional-participants__title\" part=\"nap__title\">\n            Participants\n          </h3>\n          <p slot=\"header-subtitle\" class=\"nylas-additional-participants__subtitle\" part=\"nap__subtitle\">\n            Add people in your team or organization to join the event.\n          </p>\n          <div slot=\"content\" class=\"nylas-additional-participants__content\">\n            <div>\n              {this.participants.map((participant, index) => {\n                return (\n                  <div class={'nylas-additional-participants__input_group'} part=\"nap__input_group\">\n                    {!participant.is_organizer && <label>{`Participant ${index}`}</label>}\n                    <div\n                      part=\"nap__input_wrapper\"\n                      class={{\n                        'nylas-additional-participants__input_wrapper': true,\n                        'nylas-additional-participants__input_wrapper_organizer': participant?.is_organizer === true,\n                        'nylas-additional-participants__input_wrapper_invalid': participant.is_valid === false,\n                        'error': participant.is_valid === false,\n                      }}\n                    >\n                      <div class={{ 'nylas-additional-participants__input': true, 'organizer': participant?.is_organizer === true }} part=\"nap__input\">\n                        {participant.is_organizer ? (\n                          <input-component\n                            class={'label-input'}\n                            name={`${index}`}\n                            key={index}\n                            label=\"Organizer\"\n                            required={false}\n                            readOnly={participant.is_organizer}\n                            defaultValue={participant.email}\n                          >\n                            {this.isRoundRobinConfig && (\n                              <div class=\"required-input\" slot=\"additional-input\">\n                                <input\n                                  type=\"checkbox\"\n                                  name={`organizer_participant`}\n                                  id={`organizer_participant`}\n                                  onClick={() => {\n                                    this.includeOrganizerAsParticipant = !this.includeOrganizerAsParticipant;\n                                    this.updateFormValue();\n                                  }}\n                                  checked={this.includeOrganizerAsParticipant}\n                                />\n                                <label htmlFor={`organizer_participant`} aria-label=\"Include as participant\">\n                                  Participant\n                                  <tooltip-component id=\"organizer_participant_tooltip\">\n                                    <info-icon slot=\"tooltip-icon\" />\n                                    <span slot=\"tooltip-content\">\n                                      <strong>Include Organizer:</strong> The organizer (you) will be included in the round-robin rotation. <br />\n                                      <strong>Exclude Organizer:</strong> The organizer (you) will not be included in the round-robin rotation.\n                                    </span>\n                                  </tooltip-component>\n                                </label>\n                              </div>\n                            )}\n                          </input-component>\n                        ) : (\n                          <input-dropdown\n                            id={`${index}`}\n                            name={`${index}`}\n                            filterable={true}\n                            inputValue={participant.email}\n                            options={this.getArrayDifference(this.participantOptions || [], this.participants)}\n                          />\n                        )}\n                        {!participant.is_organizer && (\n                          <button onClick={() => this.removeParticipant(index)} part=\"nap__remove-participant\">\n                            <close-icon />\n                          </button>\n                        )}\n                      </div>\n                    </div>\n                    {!participant.is_valid && (\n                      <p class=\"nylas-additional-participants__error\" part=\"nap__error\">\n                        {this.participantErrors[index]}\n                      </p>\n                    )}\n                  </div>\n                );\n              })}\n              <p class=\"nylas-additional-participants__error\" part=\"nap__error\">\n                {this.error}\n              </p>\n            </div>\n            <button class=\"nylas-additional-participants__add\" part=\"nap__add-participant\" onClick={() => this.addParticipant()}>\n              <add-circle-icon /> <span>Add {this.participants.length > 1 ? 'another' : 'a'} participant</span>\n            </button>\n          </div>\n        </nylas-form-card>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-availability-picker {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n\n  .header {\n    padding: 1rem;\n\n    h3 {\n      margin: 0;\n      font-size: 16px;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n  }\n\n  .content {\n    padding: 1rem;\n    color: var(--nylas-base-900);\n    font-size: 16px;\n    font-family: var(--nylas-font-family);\n    border-top: 1px solid var(--nylas-base-200);\n\n    @media #{$small-mobile} {\n      font-size: 15px;\n    }\n\n    .select-timezone {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid var(--nylas-base-200);\n      padding-bottom: 1rem;\n      gap: 1rem;\n\n      h4 {\n        display: flex;\n        gap: 0.5rem;\n        align-items: center;\n        margin: 0;\n        font-size: 16px;\n\n        @media #{$small-mobile} {\n          font-size: 15px;\n        }\n\n        font-weight: 500;\n        line-height: 20px;\n      }\n    }\n\n    .availability {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      padding: 0 0.5rem;\n\n      @media #{$small-mobile} {\n        gap: 0.5rem;\n        padding: 0;\n      }\n\n      margin: 1rem 0;\n\n      .availability-day {\n        display: grid;\n        grid-template-columns: minmax(auto, 65px) 1fr minmax(auto, 40px);\n\n        @media #{$mobile} {\n          grid-template-columns: 78px 1fr auto;\n        }\n\n        @media #{$small-mobile} {\n          display: inline-grid;\n          gap: 8px;\n          grid-template-columns: 60px 1fr auto;\n        }\n\n        gap: 1rem;\n        align-items: baseline;\n\n        .day {\n          display: flex;\n          gap: 0.5rem;\n\n          @media #{$small-mobile} {\n            gap: 0.25rem;\n          }\n\n          align-items: center;\n\n          input[type='checkbox'] {\n            transform: scale(1.3);\n          }\n        }\n\n        .time-ranges {\n          span.unavailable {\n            height: 48px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n\n          .time-range {\n            display: flex;\n            gap: 1.5rem;\n            justify-content: space-between;\n            align-items: baseline;\n\n            @media #{$small-mobile} {\n              justify-content: unset;\n              gap: 0.5rem;\n            }\n\n            .pickers {\n              display: flex;\n              gap: 1rem;\n\n              @media #{$small-mobile} {\n                gap: 0.5rem;\n              }\n\n              span {\n                margin-top: 0.75rem;\n              }\n            }\n\n            &:not(:last-of-type) {\n              margin-bottom: 1rem;\n            }\n          }\n\n          p.error {\n            color: var(--nylas-error);\n          }\n        }\n\n        button {\n          border: none;\n          background: transparent;\n          height: 40px;\n          cursor: pointer;\n          color: var(--nylas-base-800);\n\n          &:hover,\n          &:active {\n            color: var(--nylas-primary);\n          }\n        }\n      }\n    }\n  }\n}\n\nselect-dropdown {\n  width: auto;\n}\n\nselect-dropdown::part(sd_dropdown-button) {\n  justify-content: initial;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { convertTo12HourFormat, convertTo24HourFormat, debug, minutesToTime, timeToMinutes } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { DEFAULT_OPEN_HOURS, TIMEZONE_MAP } from '@/common/constants';\nimport { Configuration } from '@nylas/core';\n\nexport type OpenHours = {\n  days: number[];\n  start: string;\n  end: string;\n  timezone: string;\n};\n\nexport type Schedule = {\n  SUN: { start: string; end: string }[];\n  MON: { start: string; end: string }[];\n  TUE: { start: string; end: string }[];\n  WED: { start: string; end: string }[];\n  THU: { start: string; end: string }[];\n  FRI: { start: string; end: string }[];\n  SAT: { start: string; end: string }[];\n};\n\n/**\n * The `nylas-availability-picker` component is a form input for selecting availability (open hours).\n * @part nap__header - The header of the availability picker\n * @part nap__select-timezone - The timezone selection container\n * @part nap__select-timezone-button - The timezone selection button\n * @part nap__select-timezone-dropdown-content - The timezone selection dropdown content\n * @part nap__availability - The availability container\n * @part nap__day - The day container\n * @part nap__time-ranges - The time ranges container\n * @part nap__time-range - The time range container\n * @part nap__add-time-range - The add time range button\n * @part nap__time-picker-container - The time picker container\n * @part nap__time-picker-input - The time picker input\n * @part nap__time-picker-times - The time picker times\n */\n@Component({\n  tag: 'nylas-availability-picker',\n  styleUrl: 'nylas-availability-picker.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasAvailabilityPicker {\n  /**\n   * The element <nylas-availability-picker> itself.\n   */\n  @Element() host!: HTMLNylasAvailabilityPickerElement;\n  /**\n   * The selected configuration.\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The open hours to display.\n   */\n  @Prop() openHours?: OpenHours[];\n  /**\n   * The name of the availability picker.\n   */\n  @Prop() name: string = 'availability';\n  /*\n   * The default timezone or preset timezone.\n   */\n  @Prop() defaultTimezone: string = Intl.DateTimeFormat().resolvedOptions().timeZone;\n\n  /**\n   * Hide the header of the availability picker.\n   */\n  @Prop() hideHeader: boolean = false;\n\n  /**\n   * This event is fired when the selected availability / open hours change.\n   * The value is a stringified JSON object with the open hours and timezone.\n    ```\n    {\n      openHours: OpenHours[],\n      timezone: string\n    }\n    ```\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n  @State() schedule = {\n    SUN: [],\n    MON: [{ start: '09:00am', end: '05:00pm' }],\n    TUE: [{ start: '09:00am', end: '05:00pm' }],\n    WED: [{ start: '09:00am', end: '05:00pm' }],\n    THU: [{ start: '09:00am', end: '05:00pm' }],\n    FRI: [{ start: '09:00am', end: '05:00pm' }],\n    SAT: [],\n  };\n  /**\n   * The selected timezone state.\n   */\n  @State() timezone: string = '';\n\n  /**\n   * The overlapping time ranges state. This is used to display an error message when there are overlapping time ranges.\n   */\n  @State() overlapDays: { [key: string]: number[] } = {};\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-calendar-picker', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  configChangedHandler(newConfig: Configuration) {\n    const defaultOpenHours = newConfig?.availability?.availability_rules?.default_open_hours ?? DEFAULT_OPEN_HOURS;\n    if (this.openHours) {\n      this.openHoursToSchedule(this.openHours);\n    } else if (defaultOpenHours) {\n      this.openHoursToSchedule(defaultOpenHours);\n    }\n  }\n\n  @Watch('schedule')\n  scheduleChanged(newValue: Schedule, oldValue: Schedule) {\n    if (newValue !== oldValue) {\n      let overlapDays: { [key: string]: number[] } = {};\n      Object.keys(newValue).forEach(key => {\n        const dayTimeRanges = newValue[key];\n        if (dayTimeRanges.length > 0) {\n          const overlaps = this.getOverlaps(dayTimeRanges);\n          if (overlaps.length > 0) {\n            overlapDays[key] = overlaps;\n          }\n        }\n      });\n      this.overlapDays = overlapDays;\n      if (typeof this.internals.setFormValue !== 'function') {\n        return;\n      }\n      if (Object.keys(overlapDays).length > 0) {\n        const element = this.host.shadowRoot?.getElementById(Object.keys(overlapDays)[0]) as HTMLInputElement;\n        if (element) {\n          debug('nylas-availability-picker', 'The time ranges are overlapping. Overlap: ', overlapDays);\n          this.internals.setValidity({ customError: true }, 'Overlapping time ranges found', element);\n        }\n      } else {\n        this.internals.setValidity({ customError: false });\n        this.internals.setFormValue(\n          JSON.stringify({\n            openHours: this.scheduleToOpenHours(this.schedule),\n            timezone: this.timezone,\n          }),\n        );\n      }\n      this.valueChanged.emit({\n        value: JSON.stringify({\n          openHours: this.scheduleToOpenHours(newValue),\n          timezone: this.timezone,\n        }),\n        name: this.name,\n      });\n    }\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(\n    event: CustomEvent<{\n      value: string;\n      name: string;\n    }>,\n  ) {\n    const { name, value } = event.detail;\n    if (name === 'timezone') {\n      this.timezone = value;\n      if (typeof this.internals.setFormValue !== 'function') {\n        return;\n      }\n      const updateValue = {\n        openHours: this.scheduleToOpenHours(this.schedule),\n        timezone: this.timezone,\n      };\n      this.internals.setFormValue(JSON.stringify(updateValue));\n      this.valueChanged.emit({\n        value: JSON.stringify(updateValue),\n        name: this.name,\n      });\n    }\n  }\n\n  connectedCallback() {\n    debug('nylas-availability-picker', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-availability-picker', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-availability-picker', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-availability-picker', 'componentDidLoad');\n\n    if (this.selectedConfiguration) {\n      this.configChangedHandler(this.selectedConfiguration);\n    } else {\n      this.timezone = this.defaultTimezone;\n    }\n\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    const updateValue = {\n      openHours: this.scheduleToOpenHours(this.schedule),\n      timezone: this.timezone,\n    };\n    this.internals.setFormValue(JSON.stringify(updateValue));\n    this.valueChanged.emit({\n      value: JSON.stringify(updateValue),\n      name: this.name,\n    });\n  }\n\n  getOverlaps(timeRanges) {\n    // Convert times to minutes and add to the array\n    let timeRangesInMinutes = timeRanges.map((range, index) => ({\n      start: timeToMinutes(range.start),\n      end: timeToMinutes(range.end),\n      originalIndex: index,\n    }));\n\n    // Sort by start time\n    timeRangesInMinutes.sort((a, b) => a.start - b.start);\n    let overlaps: number[] = [];\n    // Check for overlap\n    for (let i = 1; i < timeRangesInMinutes.length; i++) {\n      if (timeRangesInMinutes[i].start < timeRangesInMinutes[i - 1].end) {\n        // Add both overlapping time range indices if they are not already included\n        if (!overlaps.includes(timeRangesInMinutes[i].originalIndex)) {\n          overlaps.push(timeRangesInMinutes[i].originalIndex);\n        }\n        if (!overlaps.includes(timeRangesInMinutes[i - 1].originalIndex)) {\n          overlaps.push(timeRangesInMinutes[i - 1].originalIndex);\n        }\n      }\n    }\n    return overlaps.sort((a, b) => a - b); // Return sorted list of indices\n  }\n\n  addTimeRange(day) {\n    const currentTimeRanges = this.schedule[day];\n\n    // Default working hours are from 00:00 to 23:45 for calculation purposes\n    const dayStart = 0; // Start of the day in minutes (00:00)\n    const dayEnd = 1425; // End of the day in minutes (23:45)\n\n    if (currentTimeRanges.length === 0) {\n      // If there are no existing time ranges, add one at the start of the day\n      this.schedule[day] = [{ start: '09:00am', end: '05:00pm' }]; // Example range\n    } else {\n      // Convert all time ranges to minutes for comparison\n      const timeRangesInMinutes = currentTimeRanges\n        .map(range => ({\n          start: timeToMinutes(range.start),\n          end: timeToMinutes(range.end),\n        }))\n        .sort((a, b) => a.start - b.start); // Sort by start time\n\n      // Attempt to add a new time range at the end of the day\n      const lastRangeEnd = timeRangesInMinutes[timeRangesInMinutes.length - 1].end;\n      if (lastRangeEnd + 60 <= dayEnd) {\n        // There's room at the end of the day\n        this.schedule[day].push({\n          start: convertTo12HourFormat(minutesToTime(lastRangeEnd)),\n          end: convertTo12HourFormat(minutesToTime(lastRangeEnd + 60)),\n        });\n      } else {\n        // No room at the end, look for gaps at the beginning of the day\n        let gapFound = false;\n        if (timeRangesInMinutes[0].start > dayStart + 60) {\n          // There's room for at least a 1-hour meeting at the beginning of the day\n          this.schedule[day].push({\n            start: convertTo12HourFormat(minutesToTime(dayStart)),\n            end: convertTo12HourFormat(minutesToTime(dayStart + 60)),\n          });\n          gapFound = true;\n        }\n\n        if (!gapFound) {\n          // Search for gaps between scheduled time ranges\n          for (let i = 0; i < timeRangesInMinutes.length - 1; i++) {\n            const currentEnd = timeRangesInMinutes[i].end;\n            const nextStart = timeRangesInMinutes[i + 1].start;\n\n            if (nextStart - currentEnd >= 60) {\n              // Found a gap\n              this.schedule[day].push({\n                start: convertTo12HourFormat(minutesToTime(currentEnd)),\n                end: convertTo12HourFormat(minutesToTime(currentEnd + 60)),\n              });\n              break; // Exit the loop after adding a time range\n            }\n          }\n        }\n      }\n    }\n\n    // Sort the updated schedule to maintain order\n    this.schedule[day].sort((a, b) => timeToMinutes(a.start) - timeToMinutes(b.start));\n\n    this.schedule = { ...this.schedule };\n  }\n\n  removeTimeRange(day, index) {\n    this.schedule[day].splice(index, 1);\n    this.schedule = { ...this.schedule };\n  }\n\n  @Listen('timeChange')\n  setTime(event: CustomEvent<{ key: string; value: string }>) {\n    const { key, value } = event.detail;\n    const [dayIndex, timeType] = key.split('_');\n    const [day, index] = dayIndex.split(':');\n\n    if (timeType === 'start') {\n      this.schedule[day][index].start = value;\n    } else if (timeType === 'end') {\n      this.schedule[day][index].end = value;\n    }\n    this.internals.setValidity({ customError: false });\n    this.schedule = { ...this.schedule };\n  }\n\n  @Listen('formError')\n  setFormError(event: CustomEvent<{ key: string; message: string }>) {\n    const { key } = event.detail;\n    const [_, timeType] = key.split('_');\n    const element = this.host.shadowRoot?.getElementById(key);\n    if (element) {\n      this.internals.setValidity({ customError: true }, `Invalid ${timeType} time`, element as HTMLInputElement);\n    }\n  }\n\n  openHoursToSchedule(openHours: OpenHours[]) {\n    const newSchedule = {\n      SUN: [],\n      MON: [],\n      TUE: [],\n      WED: [],\n      THU: [],\n      FRI: [],\n      SAT: [],\n    };\n    openHours.forEach(openHour => {\n      openHour.days.forEach(day => {\n        const dayKey = this.getDayKey(day);\n        const start12hr = convertTo12HourFormat(openHour.start);\n        const end12hr = convertTo12HourFormat(openHour.end);\n        const timeRange = { start: start12hr, end: end12hr };\n\n        // Check if the time range already exists for the day\n        let timeRangeExists = false;\n        if (newSchedule[dayKey]) {\n          // Search for an existing time range that matches the current one\n          timeRangeExists = newSchedule[dayKey].some(range => range.start === timeRange.start && range.end === timeRange.end);\n        }\n\n        if (!timeRangeExists) {\n          if (newSchedule[dayKey]) {\n            newSchedule[dayKey].push(timeRange);\n          } else {\n            newSchedule[dayKey] = [timeRange];\n          }\n        }\n      });\n    });\n    this.timezone = openHours[0]?.timezone ?? this.defaultTimezone;\n    this.schedule = newSchedule;\n  }\n\n  getDayKey(dayIndex: number): string {\n    const days = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];\n    return days[dayIndex];\n  }\n\n  scheduleToOpenHours(schedule: Schedule): OpenHours[] {\n    const dayKeys = ['SUN', 'MON', 'TUE', 'WED', 'THU', 'FRI', 'SAT'];\n    let openHoursMap: Map<string, { days: number[]; start: string; end: string }> = new Map();\n\n    dayKeys.forEach((dayKey, index) => {\n      if (schedule[dayKey]) {\n        // Check if schedule for the day exists\n        schedule[dayKey].forEach(timeRange => {\n          const start24hr = convertTo24HourFormat(timeRange.start);\n          const end24hr = convertTo24HourFormat(timeRange.end);\n          const key = `${start24hr}-${end24hr}`;\n\n          if (!openHoursMap.has(key)) {\n            openHoursMap.set(key, { days: [index], start: start24hr, end: end24hr });\n          } else {\n            let entry = openHoursMap.get(key);\n            if (entry) {\n              entry.days.push(index);\n              openHoursMap.set(key, entry);\n            }\n          }\n        });\n      }\n    });\n\n    let selectedOpenHours: OpenHours[] = [];\n    openHoursMap.forEach((value, _key) => {\n      selectedOpenHours.push({\n        days: value.days,\n        start: value.start,\n        end: value.end,\n        timezone: this.timezone,\n      });\n    });\n\n    return selectedOpenHours;\n  }\n\n  @RegisterComponent<NylasAvailabilityPicker, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-availability-picker',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    const timezoneOptions = Object.keys(TIMEZONE_MAP).map(key => ({\n      label: TIMEZONE_MAP[key],\n      value: key,\n    }));\n    const selectedTimezoneOption = timezoneOptions.find(i => i.value === this.timezone);\n\n    return (\n      <Host>\n        <div class=\"nylas-availability-picker\" part=\"nap\">\n          {!this.hideHeader && (\n            <div class=\"header\" part=\"nap__header\">\n              <h3>Default open hours</h3>\n              <p>\n                Set when you're regularly available for event bookings.\n                <tooltip-component>\n                  <info-icon slot=\"tooltip-icon\" />\n                  <span slot=\"tooltip-content\">This is the default availability for participants who dont have availability set on the Participants tab.</span>\n                </tooltip-component>\n              </p>\n            </div>\n          )}\n          <div class=\"content\">\n            <div class=\"select-timezone\" part=\"nap__select-timezone\">\n              <h4 class=\"sub-header\">Select timezone</h4>\n              {selectedTimezoneOption?.label && (\n                <select-dropdown\n                  name=\"timezone\"\n                  exportparts=\"sd_dropdown: nap__timezone-container, sd_dropdown-button: nap__timezone-button, sd_dropdown-content: nap__timezone-dropdown-content\"\n                  options={timezoneOptions}\n                  defaultSelectedOption={selectedTimezoneOption}\n                >\n                  <span slot=\"select-icon\">\n                    <globe-icon width=\"20\" height=\"20\" />\n                  </span>\n                </select-dropdown>\n              )}\n            </div>\n            <div class=\"availability\" part=\"nap__availability\">\n              {Object.keys(this.schedule).map(key => {\n                const day = key;\n                const timeRanges = this.schedule[key] as { start: string; end: string }[];\n                return (\n                  <div class=\"availability-day\">\n                    <div class=\"day\" part=\"nap__day\">\n                      <input\n                        type=\"checkbox\"\n                        name={day}\n                        id={day}\n                        checked={timeRanges.length > 0}\n                        onClick={() => {\n                          if (timeRanges.length > 0) {\n                            this.schedule[day] = [];\n                          } else {\n                            this.schedule[day] = [{ start: '09:00am', end: '05:00pm' }];\n                          }\n                          this.schedule = { ...this.schedule };\n                        }}\n                      />\n                      <label htmlFor={day} aria-label=\"Select day\">\n                        {day}\n                      </label>\n                    </div>\n                    <div class=\"time-ranges\" part=\"nap__time-ranges\">\n                      {timeRanges.length ? null : <span class=\"unavailable\">Unavailable</span>}\n                      {timeRanges.length > 0 &&\n                        timeRanges.map((timeRange, timeRangeIndex) => {\n                          const startKey = `${key}:${timeRangeIndex}_start`;\n                          const endKey = `${key}:${timeRangeIndex}_end`;\n                          return (\n                            <div class=\"time-range\" part=\"nap__time-range\">\n                              <div class=\"pickers\">\n                                <nylas-time-window-picker\n                                  id={startKey}\n                                  hasError={this.overlapDays[day]?.includes(timeRangeIndex)}\n                                  time={timeRange.start}\n                                  name={startKey}\n                                  key={startKey}\n                                  exportparts=\"time-picker: nap__time-picker-container, time-input: nap__time-picker-input, times: nap__time-picker-times\"\n                                />\n                                <span> - </span>\n                                <nylas-time-window-picker\n                                  id={endKey}\n                                  hasError={this.overlapDays[day]?.includes(timeRangeIndex)}\n                                  time={timeRange.end}\n                                  name={endKey}\n                                  key={endKey}\n                                  minimumStartTime={timeRange.start}\n                                  exportparts=\"time-picker: nap__time-picker-container, time-input: nap__time-picker-input, times: nap__time-picker-times\"\n                                />\n                              </div>\n                              <button onClick={() => this.removeTimeRange(day, timeRangeIndex)}>\n                                <close-icon />\n                              </button>\n                            </div>\n                          );\n                        })}\n                      <p class=\"error\">{this.overlapDays[day] ? 'Overlapping time ranges' : ''}</p>\n                    </div>\n                    <div>\n                      {timeRanges.length > 0 ? (\n                        <button onClick={() => this.addTimeRange(day)} part=\"nap__add-time-range\">\n                          <add-circle-icon />\n                        </button>\n                      ) : null}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-booking-calendar-picker {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n  }\n\n  .nylas-booking-calendar-picker__loading {\n    padding-bottom: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n\n    .label {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      margin: 1rem 1rem 0;\n      color: var(--nylas-base-800);\n    }\n\n    .loading-button {\n      margin: 0 1rem;\n      padding: 0;\n      width: inherit;\n      height: 48px;\n      color: black;\n      font-size: 1rem;\n      cursor: not-allowed;\n      display: flex;\n      gap: 0.5rem;\n      justify-content: space-between;\n      align-items: center;\n      background: transparent;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n\n      span {\n        padding: 0 1rem;\n      }\n    }\n  }\n\n  .nylas-booking-calendar-picker__dropdown {\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n\n    span.label {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      color: var(--nylas-base-800);\n\n      tooltip-component {\n        display: flex;\n      }\n    }\n\n    select-dropdown::part(sd_dropdown) {\n      width: 100%;\n    }\n\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n\n    select-dropdown::part(sd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n    }\n\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { Calendar } from '@nylas/core';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { User } from '@/common/nylas-api-request';\n\n/**\n * The `nylas-booking-calendar-picker` component is a UI component that displays the booking calendar picker.\n * @part nbcp - The booking calendar picker container\n * @part nbcp__header - The header of the booking calendar picker\n * @part nbcp__input-label - The input label of the booking calendar picker\n * @part nbcp__dropdown - The dropdown container\n * @part nbcp__dropdown-button - The dropdown button\n * @part nbcp__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-booking-calendar-picker',\n  styleUrl: 'nylas-booking-calendar-picker.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasBookingCalendarPicker {\n  @Element() host!: HTMLNylasCalendarPickerElement;\n  /**\n   * The calendars to choose from.\n   */\n  @Prop() calendars?: Calendar[];\n  /**\n   * The current logged in user.\n   */\n  @Prop() currentUser?: User;\n  /**\n   * The list of user's calendars.\n   */\n  @Prop() currentUserCalendars?: Calendar[];\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'booking-calendar';\n  /**\n   * The default selected calendar.\n   */\n  @Prop() defaultBookingCalendar: string = '';\n  /**\n   * The prop to hide the header.\n   */\n  @Prop() hideHeader: boolean = false;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected calendars.\n   */\n  @State() selectedCalendar: string = '';\n\n  /**\n   * This event is fired when the selected booking calendar changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-booking-calendar-picker', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-booking-calendar-picker', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-booking-calendar-picker', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-booking-calendar-picker', 'componentDidLoad');\n    this.defaultBookingCalendar = this.defaultBookingCalendar || this.currentUser?.email || '';\n\n    // TODO: Remove this when the internals in tests are fixed.\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(this.defaultBookingCalendar.toString(), this.name);\n    }\n    this.selectedCalendar = this.defaultBookingCalendar || this.currentUser?.email || '';\n    this.valueChanged.emit({ value: this.selectedCalendar, name: this.name });\n  }\n\n  componentWillUpdate() {\n    debug('nylas-booking-calendar-picker', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-booking-calendar-picker', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-booking-calendar-picker', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-booking-calendar-picker', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-booking-calendar-picker', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('currentUserCalendars')\n  currentUserCalendarsChangedHandler(newValue: Calendar[]) {\n    debug('nylas-booking-calendar-picker', 'currentUserCalendarsChangedHandler', newValue);\n    this.currentUserCalendars = newValue;\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-booking-calendar-picker', 'nylasFormDropdownChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChanged = (event: CustomEvent<{ value: string; name: string }>) => {\n      const { value } = event.detail;\n      this.selectedCalendar = value;\n      this.internals.setFormValue(value.toString(), this.name);\n    };\n    this.valueChanged.emit({ value: event.detail.value, name: this.name, valueChanged });\n  }\n\n  @RegisterComponent<NylasBookingCalendarPicker, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-booking-calendar-picker',\n    stateToProps: new Map([\n      ['schedulerConfig.calendars', 'currentUserCalendars'],\n      ['schedulerConfig.currentUser', 'currentUser'],\n    ]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const currentUserCalendarOptions =\n      this.currentUserCalendars?.map(calendar => {\n        return {\n          value: calendar.id,\n          label: calendar.name,\n        };\n      }) ?? [];\n\n    const optionsFromCalendars =\n      this.calendars?.map(calendar => {\n        return {\n          value: calendar.id,\n          label: calendar.name,\n        };\n      }) ?? [];\n    const calendarOptions = optionsFromCalendars?.length > 0 ? optionsFromCalendars : currentUserCalendarOptions || [];\n    return (\n      <Host>\n        <div class=\"nylas-booking-calendar-picker\" part=\"nbcp\">\n          {!this.hideHeader && (\n            <div class=\"header\" part=\"nbcp__header\">\n              <h3>Calendar booking</h3>\n              <p>\n                Select the calendar where you want to add event bookings.\n                <tooltip-component>\n                  <info-icon slot=\"tooltip-icon\" />\n                  <span slot=\"tooltip-content\">The calendar will be used to create events.</span>\n                </tooltip-component>\n              </p>\n            </div>\n          )}\n          {calendarOptions.length > 0 ? (\n            <div class=\"nylas-booking-calendar-picker__dropdown\">\n              <select-dropdown\n                name=\"booking-calendar\"\n                options={calendarOptions}\n                withSearch={false}\n                exportparts=\"sd_dropdown: nbcp__dropdown, sd_dropdown-button: nbcp__dropdown-button, sd_dropdown-content: nbcp__dropdown-content\"\n                defaultSelectedOption={calendarOptions.find(cal => cal.value == this.defaultBookingCalendar) ?? calendarOptions[0]}\n              />\n            </div>\n          ) : (\n            <div class=\"nylas-booking-calendar-picker__loading\">\n              <span class=\"label\">\n                Select a calendar to book meetings on <info-icon />\n              </span>\n              <div class=\"loading-button\">\n                <span>Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-booking-confirmation-redirect {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n\n  .nylas-booking-confirmation-redirect__dropdown {\n    span.label {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      margin-bottom: 4px;\n      color: var(--nylas-base-800);\n\n      tooltip-component {\n        display: flex;\n      }\n    }\n\n    select-dropdown::part(sd_dropdown) {\n      width: 100%;\n    }\n\n    select-dropdown::part(sd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n\n    input-component::part(ic__input_wrapper) {\n      margin-top: 1rem;\n    }\n\n    span.error-message {\n      color: var(--nylas-error);\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { isValidUrl } from '@/utils/utils';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-booking-confirmation-redirect` component is a UI component that allows the user to choose a custom redirect URL after a booking is confirmed.\n * @part nbcr - The booking redirect container\n * @part nbcr__header - The header of the booking redirect\n * @part nbcr__dropdown - The dropdown container\n * @part nbcr__dropdown-button - The dropdown button\n * @part nbcr__dropdown-content - The dropdown content\n * @part nbcr__input-textfield - The input field content\n */\n@Component({\n  tag: 'nylas-booking-confirmation-redirect',\n  styleUrl: 'nylas-booking-confirmation-redirect.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasBookingConfirmationRedirect {\n  @Element() host!: HTMLNylasBookingConfirmationRedirectElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The name of the confirmation redirect link.\n   */\n  @Prop() name: string = 'confirmation-redirect';\n  /**\n   * The custom redirect URL.\n   */\n  @Prop() redirectUrl: string = '';\n  /**\n   * The custom redirect URL error message\n   */\n  @Prop() redirectUrlErrorMessage: string = '';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The current redirect URL.\n   */\n  @State() currentRedirectUrl: string = '';\n  /**\n   * The state for whether a custom URL can be added.\n   */\n  @State() acceptUrl!: boolean;\n\n  @State() componentLoaded: boolean = false;\n\n  /**\n   * This event is fired when the current redirect URL changes and is valid.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-booking-confirmation-redirect', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-booking-confirmation-redirect', 'selectedConfigurationChangedHandler', newValue);\n    if (newValue?.scheduler?.confirmation_redirect_url) {\n      this.currentRedirectUrl = newValue?.scheduler?.confirmation_redirect_url;\n      this.acceptUrl = newValue?.scheduler?.confirmation_redirect_url !== '';\n    }\n  }\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-booking-confirmation-redirect', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-booking-confirmation-redirect', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-booking-confirmation-redirect', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-booking-confirmation-redirect', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.currentRedirectUrl = this.redirectUrl;\n      this.acceptUrl = this.redirectUrl !== '';\n    }\n    this.componentLoaded = true;\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(this.currentRedirectUrl.toString(), this.name);\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-booking-confirmation-redirect', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-booking-confirmation-redirect', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-booking-confirmation-redirect', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-booking-confirmation-redirect', 'componentDidRender');\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-booking-confirmation-redirect', 'nylasFormDropdownChangedHandler', event.detail);\n\n    const { name, value } = event.detail;\n\n    if (name === 'confirmation-redirect-dropdown') {\n      if (value === 'custom') {\n        this.acceptUrl = true;\n      } else {\n        this.acceptUrl = false;\n\n        // Submit empty string to clear redirect URL\n        this.internals.setFormValue('', this.name);\n        this.valueChanged.emit({ name: this.name, value: '' });\n      }\n    }\n  }\n\n  @Listen('nylasFormInputBlurred')\n  nylasFormInputBlurHandler(event: CustomEvent<{ value: string; name: string }>) {\n    const { name, value } = event.detail;\n    this.currentRedirectUrl = value;\n\n    if (this.acceptUrl && name === 'confirmation-redirect') {\n      this.redirectUrlErrorMessage = '';\n\n      if (!isValidUrl(this.currentRedirectUrl)) {\n        this.internals.setValidity({ customError: true }, 'Please enter a valid URL.');\n        this.redirectUrlErrorMessage = 'Please enter a valid URL.';\n        return;\n      }\n      this.internals.setValidity({});\n\n      // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n      const valueChanged = (event: CustomEvent<{ value: string; name: string }>) => {\n        const { value } = event.detail;\n        this.internals.setFormValue(value.toString(), this.name);\n      };\n      this.valueChanged.emit({ ...event.detail, valueChanged });\n    }\n  }\n\n  @Listen('formSubmitted', { target: 'document' })\n  formSubmittedHandler(_event: CustomEvent) {\n    if (this.acceptUrl && !isValidUrl(this.currentRedirectUrl)) {\n      this.internals.setValidity({ customError: true }, 'Please enter a valid URL.');\n      this.redirectUrlErrorMessage = 'Please enter a valid URL.';\n    } else {\n      this.internals.setValidity({});\n    }\n  }\n\n  @RegisterComponent<NylasBookingConfirmationRedirect, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-booking-confirmation-redirect',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const redirectOptions = [\n      {\n        label: 'Display default confirmation page',\n        value: 'default',\n      },\n      {\n        label: 'Redirect to custom URL',\n        value: 'custom',\n      },\n    ];\n\n    return (\n      <Host>\n        <div class=\"nylas-booking-confirmation-redirect\" part=\"nbcr\">\n          {redirectOptions.length > 0 && (\n            <div class=\"nylas-booking-confirmation-redirect__dropdown\">\n              <span class=\"label\">\n                When a booking is confirmed\n                <tooltip-component>\n                  <info-icon slot=\"tooltip-icon\" />\n                  <span slot=\"tooltip-content\">You can either display the default confirmation page or redirect users to your own confirmation page.</span>\n                </tooltip-component>\n              </span>\n              {this.componentLoaded && (\n                <select-dropdown\n                  name=\"confirmation-redirect-dropdown\"\n                  options={redirectOptions}\n                  withSearch={false}\n                  defaultSelectedOption={redirectOptions.find(option => option.value === (this.acceptUrl ? 'custom' : 'default'))}\n                  exportparts=\"sd_dropdown: nbcr__dropdown, sd_dropdown-button: nbcr__dropdown-button, sd_dropdown-content: nbcr__dropdown-content\"\n                />\n              )}\n              {this.acceptUrl && (\n                <div>\n                  <input-component\n                    name=\"confirmation-redirect\"\n                    id=\"confirmation-redirect\"\n                    type=\"text\"\n                    placeholder=\"Enter custom redirect URL\"\n                    required={false}\n                    part=\"ic__input_wrapper: nbcr__input-textfield\"\n                    defaultValue={this.currentRedirectUrl}\n                  />\n                  {this.redirectUrlErrorMessage && <span class=\"error-message\">{this.redirectUrlErrorMessage}</span>}\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-booking-confirmation-type {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 1rem;\n\n  .nylas-booking-confirmation-type__dropdown {\n    span.label {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      color: var(--nylas-base-800);\n\n      tooltip-component {\n        display: flex;\n      }\n    }\n\n    select-dropdown::part(sd_dropdown) {\n      width: 100%;\n    }\n\n    select-dropdown::part(sd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-booking-confirmation-type` component is a UI component that allows the user to choose a custom redirect URL after a booking is confirmed.\n * @part nbct - The custom booking flow container\n * @part nbct__header - The header of the custom booking flow\n * @part nbct__dropdown - The dropdown container\n * @part nbct__dropdown-button - The dropdown button\n * @part nbct__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-booking-confirmation-type',\n  styleUrl: 'nylas-booking-confirmation-type.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasBookingConfirmationType {\n  @Element() host!: HTMLNylasBookingConfirmationTypeElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The name of the confirmation redirect link.\n   */\n  @Prop() name: string = 'confirmation-type';\n  /**\n   * The booking type.\n   */\n  @Prop() bookingType: string = 'booking';\n  /**\n   * @deprecated Show or hide the confirmation type.\n   * This prop is automatically determined based on the value of selectedConfiguration in the config,\n   * making it unnecessary to set this prop manually. The selectedConfiguration alone handles the functionality.\n   * This prop is deprecated and will be removed in the next version. Setting this prop will have no effect.\n   */\n  @Prop() showComponent: boolean = this.selectedConfiguration?.event_booking?.booking_type !== 'custom-confirmation';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected bookingType.\n   */\n  @State() selectedBookingType!: string;\n\n  /**\n   * The open/close state of the booking confirmation type dropdown.\n   */\n  @State() showDropdown!: boolean;\n  /**\n   * This event is fired when the selected bookingType changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-booking-confirmation-type', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-booking-confirmation-type', 'selectedConfigurationChangedHandler', newValue);\n    if (newValue?.event_booking?.booking_type) {\n      this.selectedBookingType = newValue?.event_booking?.booking_type;\n      this.showDropdown = newValue?.event_booking?.booking_type !== 'custom-confirmation' && !!newValue?.scheduler?.organizer_confirmation_url;\n    }\n  }\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-booking-confirmation-type', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-booking-confirmation-type', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-booking-confirmation-type', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-booking-confirmation-type', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.selectedBookingType = this.bookingType || 'booking';\n    }\n    this.internals.setFormValue(this.selectedBookingType.toString(), this.name);\n    this.showDropdown = this.selectedConfiguration?.event_booking?.booking_type !== 'custom-confirmation' && !!this.selectedConfiguration?.scheduler?.organizer_confirmation_url;\n  }\n\n  componentWillUpdate() {\n    debug('nylas-booking-confirmation-type', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-booking-confirmation-type', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-booking-confirmation-type', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-booking-confirmation-type', 'componentDidRender');\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-booking-confirmation-type', 'nylasFormDropdownChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChanged = (event: CustomEvent<{ value: string; name: string }>) => {\n      const { value } = event.detail;\n      this.selectedBookingType = value;\n      this.internals.setFormValue(value.toString(), this.name);\n    };\n    this.valueChanged.emit({ ...event.detail, valueChanged });\n  }\n\n  @RegisterComponent<NylasBookingConfirmationType, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-booking-confirmation-type',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const bookingOptions = [\n      {\n        label: 'Automatically accept bookings',\n        value: 'booking',\n      },\n      {\n        label: 'Manually accept bookings',\n        value: 'organizer-confirmation',\n      },\n    ];\n\n    return (\n      <Host>\n        {this.showDropdown && (\n          <div class=\"nylas-booking-confirmation-type\" part=\"nbct\">\n            {bookingOptions.length > 0 && (\n              <div class=\"nylas-booking-confirmation-type__dropdown\">\n                <span class=\"label\">\n                  When a booking is requested\n                  <tooltip-component>\n                    <info-icon slot=\"tooltip-icon\" />\n                    <span slot=\"tooltip-content\">Manually accept bookings allows you to review and either accept or decline each booking request.</span>\n                  </tooltip-component>\n                </span>\n                {this.selectedBookingType && (\n                  <select-dropdown\n                    name=\"booking-type\"\n                    options={bookingOptions}\n                    withSearch={false}\n                    exportparts=\"sd_dropdown: nbct__dropdown, sd_dropdown-button: nbct__dropdown-button, sd_dropdown-content: nbct__dropdown-content\"\n                    defaultSelectedOption={bookingOptions.find(cal => cal.value == this.selectedBookingType)}\n                  />\n                )}\n              </div>\n            )}\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n","/**!\n * Sortable 1.15.2\n * @author\tRubaXa   <trash@rubaxa.org>\n * @author\towenm    <owen23355@gmail.com>\n * @license MIT\n */\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar version = \"1.15.2\";\n\nfunction userAgent(pattern) {\n  if (typeof window !== 'undefined' && window.navigator) {\n    return !! /*@__PURE__*/navigator.userAgent.match(pattern);\n  }\n}\nvar IE11OrLess = userAgent(/(?:Trident.*rv[ :]?11\\.|msie|iemobile|Windows Phone)/i);\nvar Edge = userAgent(/Edge/i);\nvar FireFox = userAgent(/firefox/i);\nvar Safari = userAgent(/safari/i) && !userAgent(/chrome/i) && !userAgent(/android/i);\nvar IOS = userAgent(/iP(ad|od|hone)/i);\nvar ChromeForAndroid = userAgent(/chrome/i) && userAgent(/android/i);\n\nvar captureMode = {\n  capture: false,\n  passive: false\n};\nfunction on(el, event, fn) {\n  el.addEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction off(el, event, fn) {\n  el.removeEventListener(event, fn, !IE11OrLess && captureMode);\n}\nfunction matches( /**HTMLElement*/el, /**String*/selector) {\n  if (!selector) return;\n  selector[0] === '>' && (selector = selector.substring(1));\n  if (el) {\n    try {\n      if (el.matches) {\n        return el.matches(selector);\n      } else if (el.msMatchesSelector) {\n        return el.msMatchesSelector(selector);\n      } else if (el.webkitMatchesSelector) {\n        return el.webkitMatchesSelector(selector);\n      }\n    } catch (_) {\n      return false;\n    }\n  }\n  return false;\n}\nfunction getParentOrHost(el) {\n  return el.host && el !== document && el.host.nodeType ? el.host : el.parentNode;\n}\nfunction closest( /**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx, includeCTX) {\n  if (el) {\n    ctx = ctx || document;\n    do {\n      if (selector != null && (selector[0] === '>' ? el.parentNode === ctx && matches(el, selector) : matches(el, selector)) || includeCTX && el === ctx) {\n        return el;\n      }\n      if (el === ctx) break;\n      /* jshint boss:true */\n    } while (el = getParentOrHost(el));\n  }\n  return null;\n}\nvar R_SPACE = /\\s+/g;\nfunction toggleClass(el, name, state) {\n  if (el && name) {\n    if (el.classList) {\n      el.classList[state ? 'add' : 'remove'](name);\n    } else {\n      var className = (' ' + el.className + ' ').replace(R_SPACE, ' ').replace(' ' + name + ' ', ' ');\n      el.className = (className + (state ? ' ' + name : '')).replace(R_SPACE, ' ');\n    }\n  }\n}\nfunction css(el, prop, val) {\n  var style = el && el.style;\n  if (style) {\n    if (val === void 0) {\n      if (document.defaultView && document.defaultView.getComputedStyle) {\n        val = document.defaultView.getComputedStyle(el, '');\n      } else if (el.currentStyle) {\n        val = el.currentStyle;\n      }\n      return prop === void 0 ? val : val[prop];\n    } else {\n      if (!(prop in style) && prop.indexOf('webkit') === -1) {\n        prop = '-webkit-' + prop;\n      }\n      style[prop] = val + (typeof val === 'string' ? '' : 'px');\n    }\n  }\n}\nfunction matrix(el, selfOnly) {\n  var appliedTransforms = '';\n  if (typeof el === 'string') {\n    appliedTransforms = el;\n  } else {\n    do {\n      var transform = css(el, 'transform');\n      if (transform && transform !== 'none') {\n        appliedTransforms = transform + ' ' + appliedTransforms;\n      }\n      /* jshint boss:true */\n    } while (!selfOnly && (el = el.parentNode));\n  }\n  var matrixFn = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;\n  /*jshint -W056 */\n  return matrixFn && new matrixFn(appliedTransforms);\n}\nfunction find(ctx, tagName, iterator) {\n  if (ctx) {\n    var list = ctx.getElementsByTagName(tagName),\n      i = 0,\n      n = list.length;\n    if (iterator) {\n      for (; i < n; i++) {\n        iterator(list[i], i);\n      }\n    }\n    return list;\n  }\n  return [];\n}\nfunction getWindowScrollingElement() {\n  var scrollingElement = document.scrollingElement;\n  if (scrollingElement) {\n    return scrollingElement;\n  } else {\n    return document.documentElement;\n  }\n}\n\n/**\r\n * Returns the \"bounding client rect\" of given element\r\n * @param  {HTMLElement} el                       The element whose boundingClientRect is wanted\r\n * @param  {[Boolean]} relativeToContainingBlock  Whether the rect should be relative to the containing block of (including) the container\r\n * @param  {[Boolean]} relativeToNonStaticParent  Whether the rect should be relative to the relative parent of (including) the contaienr\r\n * @param  {[Boolean]} undoScale                  Whether the container's scale() should be undone\r\n * @param  {[HTMLElement]} container              The parent the element will be placed in\r\n * @return {Object}                               The boundingClientRect of el, with specified adjustments\r\n */\nfunction getRect(el, relativeToContainingBlock, relativeToNonStaticParent, undoScale, container) {\n  if (!el.getBoundingClientRect && el !== window) return;\n  var elRect, top, left, bottom, right, height, width;\n  if (el !== window && el.parentNode && el !== getWindowScrollingElement()) {\n    elRect = el.getBoundingClientRect();\n    top = elRect.top;\n    left = elRect.left;\n    bottom = elRect.bottom;\n    right = elRect.right;\n    height = elRect.height;\n    width = elRect.width;\n  } else {\n    top = 0;\n    left = 0;\n    bottom = window.innerHeight;\n    right = window.innerWidth;\n    height = window.innerHeight;\n    width = window.innerWidth;\n  }\n  if ((relativeToContainingBlock || relativeToNonStaticParent) && el !== window) {\n    // Adjust for translate()\n    container = container || el.parentNode;\n\n    // solves #1123 (see: https://stackoverflow.com/a/37953806/6088312)\n    // Not needed on <= IE11\n    if (!IE11OrLess) {\n      do {\n        if (container && container.getBoundingClientRect && (css(container, 'transform') !== 'none' || relativeToNonStaticParent && css(container, 'position') !== 'static')) {\n          var containerRect = container.getBoundingClientRect();\n\n          // Set relative to edges of padding box of container\n          top -= containerRect.top + parseInt(css(container, 'border-top-width'));\n          left -= containerRect.left + parseInt(css(container, 'border-left-width'));\n          bottom = top + elRect.height;\n          right = left + elRect.width;\n          break;\n        }\n        /* jshint boss:true */\n      } while (container = container.parentNode);\n    }\n  }\n  if (undoScale && el !== window) {\n    // Adjust for scale()\n    var elMatrix = matrix(container || el),\n      scaleX = elMatrix && elMatrix.a,\n      scaleY = elMatrix && elMatrix.d;\n    if (elMatrix) {\n      top /= scaleY;\n      left /= scaleX;\n      width /= scaleX;\n      height /= scaleY;\n      bottom = top + height;\n      right = left + width;\n    }\n  }\n  return {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n/**\r\n * Checks if a side of an element is scrolled past a side of its parents\r\n * @param  {HTMLElement}  el           The element who's side being scrolled out of view is in question\r\n * @param  {String}       elSide       Side of the element in question ('top', 'left', 'right', 'bottom')\r\n * @param  {String}       parentSide   Side of the parent in question ('top', 'left', 'right', 'bottom')\r\n * @return {HTMLElement}               The parent scroll element that the el's side is scrolled past, or null if there is no such element\r\n */\nfunction isScrolledPast(el, elSide, parentSide) {\n  var parent = getParentAutoScrollElement(el, true),\n    elSideVal = getRect(el)[elSide];\n\n  /* jshint boss:true */\n  while (parent) {\n    var parentSideVal = getRect(parent)[parentSide],\n      visible = void 0;\n    if (parentSide === 'top' || parentSide === 'left') {\n      visible = elSideVal >= parentSideVal;\n    } else {\n      visible = elSideVal <= parentSideVal;\n    }\n    if (!visible) return parent;\n    if (parent === getWindowScrollingElement()) break;\n    parent = getParentAutoScrollElement(parent, false);\n  }\n  return false;\n}\n\n/**\r\n * Gets nth child of el, ignoring hidden children, sortable's elements (does not ignore clone if it's visible)\r\n * and non-draggable elements\r\n * @param  {HTMLElement} el       The parent element\r\n * @param  {Number} childNum      The index of the child\r\n * @param  {Object} options       Parent Sortable's options\r\n * @return {HTMLElement}          The child at index childNum, or null if not found\r\n */\nfunction getChild(el, childNum, options, includeDragEl) {\n  var currentChild = 0,\n    i = 0,\n    children = el.children;\n  while (i < children.length) {\n    if (children[i].style.display !== 'none' && children[i] !== Sortable.ghost && (includeDragEl || children[i] !== Sortable.dragged) && closest(children[i], options.draggable, el, false)) {\n      if (currentChild === childNum) {\n        return children[i];\n      }\n      currentChild++;\n    }\n    i++;\n  }\n  return null;\n}\n\n/**\r\n * Gets the last child in the el, ignoring ghostEl or invisible elements (clones)\r\n * @param  {HTMLElement} el       Parent element\r\n * @param  {selector} selector    Any other elements that should be ignored\r\n * @return {HTMLElement}          The last child, ignoring ghostEl\r\n */\nfunction lastChild(el, selector) {\n  var last = el.lastElementChild;\n  while (last && (last === Sortable.ghost || css(last, 'display') === 'none' || selector && !matches(last, selector))) {\n    last = last.previousElementSibling;\n  }\n  return last || null;\n}\n\n/**\r\n * Returns the index of an element within its parent for a selected set of\r\n * elements\r\n * @param  {HTMLElement} el\r\n * @param  {selector} selector\r\n * @return {number}\r\n */\nfunction index(el, selector) {\n  var index = 0;\n  if (!el || !el.parentNode) {\n    return -1;\n  }\n\n  /* jshint boss:true */\n  while (el = el.previousElementSibling) {\n    if (el.nodeName.toUpperCase() !== 'TEMPLATE' && el !== Sortable.clone && (!selector || matches(el, selector))) {\n      index++;\n    }\n  }\n  return index;\n}\n\n/**\r\n * Returns the scroll offset of the given element, added with all the scroll offsets of parent elements.\r\n * The value is returned in real pixels.\r\n * @param  {HTMLElement} el\r\n * @return {Array}             Offsets in the format of [left, top]\r\n */\nfunction getRelativeScrollOffset(el) {\n  var offsetLeft = 0,\n    offsetTop = 0,\n    winScroller = getWindowScrollingElement();\n  if (el) {\n    do {\n      var elMatrix = matrix(el),\n        scaleX = elMatrix.a,\n        scaleY = elMatrix.d;\n      offsetLeft += el.scrollLeft * scaleX;\n      offsetTop += el.scrollTop * scaleY;\n    } while (el !== winScroller && (el = el.parentNode));\n  }\n  return [offsetLeft, offsetTop];\n}\n\n/**\r\n * Returns the index of the object within the given array\r\n * @param  {Array} arr   Array that may or may not hold the object\r\n * @param  {Object} obj  An object that has a key-value pair unique to and identical to a key-value pair in the object you want to find\r\n * @return {Number}      The index of the object in the array, or -1\r\n */\nfunction indexOfObject(arr, obj) {\n  for (var i in arr) {\n    if (!arr.hasOwnProperty(i)) continue;\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key) && obj[key] === arr[i][key]) return Number(i);\n    }\n  }\n  return -1;\n}\nfunction getParentAutoScrollElement(el, includeSelf) {\n  // skip to window\n  if (!el || !el.getBoundingClientRect) return getWindowScrollingElement();\n  var elem = el;\n  var gotSelf = false;\n  do {\n    // we don't need to get elem css if it isn't even overflowing in the first place (performance)\n    if (elem.clientWidth < elem.scrollWidth || elem.clientHeight < elem.scrollHeight) {\n      var elemCSS = css(elem);\n      if (elem.clientWidth < elem.scrollWidth && (elemCSS.overflowX == 'auto' || elemCSS.overflowX == 'scroll') || elem.clientHeight < elem.scrollHeight && (elemCSS.overflowY == 'auto' || elemCSS.overflowY == 'scroll')) {\n        if (!elem.getBoundingClientRect || elem === document.body) return getWindowScrollingElement();\n        if (gotSelf || includeSelf) return elem;\n        gotSelf = true;\n      }\n    }\n    /* jshint boss:true */\n  } while (elem = elem.parentNode);\n  return getWindowScrollingElement();\n}\nfunction extend(dst, src) {\n  if (dst && src) {\n    for (var key in src) {\n      if (src.hasOwnProperty(key)) {\n        dst[key] = src[key];\n      }\n    }\n  }\n  return dst;\n}\nfunction isRectEqual(rect1, rect2) {\n  return Math.round(rect1.top) === Math.round(rect2.top) && Math.round(rect1.left) === Math.round(rect2.left) && Math.round(rect1.height) === Math.round(rect2.height) && Math.round(rect1.width) === Math.round(rect2.width);\n}\nvar _throttleTimeout;\nfunction throttle(callback, ms) {\n  return function () {\n    if (!_throttleTimeout) {\n      var args = arguments,\n        _this = this;\n      if (args.length === 1) {\n        callback.call(_this, args[0]);\n      } else {\n        callback.apply(_this, args);\n      }\n      _throttleTimeout = setTimeout(function () {\n        _throttleTimeout = void 0;\n      }, ms);\n    }\n  };\n}\nfunction cancelThrottle() {\n  clearTimeout(_throttleTimeout);\n  _throttleTimeout = void 0;\n}\nfunction scrollBy(el, x, y) {\n  el.scrollLeft += x;\n  el.scrollTop += y;\n}\nfunction clone(el) {\n  var Polymer = window.Polymer;\n  var $ = window.jQuery || window.Zepto;\n  if (Polymer && Polymer.dom) {\n    return Polymer.dom(el).cloneNode(true);\n  } else if ($) {\n    return $(el).clone(true)[0];\n  } else {\n    return el.cloneNode(true);\n  }\n}\nfunction setRect(el, rect) {\n  css(el, 'position', 'absolute');\n  css(el, 'top', rect.top);\n  css(el, 'left', rect.left);\n  css(el, 'width', rect.width);\n  css(el, 'height', rect.height);\n}\nfunction unsetRect(el) {\n  css(el, 'position', '');\n  css(el, 'top', '');\n  css(el, 'left', '');\n  css(el, 'width', '');\n  css(el, 'height', '');\n}\nfunction getChildContainingRectFromElement(container, options, ghostEl) {\n  var rect = {};\n  Array.from(container.children).forEach(function (child) {\n    var _rect$left, _rect$top, _rect$right, _rect$bottom;\n    if (!closest(child, options.draggable, container, false) || child.animated || child === ghostEl) return;\n    var childRect = getRect(child);\n    rect.left = Math.min((_rect$left = rect.left) !== null && _rect$left !== void 0 ? _rect$left : Infinity, childRect.left);\n    rect.top = Math.min((_rect$top = rect.top) !== null && _rect$top !== void 0 ? _rect$top : Infinity, childRect.top);\n    rect.right = Math.max((_rect$right = rect.right) !== null && _rect$right !== void 0 ? _rect$right : -Infinity, childRect.right);\n    rect.bottom = Math.max((_rect$bottom = rect.bottom) !== null && _rect$bottom !== void 0 ? _rect$bottom : -Infinity, childRect.bottom);\n  });\n  rect.width = rect.right - rect.left;\n  rect.height = rect.bottom - rect.top;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\nvar expando = 'Sortable' + new Date().getTime();\n\nfunction AnimationStateManager() {\n  var animationStates = [],\n    animationCallbackId;\n  return {\n    captureAnimationState: function captureAnimationState() {\n      animationStates = [];\n      if (!this.options.animation) return;\n      var children = [].slice.call(this.el.children);\n      children.forEach(function (child) {\n        if (css(child, 'display') === 'none' || child === Sortable.ghost) return;\n        animationStates.push({\n          target: child,\n          rect: getRect(child)\n        });\n        var fromRect = _objectSpread2({}, animationStates[animationStates.length - 1].rect);\n\n        // If animating: compensate for current animation\n        if (child.thisAnimationDuration) {\n          var childMatrix = matrix(child, true);\n          if (childMatrix) {\n            fromRect.top -= childMatrix.f;\n            fromRect.left -= childMatrix.e;\n          }\n        }\n        child.fromRect = fromRect;\n      });\n    },\n    addAnimationState: function addAnimationState(state) {\n      animationStates.push(state);\n    },\n    removeAnimationState: function removeAnimationState(target) {\n      animationStates.splice(indexOfObject(animationStates, {\n        target: target\n      }), 1);\n    },\n    animateAll: function animateAll(callback) {\n      var _this = this;\n      if (!this.options.animation) {\n        clearTimeout(animationCallbackId);\n        if (typeof callback === 'function') callback();\n        return;\n      }\n      var animating = false,\n        animationTime = 0;\n      animationStates.forEach(function (state) {\n        var time = 0,\n          target = state.target,\n          fromRect = target.fromRect,\n          toRect = getRect(target),\n          prevFromRect = target.prevFromRect,\n          prevToRect = target.prevToRect,\n          animatingRect = state.rect,\n          targetMatrix = matrix(target, true);\n        if (targetMatrix) {\n          // Compensate for current animation\n          toRect.top -= targetMatrix.f;\n          toRect.left -= targetMatrix.e;\n        }\n        target.toRect = toRect;\n        if (target.thisAnimationDuration) {\n          // Could also check if animatingRect is between fromRect and toRect\n          if (isRectEqual(prevFromRect, toRect) && !isRectEqual(fromRect, toRect) &&\n          // Make sure animatingRect is on line between toRect & fromRect\n          (animatingRect.top - toRect.top) / (animatingRect.left - toRect.left) === (fromRect.top - toRect.top) / (fromRect.left - toRect.left)) {\n            // If returning to same place as started from animation and on same axis\n            time = calculateRealTime(animatingRect, prevFromRect, prevToRect, _this.options);\n          }\n        }\n\n        // if fromRect != toRect: animate\n        if (!isRectEqual(toRect, fromRect)) {\n          target.prevFromRect = fromRect;\n          target.prevToRect = toRect;\n          if (!time) {\n            time = _this.options.animation;\n          }\n          _this.animate(target, animatingRect, toRect, time);\n        }\n        if (time) {\n          animating = true;\n          animationTime = Math.max(animationTime, time);\n          clearTimeout(target.animationResetTimer);\n          target.animationResetTimer = setTimeout(function () {\n            target.animationTime = 0;\n            target.prevFromRect = null;\n            target.fromRect = null;\n            target.prevToRect = null;\n            target.thisAnimationDuration = null;\n          }, time);\n          target.thisAnimationDuration = time;\n        }\n      });\n      clearTimeout(animationCallbackId);\n      if (!animating) {\n        if (typeof callback === 'function') callback();\n      } else {\n        animationCallbackId = setTimeout(function () {\n          if (typeof callback === 'function') callback();\n        }, animationTime);\n      }\n      animationStates = [];\n    },\n    animate: function animate(target, currentRect, toRect, duration) {\n      if (duration) {\n        css(target, 'transition', '');\n        css(target, 'transform', '');\n        var elMatrix = matrix(this.el),\n          scaleX = elMatrix && elMatrix.a,\n          scaleY = elMatrix && elMatrix.d,\n          translateX = (currentRect.left - toRect.left) / (scaleX || 1),\n          translateY = (currentRect.top - toRect.top) / (scaleY || 1);\n        target.animatingX = !!translateX;\n        target.animatingY = !!translateY;\n        css(target, 'transform', 'translate3d(' + translateX + 'px,' + translateY + 'px,0)');\n        this.forRepaintDummy = repaint(target); // repaint\n\n        css(target, 'transition', 'transform ' + duration + 'ms' + (this.options.easing ? ' ' + this.options.easing : ''));\n        css(target, 'transform', 'translate3d(0,0,0)');\n        typeof target.animated === 'number' && clearTimeout(target.animated);\n        target.animated = setTimeout(function () {\n          css(target, 'transition', '');\n          css(target, 'transform', '');\n          target.animated = false;\n          target.animatingX = false;\n          target.animatingY = false;\n        }, duration);\n      }\n    }\n  };\n}\nfunction repaint(target) {\n  return target.offsetWidth;\n}\nfunction calculateRealTime(animatingRect, fromRect, toRect, options) {\n  return Math.sqrt(Math.pow(fromRect.top - animatingRect.top, 2) + Math.pow(fromRect.left - animatingRect.left, 2)) / Math.sqrt(Math.pow(fromRect.top - toRect.top, 2) + Math.pow(fromRect.left - toRect.left, 2)) * options.animation;\n}\n\nvar plugins = [];\nvar defaults = {\n  initializeByDefault: true\n};\nvar PluginManager = {\n  mount: function mount(plugin) {\n    // Set default static properties\n    for (var option in defaults) {\n      if (defaults.hasOwnProperty(option) && !(option in plugin)) {\n        plugin[option] = defaults[option];\n      }\n    }\n    plugins.forEach(function (p) {\n      if (p.pluginName === plugin.pluginName) {\n        throw \"Sortable: Cannot mount plugin \".concat(plugin.pluginName, \" more than once\");\n      }\n    });\n    plugins.push(plugin);\n  },\n  pluginEvent: function pluginEvent(eventName, sortable, evt) {\n    var _this = this;\n    this.eventCanceled = false;\n    evt.cancel = function () {\n      _this.eventCanceled = true;\n    };\n    var eventNameGlobal = eventName + 'Global';\n    plugins.forEach(function (plugin) {\n      if (!sortable[plugin.pluginName]) return;\n      // Fire global events if it exists in this sortable\n      if (sortable[plugin.pluginName][eventNameGlobal]) {\n        sortable[plugin.pluginName][eventNameGlobal](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n\n      // Only fire plugin event if plugin is enabled in this sortable,\n      // and plugin has event defined\n      if (sortable.options[plugin.pluginName] && sortable[plugin.pluginName][eventName]) {\n        sortable[plugin.pluginName][eventName](_objectSpread2({\n          sortable: sortable\n        }, evt));\n      }\n    });\n  },\n  initializePlugins: function initializePlugins(sortable, el, defaults, options) {\n    plugins.forEach(function (plugin) {\n      var pluginName = plugin.pluginName;\n      if (!sortable.options[pluginName] && !plugin.initializeByDefault) return;\n      var initialized = new plugin(sortable, el, sortable.options);\n      initialized.sortable = sortable;\n      initialized.options = sortable.options;\n      sortable[pluginName] = initialized;\n\n      // Add default options from plugin\n      _extends(defaults, initialized.defaults);\n    });\n    for (var option in sortable.options) {\n      if (!sortable.options.hasOwnProperty(option)) continue;\n      var modified = this.modifyOption(sortable, option, sortable.options[option]);\n      if (typeof modified !== 'undefined') {\n        sortable.options[option] = modified;\n      }\n    }\n  },\n  getEventProperties: function getEventProperties(name, sortable) {\n    var eventProperties = {};\n    plugins.forEach(function (plugin) {\n      if (typeof plugin.eventProperties !== 'function') return;\n      _extends(eventProperties, plugin.eventProperties.call(sortable[plugin.pluginName], name));\n    });\n    return eventProperties;\n  },\n  modifyOption: function modifyOption(sortable, name, value) {\n    var modifiedValue;\n    plugins.forEach(function (plugin) {\n      // Plugin must exist on the Sortable\n      if (!sortable[plugin.pluginName]) return;\n\n      // If static option listener exists for this option, call in the context of the Sortable's instance of this plugin\n      if (plugin.optionListeners && typeof plugin.optionListeners[name] === 'function') {\n        modifiedValue = plugin.optionListeners[name].call(sortable[plugin.pluginName], value);\n      }\n    });\n    return modifiedValue;\n  }\n};\n\nfunction dispatchEvent(_ref) {\n  var sortable = _ref.sortable,\n    rootEl = _ref.rootEl,\n    name = _ref.name,\n    targetEl = _ref.targetEl,\n    cloneEl = _ref.cloneEl,\n    toEl = _ref.toEl,\n    fromEl = _ref.fromEl,\n    oldIndex = _ref.oldIndex,\n    newIndex = _ref.newIndex,\n    oldDraggableIndex = _ref.oldDraggableIndex,\n    newDraggableIndex = _ref.newDraggableIndex,\n    originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    extraEventProperties = _ref.extraEventProperties;\n  sortable = sortable || rootEl && rootEl[expando];\n  if (!sortable) return;\n  var evt,\n    options = sortable.options,\n    onName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent(name, {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent(name, true, true);\n  }\n  evt.to = toEl || rootEl;\n  evt.from = fromEl || rootEl;\n  evt.item = targetEl || rootEl;\n  evt.clone = cloneEl;\n  evt.oldIndex = oldIndex;\n  evt.newIndex = newIndex;\n  evt.oldDraggableIndex = oldDraggableIndex;\n  evt.newDraggableIndex = newDraggableIndex;\n  evt.originalEvent = originalEvent;\n  evt.pullMode = putSortable ? putSortable.lastPutMode : undefined;\n  var allEventProperties = _objectSpread2(_objectSpread2({}, extraEventProperties), PluginManager.getEventProperties(name, sortable));\n  for (var option in allEventProperties) {\n    evt[option] = allEventProperties[option];\n  }\n  if (rootEl) {\n    rootEl.dispatchEvent(evt);\n  }\n  if (options[onName]) {\n    options[onName].call(sortable, evt);\n  }\n}\n\nvar _excluded = [\"evt\"];\nvar pluginEvent = function pluginEvent(eventName, sortable) {\n  var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n    originalEvent = _ref.evt,\n    data = _objectWithoutProperties(_ref, _excluded);\n  PluginManager.pluginEvent.bind(Sortable)(eventName, sortable, _objectSpread2({\n    dragEl: dragEl,\n    parentEl: parentEl,\n    ghostEl: ghostEl,\n    rootEl: rootEl,\n    nextEl: nextEl,\n    lastDownEl: lastDownEl,\n    cloneEl: cloneEl,\n    cloneHidden: cloneHidden,\n    dragStarted: moved,\n    putSortable: putSortable,\n    activeSortable: Sortable.active,\n    originalEvent: originalEvent,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex,\n    hideGhostForTarget: _hideGhostForTarget,\n    unhideGhostForTarget: _unhideGhostForTarget,\n    cloneNowHidden: function cloneNowHidden() {\n      cloneHidden = true;\n    },\n    cloneNowShown: function cloneNowShown() {\n      cloneHidden = false;\n    },\n    dispatchSortableEvent: function dispatchSortableEvent(name) {\n      _dispatchEvent({\n        sortable: sortable,\n        name: name,\n        originalEvent: originalEvent\n      });\n    }\n  }, data));\n};\nfunction _dispatchEvent(info) {\n  dispatchEvent(_objectSpread2({\n    putSortable: putSortable,\n    cloneEl: cloneEl,\n    targetEl: dragEl,\n    rootEl: rootEl,\n    oldIndex: oldIndex,\n    oldDraggableIndex: oldDraggableIndex,\n    newIndex: newIndex,\n    newDraggableIndex: newDraggableIndex\n  }, info));\n}\nvar dragEl,\n  parentEl,\n  ghostEl,\n  rootEl,\n  nextEl,\n  lastDownEl,\n  cloneEl,\n  cloneHidden,\n  oldIndex,\n  newIndex,\n  oldDraggableIndex,\n  newDraggableIndex,\n  activeGroup,\n  putSortable,\n  awaitingDragStarted = false,\n  ignoreNextClick = false,\n  sortables = [],\n  tapEvt,\n  touchEvt,\n  lastDx,\n  lastDy,\n  tapDistanceLeft,\n  tapDistanceTop,\n  moved,\n  lastTarget,\n  lastDirection,\n  pastFirstInvertThresh = false,\n  isCircumstantialInvert = false,\n  targetMoveDistance,\n  // For positioning ghost absolutely\n  ghostRelativeParent,\n  ghostRelativeParentInitialScroll = [],\n  // (left, top)\n\n  _silent = false,\n  savedInputChecked = [];\n\n/** @const */\nvar documentExists = typeof document !== 'undefined',\n  PositionGhostAbsolutely = IOS,\n  CSSFloatProperty = Edge || IE11OrLess ? 'cssFloat' : 'float',\n  // This will not pass for IE9, because IE9 DnD only works on anchors\n  supportDraggable = documentExists && !ChromeForAndroid && !IOS && 'draggable' in document.createElement('div'),\n  supportCssPointerEvents = function () {\n    if (!documentExists) return;\n    // false when <= IE11\n    if (IE11OrLess) {\n      return false;\n    }\n    var el = document.createElement('x');\n    el.style.cssText = 'pointer-events:auto';\n    return el.style.pointerEvents === 'auto';\n  }(),\n  _detectDirection = function _detectDirection(el, options) {\n    var elCSS = css(el),\n      elWidth = parseInt(elCSS.width) - parseInt(elCSS.paddingLeft) - parseInt(elCSS.paddingRight) - parseInt(elCSS.borderLeftWidth) - parseInt(elCSS.borderRightWidth),\n      child1 = getChild(el, 0, options),\n      child2 = getChild(el, 1, options),\n      firstChildCSS = child1 && css(child1),\n      secondChildCSS = child2 && css(child2),\n      firstChildWidth = firstChildCSS && parseInt(firstChildCSS.marginLeft) + parseInt(firstChildCSS.marginRight) + getRect(child1).width,\n      secondChildWidth = secondChildCSS && parseInt(secondChildCSS.marginLeft) + parseInt(secondChildCSS.marginRight) + getRect(child2).width;\n    if (elCSS.display === 'flex') {\n      return elCSS.flexDirection === 'column' || elCSS.flexDirection === 'column-reverse' ? 'vertical' : 'horizontal';\n    }\n    if (elCSS.display === 'grid') {\n      return elCSS.gridTemplateColumns.split(' ').length <= 1 ? 'vertical' : 'horizontal';\n    }\n    if (child1 && firstChildCSS[\"float\"] && firstChildCSS[\"float\"] !== 'none') {\n      var touchingSideChild2 = firstChildCSS[\"float\"] === 'left' ? 'left' : 'right';\n      return child2 && (secondChildCSS.clear === 'both' || secondChildCSS.clear === touchingSideChild2) ? 'vertical' : 'horizontal';\n    }\n    return child1 && (firstChildCSS.display === 'block' || firstChildCSS.display === 'flex' || firstChildCSS.display === 'table' || firstChildCSS.display === 'grid' || firstChildWidth >= elWidth && elCSS[CSSFloatProperty] === 'none' || child2 && elCSS[CSSFloatProperty] === 'none' && firstChildWidth + secondChildWidth > elWidth) ? 'vertical' : 'horizontal';\n  },\n  _dragElInRowColumn = function _dragElInRowColumn(dragRect, targetRect, vertical) {\n    var dragElS1Opp = vertical ? dragRect.left : dragRect.top,\n      dragElS2Opp = vertical ? dragRect.right : dragRect.bottom,\n      dragElOppLength = vertical ? dragRect.width : dragRect.height,\n      targetS1Opp = vertical ? targetRect.left : targetRect.top,\n      targetS2Opp = vertical ? targetRect.right : targetRect.bottom,\n      targetOppLength = vertical ? targetRect.width : targetRect.height;\n    return dragElS1Opp === targetS1Opp || dragElS2Opp === targetS2Opp || dragElS1Opp + dragElOppLength / 2 === targetS1Opp + targetOppLength / 2;\n  },\n  /**\r\n   * Detects first nearest empty sortable to X and Y position using emptyInsertThreshold.\r\n   * @param  {Number} x      X position\r\n   * @param  {Number} y      Y position\r\n   * @return {HTMLElement}   Element of the first found nearest Sortable\r\n   */\n  _detectNearestEmptySortable = function _detectNearestEmptySortable(x, y) {\n    var ret;\n    sortables.some(function (sortable) {\n      var threshold = sortable[expando].options.emptyInsertThreshold;\n      if (!threshold || lastChild(sortable)) return;\n      var rect = getRect(sortable),\n        insideHorizontally = x >= rect.left - threshold && x <= rect.right + threshold,\n        insideVertically = y >= rect.top - threshold && y <= rect.bottom + threshold;\n      if (insideHorizontally && insideVertically) {\n        return ret = sortable;\n      }\n    });\n    return ret;\n  },\n  _prepareGroup = function _prepareGroup(options) {\n    function toFn(value, pull) {\n      return function (to, from, dragEl, evt) {\n        var sameGroup = to.options.group.name && from.options.group.name && to.options.group.name === from.options.group.name;\n        if (value == null && (pull || sameGroup)) {\n          // Default pull value\n          // Default pull and put value if same group\n          return true;\n        } else if (value == null || value === false) {\n          return false;\n        } else if (pull && value === 'clone') {\n          return value;\n        } else if (typeof value === 'function') {\n          return toFn(value(to, from, dragEl, evt), pull)(to, from, dragEl, evt);\n        } else {\n          var otherGroup = (pull ? to : from).options.group.name;\n          return value === true || typeof value === 'string' && value === otherGroup || value.join && value.indexOf(otherGroup) > -1;\n        }\n      };\n    }\n    var group = {};\n    var originalGroup = options.group;\n    if (!originalGroup || _typeof(originalGroup) != 'object') {\n      originalGroup = {\n        name: originalGroup\n      };\n    }\n    group.name = originalGroup.name;\n    group.checkPull = toFn(originalGroup.pull, true);\n    group.checkPut = toFn(originalGroup.put);\n    group.revertClone = originalGroup.revertClone;\n    options.group = group;\n  },\n  _hideGhostForTarget = function _hideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', 'none');\n    }\n  },\n  _unhideGhostForTarget = function _unhideGhostForTarget() {\n    if (!supportCssPointerEvents && ghostEl) {\n      css(ghostEl, 'display', '');\n    }\n  };\n\n// #1184 fix - Prevent click event on fallback if dragged but item not changed position\nif (documentExists && !ChromeForAndroid) {\n  document.addEventListener('click', function (evt) {\n    if (ignoreNextClick) {\n      evt.preventDefault();\n      evt.stopPropagation && evt.stopPropagation();\n      evt.stopImmediatePropagation && evt.stopImmediatePropagation();\n      ignoreNextClick = false;\n      return false;\n    }\n  }, true);\n}\nvar nearestEmptyInsertDetectEvent = function nearestEmptyInsertDetectEvent(evt) {\n  if (dragEl) {\n    evt = evt.touches ? evt.touches[0] : evt;\n    var nearest = _detectNearestEmptySortable(evt.clientX, evt.clientY);\n    if (nearest) {\n      // Create imitation event\n      var event = {};\n      for (var i in evt) {\n        if (evt.hasOwnProperty(i)) {\n          event[i] = evt[i];\n        }\n      }\n      event.target = event.rootEl = nearest;\n      event.preventDefault = void 0;\n      event.stopPropagation = void 0;\n      nearest[expando]._onDragOver(event);\n    }\n  }\n};\nvar _checkOutsideTargetEl = function _checkOutsideTargetEl(evt) {\n  if (dragEl) {\n    dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n  }\n};\n\n/**\r\n * @class  Sortable\r\n * @param  {HTMLElement}  el\r\n * @param  {Object}       [options]\r\n */\nfunction Sortable(el, options) {\n  if (!(el && el.nodeType && el.nodeType === 1)) {\n    throw \"Sortable: `el` must be an HTMLElement, not \".concat({}.toString.call(el));\n  }\n  this.el = el; // root element\n  this.options = options = _extends({}, options);\n\n  // Export instance\n  el[expando] = this;\n  var defaults = {\n    group: null,\n    sort: true,\n    disabled: false,\n    store: null,\n    handle: null,\n    draggable: /^[uo]l$/i.test(el.nodeName) ? '>li' : '>*',\n    swapThreshold: 1,\n    // percentage; 0 <= x <= 1\n    invertSwap: false,\n    // invert always\n    invertedSwapThreshold: null,\n    // will be set to same as swapThreshold if default\n    removeCloneOnHide: true,\n    direction: function direction() {\n      return _detectDirection(el, this.options);\n    },\n    ghostClass: 'sortable-ghost',\n    chosenClass: 'sortable-chosen',\n    dragClass: 'sortable-drag',\n    ignore: 'a, img',\n    filter: null,\n    preventOnFilter: true,\n    animation: 0,\n    easing: null,\n    setData: function setData(dataTransfer, dragEl) {\n      dataTransfer.setData('Text', dragEl.textContent);\n    },\n    dropBubble: false,\n    dragoverBubble: false,\n    dataIdAttr: 'data-id',\n    delay: 0,\n    delayOnTouchOnly: false,\n    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,\n    forceFallback: false,\n    fallbackClass: 'sortable-fallback',\n    fallbackOnBody: false,\n    fallbackTolerance: 0,\n    fallbackOffset: {\n      x: 0,\n      y: 0\n    },\n    supportPointer: Sortable.supportPointer !== false && 'PointerEvent' in window && !Safari,\n    emptyInsertThreshold: 5\n  };\n  PluginManager.initializePlugins(this, el, defaults);\n\n  // Set default options\n  for (var name in defaults) {\n    !(name in options) && (options[name] = defaults[name]);\n  }\n  _prepareGroup(options);\n\n  // Bind all private methods\n  for (var fn in this) {\n    if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n      this[fn] = this[fn].bind(this);\n    }\n  }\n\n  // Setup drag mode\n  this.nativeDraggable = options.forceFallback ? false : supportDraggable;\n  if (this.nativeDraggable) {\n    // Touch start threshold cannot be greater than the native dragstart threshold\n    this.options.touchStartThreshold = 1;\n  }\n\n  // Bind events\n  if (options.supportPointer) {\n    on(el, 'pointerdown', this._onTapStart);\n  } else {\n    on(el, 'mousedown', this._onTapStart);\n    on(el, 'touchstart', this._onTapStart);\n  }\n  if (this.nativeDraggable) {\n    on(el, 'dragover', this);\n    on(el, 'dragenter', this);\n  }\n  sortables.push(this.el);\n\n  // Restore sorting\n  options.store && options.store.get && this.sort(options.store.get(this) || []);\n\n  // Add animation state manager\n  _extends(this, AnimationStateManager());\n}\nSortable.prototype = /** @lends Sortable.prototype */{\n  constructor: Sortable,\n  _isOutsideThisEl: function _isOutsideThisEl(target) {\n    if (!this.el.contains(target) && target !== this.el) {\n      lastTarget = null;\n    }\n  },\n  _getDirection: function _getDirection(evt, target) {\n    return typeof this.options.direction === 'function' ? this.options.direction.call(this, evt, target, dragEl) : this.options.direction;\n  },\n  _onTapStart: function _onTapStart( /** Event|TouchEvent */evt) {\n    if (!evt.cancelable) return;\n    var _this = this,\n      el = this.el,\n      options = this.options,\n      preventOnFilter = options.preventOnFilter,\n      type = evt.type,\n      touch = evt.touches && evt.touches[0] || evt.pointerType && evt.pointerType === 'touch' && evt,\n      target = (touch || evt).target,\n      originalTarget = evt.target.shadowRoot && (evt.path && evt.path[0] || evt.composedPath && evt.composedPath()[0]) || target,\n      filter = options.filter;\n    _saveInputCheckedState(el);\n\n    // Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\n    if (dragEl) {\n      return;\n    }\n    if (/mousedown|pointerdown/.test(type) && evt.button !== 0 || options.disabled) {\n      return; // only left button and enabled\n    }\n\n    // cancel dnd if original target is content editable\n    if (originalTarget.isContentEditable) {\n      return;\n    }\n\n    // Safari ignores further event handling after mousedown\n    if (!this.nativeDraggable && Safari && target && target.tagName.toUpperCase() === 'SELECT') {\n      return;\n    }\n    target = closest(target, options.draggable, el, false);\n    if (target && target.animated) {\n      return;\n    }\n    if (lastDownEl === target) {\n      // Ignoring duplicate `down`\n      return;\n    }\n\n    // Get the index of the dragged element within its parent\n    oldIndex = index(target);\n    oldDraggableIndex = index(target, options.draggable);\n\n    // Check filter\n    if (typeof filter === 'function') {\n      if (filter.call(this, evt, target, this)) {\n        _dispatchEvent({\n          sortable: _this,\n          rootEl: originalTarget,\n          name: 'filter',\n          targetEl: target,\n          toEl: el,\n          fromEl: el\n        });\n        pluginEvent('filter', _this, {\n          evt: evt\n        });\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    } else if (filter) {\n      filter = filter.split(',').some(function (criteria) {\n        criteria = closest(originalTarget, criteria.trim(), el, false);\n        if (criteria) {\n          _dispatchEvent({\n            sortable: _this,\n            rootEl: criteria,\n            name: 'filter',\n            targetEl: target,\n            fromEl: el,\n            toEl: el\n          });\n          pluginEvent('filter', _this, {\n            evt: evt\n          });\n          return true;\n        }\n      });\n      if (filter) {\n        preventOnFilter && evt.cancelable && evt.preventDefault();\n        return; // cancel dnd\n      }\n    }\n    if (options.handle && !closest(originalTarget, options.handle, el, false)) {\n      return;\n    }\n\n    // Prepare `dragstart`\n    this._prepareDragStart(evt, touch, target);\n  },\n  _prepareDragStart: function _prepareDragStart( /** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n    var _this = this,\n      el = _this.el,\n      options = _this.options,\n      ownerDocument = el.ownerDocument,\n      dragStartFn;\n    if (target && !dragEl && target.parentNode === el) {\n      var dragRect = getRect(target);\n      rootEl = el;\n      dragEl = target;\n      parentEl = dragEl.parentNode;\n      nextEl = dragEl.nextSibling;\n      lastDownEl = target;\n      activeGroup = options.group;\n      Sortable.dragged = dragEl;\n      tapEvt = {\n        target: dragEl,\n        clientX: (touch || evt).clientX,\n        clientY: (touch || evt).clientY\n      };\n      tapDistanceLeft = tapEvt.clientX - dragRect.left;\n      tapDistanceTop = tapEvt.clientY - dragRect.top;\n      this._lastX = (touch || evt).clientX;\n      this._lastY = (touch || evt).clientY;\n      dragEl.style['will-change'] = 'all';\n      dragStartFn = function dragStartFn() {\n        pluginEvent('delayEnded', _this, {\n          evt: evt\n        });\n        if (Sortable.eventCanceled) {\n          _this._onDrop();\n          return;\n        }\n        // Delayed drag has been triggered\n        // we can re-enable the events: touchmove/mousemove\n        _this._disableDelayedDragEvents();\n        if (!FireFox && _this.nativeDraggable) {\n          dragEl.draggable = true;\n        }\n\n        // Bind the events: dragstart/dragend\n        _this._triggerDragStart(evt, touch);\n\n        // Drag start event\n        _dispatchEvent({\n          sortable: _this,\n          name: 'choose',\n          originalEvent: evt\n        });\n\n        // Chosen item\n        toggleClass(dragEl, options.chosenClass, true);\n      };\n\n      // Disable \"draggable\"\n      options.ignore.split(',').forEach(function (criteria) {\n        find(dragEl, criteria.trim(), _disableDraggable);\n      });\n      on(ownerDocument, 'dragover', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mousemove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'touchmove', nearestEmptyInsertDetectEvent);\n      on(ownerDocument, 'mouseup', _this._onDrop);\n      on(ownerDocument, 'touchend', _this._onDrop);\n      on(ownerDocument, 'touchcancel', _this._onDrop);\n\n      // Make dragEl draggable (must be before delay for FireFox)\n      if (FireFox && this.nativeDraggable) {\n        this.options.touchStartThreshold = 4;\n        dragEl.draggable = true;\n      }\n      pluginEvent('delayStart', this, {\n        evt: evt\n      });\n\n      // Delay is impossible for native DnD in Edge or IE\n      if (options.delay && (!options.delayOnTouchOnly || touch) && (!this.nativeDraggable || !(Edge || IE11OrLess))) {\n        if (Sortable.eventCanceled) {\n          this._onDrop();\n          return;\n        }\n        // If the user moves the pointer or let go the click or touch\n        // before the delay has been reached:\n        // disable the delayed drag\n        on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchend', _this._disableDelayedDrag);\n        on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\n        on(ownerDocument, 'mousemove', _this._delayedDragTouchMoveHandler);\n        on(ownerDocument, 'touchmove', _this._delayedDragTouchMoveHandler);\n        options.supportPointer && on(ownerDocument, 'pointermove', _this._delayedDragTouchMoveHandler);\n        _this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n      } else {\n        dragStartFn();\n      }\n    }\n  },\n  _delayedDragTouchMoveHandler: function _delayedDragTouchMoveHandler( /** TouchEvent|PointerEvent **/e) {\n    var touch = e.touches ? e.touches[0] : e;\n    if (Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1))) {\n      this._disableDelayedDrag();\n    }\n  },\n  _disableDelayedDrag: function _disableDelayedDrag() {\n    dragEl && _disableDraggable(dragEl);\n    clearTimeout(this._dragStartTimer);\n    this._disableDelayedDragEvents();\n  },\n  _disableDelayedDragEvents: function _disableDelayedDragEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._disableDelayedDrag);\n    off(ownerDocument, 'touchend', this._disableDelayedDrag);\n    off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\n    off(ownerDocument, 'mousemove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'touchmove', this._delayedDragTouchMoveHandler);\n    off(ownerDocument, 'pointermove', this._delayedDragTouchMoveHandler);\n  },\n  _triggerDragStart: function _triggerDragStart( /** Event */evt, /** Touch */touch) {\n    touch = touch || evt.pointerType == 'touch' && evt;\n    if (!this.nativeDraggable || touch) {\n      if (this.options.supportPointer) {\n        on(document, 'pointermove', this._onTouchMove);\n      } else if (touch) {\n        on(document, 'touchmove', this._onTouchMove);\n      } else {\n        on(document, 'mousemove', this._onTouchMove);\n      }\n    } else {\n      on(dragEl, 'dragend', this);\n      on(rootEl, 'dragstart', this._onDragStart);\n    }\n    try {\n      if (document.selection) {\n        // Timeout neccessary for IE9\n        _nextTick(function () {\n          document.selection.empty();\n        });\n      } else {\n        window.getSelection().removeAllRanges();\n      }\n    } catch (err) {}\n  },\n  _dragStarted: function _dragStarted(fallback, evt) {\n    awaitingDragStarted = false;\n    if (rootEl && dragEl) {\n      pluginEvent('dragStarted', this, {\n        evt: evt\n      });\n      if (this.nativeDraggable) {\n        on(document, 'dragover', _checkOutsideTargetEl);\n      }\n      var options = this.options;\n\n      // Apply effect\n      !fallback && toggleClass(dragEl, options.dragClass, false);\n      toggleClass(dragEl, options.ghostClass, true);\n      Sortable.active = this;\n      fallback && this._appendGhost();\n\n      // Drag start event\n      _dispatchEvent({\n        sortable: this,\n        name: 'start',\n        originalEvent: evt\n      });\n    } else {\n      this._nulling();\n    }\n  },\n  _emulateDragOver: function _emulateDragOver() {\n    if (touchEvt) {\n      this._lastX = touchEvt.clientX;\n      this._lastY = touchEvt.clientY;\n      _hideGhostForTarget();\n      var target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n      var parent = target;\n      while (target && target.shadowRoot) {\n        target = target.shadowRoot.elementFromPoint(touchEvt.clientX, touchEvt.clientY);\n        if (target === parent) break;\n        parent = target;\n      }\n      dragEl.parentNode[expando]._isOutsideThisEl(target);\n      if (parent) {\n        do {\n          if (parent[expando]) {\n            var inserted = void 0;\n            inserted = parent[expando]._onDragOver({\n              clientX: touchEvt.clientX,\n              clientY: touchEvt.clientY,\n              target: target,\n              rootEl: parent\n            });\n            if (inserted && !this.options.dragoverBubble) {\n              break;\n            }\n          }\n          target = parent; // store last element\n        }\n        /* jshint boss:true */ while (parent = parent.parentNode);\n      }\n      _unhideGhostForTarget();\n    }\n  },\n  _onTouchMove: function _onTouchMove( /**TouchEvent*/evt) {\n    if (tapEvt) {\n      var options = this.options,\n        fallbackTolerance = options.fallbackTolerance,\n        fallbackOffset = options.fallbackOffset,\n        touch = evt.touches ? evt.touches[0] : evt,\n        ghostMatrix = ghostEl && matrix(ghostEl, true),\n        scaleX = ghostEl && ghostMatrix && ghostMatrix.a,\n        scaleY = ghostEl && ghostMatrix && ghostMatrix.d,\n        relativeScrollOffset = PositionGhostAbsolutely && ghostRelativeParent && getRelativeScrollOffset(ghostRelativeParent),\n        dx = (touch.clientX - tapEvt.clientX + fallbackOffset.x) / (scaleX || 1) + (relativeScrollOffset ? relativeScrollOffset[0] - ghostRelativeParentInitialScroll[0] : 0) / (scaleX || 1),\n        dy = (touch.clientY - tapEvt.clientY + fallbackOffset.y) / (scaleY || 1) + (relativeScrollOffset ? relativeScrollOffset[1] - ghostRelativeParentInitialScroll[1] : 0) / (scaleY || 1);\n\n      // only set the status to dragging, when we are actually dragging\n      if (!Sortable.active && !awaitingDragStarted) {\n        if (fallbackTolerance && Math.max(Math.abs(touch.clientX - this._lastX), Math.abs(touch.clientY - this._lastY)) < fallbackTolerance) {\n          return;\n        }\n        this._onDragStart(evt, true);\n      }\n      if (ghostEl) {\n        if (ghostMatrix) {\n          ghostMatrix.e += dx - (lastDx || 0);\n          ghostMatrix.f += dy - (lastDy || 0);\n        } else {\n          ghostMatrix = {\n            a: 1,\n            b: 0,\n            c: 0,\n            d: 1,\n            e: dx,\n            f: dy\n          };\n        }\n        var cssMatrix = \"matrix(\".concat(ghostMatrix.a, \",\").concat(ghostMatrix.b, \",\").concat(ghostMatrix.c, \",\").concat(ghostMatrix.d, \",\").concat(ghostMatrix.e, \",\").concat(ghostMatrix.f, \")\");\n        css(ghostEl, 'webkitTransform', cssMatrix);\n        css(ghostEl, 'mozTransform', cssMatrix);\n        css(ghostEl, 'msTransform', cssMatrix);\n        css(ghostEl, 'transform', cssMatrix);\n        lastDx = dx;\n        lastDy = dy;\n        touchEvt = touch;\n      }\n      evt.cancelable && evt.preventDefault();\n    }\n  },\n  _appendGhost: function _appendGhost() {\n    // Bug if using scale(): https://stackoverflow.com/questions/2637058\n    // Not being adjusted for\n    if (!ghostEl) {\n      var container = this.options.fallbackOnBody ? document.body : rootEl,\n        rect = getRect(dragEl, true, PositionGhostAbsolutely, true, container),\n        options = this.options;\n\n      // Position absolutely\n      if (PositionGhostAbsolutely) {\n        // Get relatively positioned parent\n        ghostRelativeParent = container;\n        while (css(ghostRelativeParent, 'position') === 'static' && css(ghostRelativeParent, 'transform') === 'none' && ghostRelativeParent !== document) {\n          ghostRelativeParent = ghostRelativeParent.parentNode;\n        }\n        if (ghostRelativeParent !== document.body && ghostRelativeParent !== document.documentElement) {\n          if (ghostRelativeParent === document) ghostRelativeParent = getWindowScrollingElement();\n          rect.top += ghostRelativeParent.scrollTop;\n          rect.left += ghostRelativeParent.scrollLeft;\n        } else {\n          ghostRelativeParent = getWindowScrollingElement();\n        }\n        ghostRelativeParentInitialScroll = getRelativeScrollOffset(ghostRelativeParent);\n      }\n      ghostEl = dragEl.cloneNode(true);\n      toggleClass(ghostEl, options.ghostClass, false);\n      toggleClass(ghostEl, options.fallbackClass, true);\n      toggleClass(ghostEl, options.dragClass, true);\n      css(ghostEl, 'transition', '');\n      css(ghostEl, 'transform', '');\n      css(ghostEl, 'box-sizing', 'border-box');\n      css(ghostEl, 'margin', 0);\n      css(ghostEl, 'top', rect.top);\n      css(ghostEl, 'left', rect.left);\n      css(ghostEl, 'width', rect.width);\n      css(ghostEl, 'height', rect.height);\n      css(ghostEl, 'opacity', '0.8');\n      css(ghostEl, 'position', PositionGhostAbsolutely ? 'absolute' : 'fixed');\n      css(ghostEl, 'zIndex', '100000');\n      css(ghostEl, 'pointerEvents', 'none');\n      Sortable.ghost = ghostEl;\n      container.appendChild(ghostEl);\n\n      // Set transform-origin\n      css(ghostEl, 'transform-origin', tapDistanceLeft / parseInt(ghostEl.style.width) * 100 + '% ' + tapDistanceTop / parseInt(ghostEl.style.height) * 100 + '%');\n    }\n  },\n  _onDragStart: function _onDragStart( /**Event*/evt, /**boolean*/fallback) {\n    var _this = this;\n    var dataTransfer = evt.dataTransfer;\n    var options = _this.options;\n    pluginEvent('dragStart', this, {\n      evt: evt\n    });\n    if (Sortable.eventCanceled) {\n      this._onDrop();\n      return;\n    }\n    pluginEvent('setupClone', this);\n    if (!Sortable.eventCanceled) {\n      cloneEl = clone(dragEl);\n      cloneEl.removeAttribute(\"id\");\n      cloneEl.draggable = false;\n      cloneEl.style['will-change'] = '';\n      this._hideClone();\n      toggleClass(cloneEl, this.options.chosenClass, false);\n      Sortable.clone = cloneEl;\n    }\n\n    // #1143: IFrame support workaround\n    _this.cloneId = _nextTick(function () {\n      pluginEvent('clone', _this);\n      if (Sortable.eventCanceled) return;\n      if (!_this.options.removeCloneOnHide) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      }\n      _this._hideClone();\n      _dispatchEvent({\n        sortable: _this,\n        name: 'clone'\n      });\n    });\n    !fallback && toggleClass(dragEl, options.dragClass, true);\n\n    // Set proper drop events\n    if (fallback) {\n      ignoreNextClick = true;\n      _this._loopId = setInterval(_this._emulateDragOver, 50);\n    } else {\n      // Undo what was set in _prepareDragStart before drag started\n      off(document, 'mouseup', _this._onDrop);\n      off(document, 'touchend', _this._onDrop);\n      off(document, 'touchcancel', _this._onDrop);\n      if (dataTransfer) {\n        dataTransfer.effectAllowed = 'move';\n        options.setData && options.setData.call(_this, dataTransfer, dragEl);\n      }\n      on(document, 'drop', _this);\n\n      // #1276 fix:\n      css(dragEl, 'transform', 'translateZ(0)');\n    }\n    awaitingDragStarted = true;\n    _this._dragStartId = _nextTick(_this._dragStarted.bind(_this, fallback, evt));\n    on(document, 'selectstart', _this);\n    moved = true;\n    if (Safari) {\n      css(document.body, 'user-select', 'none');\n    }\n  },\n  // Returns true - if no further action is needed (either inserted or another condition)\n  _onDragOver: function _onDragOver( /**Event*/evt) {\n    var el = this.el,\n      target = evt.target,\n      dragRect,\n      targetRect,\n      revert,\n      options = this.options,\n      group = options.group,\n      activeSortable = Sortable.active,\n      isOwner = activeGroup === group,\n      canSort = options.sort,\n      fromSortable = putSortable || activeSortable,\n      vertical,\n      _this = this,\n      completedFired = false;\n    if (_silent) return;\n    function dragOverEvent(name, extra) {\n      pluginEvent(name, _this, _objectSpread2({\n        evt: evt,\n        isOwner: isOwner,\n        axis: vertical ? 'vertical' : 'horizontal',\n        revert: revert,\n        dragRect: dragRect,\n        targetRect: targetRect,\n        canSort: canSort,\n        fromSortable: fromSortable,\n        target: target,\n        completed: completed,\n        onMove: function onMove(target, after) {\n          return _onMove(rootEl, el, dragEl, dragRect, target, getRect(target), evt, after);\n        },\n        changed: changed\n      }, extra));\n    }\n\n    // Capture animation state\n    function capture() {\n      dragOverEvent('dragOverAnimationCapture');\n      _this.captureAnimationState();\n      if (_this !== fromSortable) {\n        fromSortable.captureAnimationState();\n      }\n    }\n\n    // Return invocation when dragEl is inserted (or completed)\n    function completed(insertion) {\n      dragOverEvent('dragOverCompleted', {\n        insertion: insertion\n      });\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        } else {\n          activeSortable._showClone(_this);\n        }\n        if (_this !== fromSortable) {\n          // Set ghost class to new sortable's ghost class\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : activeSortable.options.ghostClass, false);\n          toggleClass(dragEl, options.ghostClass, true);\n        }\n        if (putSortable !== _this && _this !== Sortable.active) {\n          putSortable = _this;\n        } else if (_this === Sortable.active && putSortable) {\n          putSortable = null;\n        }\n\n        // Animation\n        if (fromSortable === _this) {\n          _this._ignoreWhileAnimating = target;\n        }\n        _this.animateAll(function () {\n          dragOverEvent('dragOverAnimationComplete');\n          _this._ignoreWhileAnimating = null;\n        });\n        if (_this !== fromSortable) {\n          fromSortable.animateAll();\n          fromSortable._ignoreWhileAnimating = null;\n        }\n      }\n\n      // Null lastTarget if it is not inside a previously swapped element\n      if (target === dragEl && !dragEl.animated || target === el && !target.animated) {\n        lastTarget = null;\n      }\n\n      // no bubbling and not fallback\n      if (!options.dragoverBubble && !evt.rootEl && target !== document) {\n        dragEl.parentNode[expando]._isOutsideThisEl(evt.target);\n\n        // Do not detect for empty insert if already inserted\n        !insertion && nearestEmptyInsertDetectEvent(evt);\n      }\n      !options.dragoverBubble && evt.stopPropagation && evt.stopPropagation();\n      return completedFired = true;\n    }\n\n    // Call when dragEl has been inserted\n    function changed() {\n      newIndex = index(dragEl);\n      newDraggableIndex = index(dragEl, options.draggable);\n      _dispatchEvent({\n        sortable: _this,\n        name: 'change',\n        toEl: el,\n        newIndex: newIndex,\n        newDraggableIndex: newDraggableIndex,\n        originalEvent: evt\n      });\n    }\n    if (evt.preventDefault !== void 0) {\n      evt.cancelable && evt.preventDefault();\n    }\n    target = closest(target, options.draggable, el, true);\n    dragOverEvent('dragOver');\n    if (Sortable.eventCanceled) return completedFired;\n    if (dragEl.contains(evt.target) || target.animated && target.animatingX && target.animatingY || _this._ignoreWhileAnimating === target) {\n      return completed(false);\n    }\n    ignoreNextClick = false;\n    if (activeSortable && !options.disabled && (isOwner ? canSort || (revert = parentEl !== rootEl) // Reverting item into the original list\n    : putSortable === this || (this.lastPutMode = activeGroup.checkPull(this, activeSortable, dragEl, evt)) && group.checkPut(this, activeSortable, dragEl, evt))) {\n      vertical = this._getDirection(evt, target) === 'vertical';\n      dragRect = getRect(dragEl);\n      dragOverEvent('dragOverValid');\n      if (Sortable.eventCanceled) return completedFired;\n      if (revert) {\n        parentEl = rootEl; // actualization\n        capture();\n        this._hideClone();\n        dragOverEvent('revert');\n        if (!Sortable.eventCanceled) {\n          if (nextEl) {\n            rootEl.insertBefore(dragEl, nextEl);\n          } else {\n            rootEl.appendChild(dragEl);\n          }\n        }\n        return completed(true);\n      }\n      var elLastChild = lastChild(el, options.draggable);\n      if (!elLastChild || _ghostIsLast(evt, vertical, this) && !elLastChild.animated) {\n        // Insert to end of list\n\n        // If already at end of list: Do not insert\n        if (elLastChild === dragEl) {\n          return completed(false);\n        }\n\n        // if there is a last element, it is the target\n        if (elLastChild && el === evt.target) {\n          target = elLastChild;\n        }\n        if (target) {\n          targetRect = getRect(target);\n        }\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, !!target) !== false) {\n          capture();\n          if (elLastChild && elLastChild.nextSibling) {\n            // the last draggable element is not the last node\n            el.insertBefore(dragEl, elLastChild.nextSibling);\n          } else {\n            el.appendChild(dragEl);\n          }\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (elLastChild && _ghostIsFirst(evt, vertical, this)) {\n        // Insert to start of list\n        var firstChild = getChild(el, 0, options, true);\n        if (firstChild === dragEl) {\n          return completed(false);\n        }\n        target = firstChild;\n        targetRect = getRect(target);\n        if (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, false) !== false) {\n          capture();\n          el.insertBefore(dragEl, firstChild);\n          parentEl = el; // actualization\n\n          changed();\n          return completed(true);\n        }\n      } else if (target.parentNode === el) {\n        targetRect = getRect(target);\n        var direction = 0,\n          targetBeforeFirstSwap,\n          differentLevel = dragEl.parentNode !== el,\n          differentRowCol = !_dragElInRowColumn(dragEl.animated && dragEl.toRect || dragRect, target.animated && target.toRect || targetRect, vertical),\n          side1 = vertical ? 'top' : 'left',\n          scrolledPastTop = isScrolledPast(target, 'top', 'top') || isScrolledPast(dragEl, 'top', 'top'),\n          scrollBefore = scrolledPastTop ? scrolledPastTop.scrollTop : void 0;\n        if (lastTarget !== target) {\n          targetBeforeFirstSwap = targetRect[side1];\n          pastFirstInvertThresh = false;\n          isCircumstantialInvert = !differentRowCol && options.invertSwap || differentLevel;\n        }\n        direction = _getSwapDirection(evt, target, targetRect, vertical, differentRowCol ? 1 : options.swapThreshold, options.invertedSwapThreshold == null ? options.swapThreshold : options.invertedSwapThreshold, isCircumstantialInvert, lastTarget === target);\n        var sibling;\n        if (direction !== 0) {\n          // Check if target is beside dragEl in respective direction (ignoring hidden elements)\n          var dragIndex = index(dragEl);\n          do {\n            dragIndex -= direction;\n            sibling = parentEl.children[dragIndex];\n          } while (sibling && (css(sibling, 'display') === 'none' || sibling === ghostEl));\n        }\n        // If dragEl is already beside target: Do not insert\n        if (direction === 0 || sibling === target) {\n          return completed(false);\n        }\n        lastTarget = target;\n        lastDirection = direction;\n        var nextSibling = target.nextElementSibling,\n          after = false;\n        after = direction === 1;\n        var moveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt, after);\n        if (moveVector !== false) {\n          if (moveVector === 1 || moveVector === -1) {\n            after = moveVector === 1;\n          }\n          _silent = true;\n          setTimeout(_unsilent, 30);\n          capture();\n          if (after && !nextSibling) {\n            el.appendChild(dragEl);\n          } else {\n            target.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n          }\n\n          // Undo chrome's scroll adjustment (has no effect on other browsers)\n          if (scrolledPastTop) {\n            scrollBy(scrolledPastTop, 0, scrollBefore - scrolledPastTop.scrollTop);\n          }\n          parentEl = dragEl.parentNode; // actualization\n\n          // must be done before animation\n          if (targetBeforeFirstSwap !== undefined && !isCircumstantialInvert) {\n            targetMoveDistance = Math.abs(targetBeforeFirstSwap - getRect(target)[side1]);\n          }\n          changed();\n          return completed(true);\n        }\n      }\n      if (el.contains(dragEl)) {\n        return completed(false);\n      }\n    }\n    return false;\n  },\n  _ignoreWhileAnimating: null,\n  _offMoveEvents: function _offMoveEvents() {\n    off(document, 'mousemove', this._onTouchMove);\n    off(document, 'touchmove', this._onTouchMove);\n    off(document, 'pointermove', this._onTouchMove);\n    off(document, 'dragover', nearestEmptyInsertDetectEvent);\n    off(document, 'mousemove', nearestEmptyInsertDetectEvent);\n    off(document, 'touchmove', nearestEmptyInsertDetectEvent);\n  },\n  _offUpEvents: function _offUpEvents() {\n    var ownerDocument = this.el.ownerDocument;\n    off(ownerDocument, 'mouseup', this._onDrop);\n    off(ownerDocument, 'touchend', this._onDrop);\n    off(ownerDocument, 'pointerup', this._onDrop);\n    off(ownerDocument, 'touchcancel', this._onDrop);\n    off(document, 'selectstart', this);\n  },\n  _onDrop: function _onDrop( /**Event*/evt) {\n    var el = this.el,\n      options = this.options;\n\n    // Get the index of the dragged element within its parent\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    pluginEvent('drop', this, {\n      evt: evt\n    });\n    parentEl = dragEl && dragEl.parentNode;\n\n    // Get again after plugin event\n    newIndex = index(dragEl);\n    newDraggableIndex = index(dragEl, options.draggable);\n    if (Sortable.eventCanceled) {\n      this._nulling();\n      return;\n    }\n    awaitingDragStarted = false;\n    isCircumstantialInvert = false;\n    pastFirstInvertThresh = false;\n    clearInterval(this._loopId);\n    clearTimeout(this._dragStartTimer);\n    _cancelNextTick(this.cloneId);\n    _cancelNextTick(this._dragStartId);\n\n    // Unbind events\n    if (this.nativeDraggable) {\n      off(document, 'drop', this);\n      off(el, 'dragstart', this._onDragStart);\n    }\n    this._offMoveEvents();\n    this._offUpEvents();\n    if (Safari) {\n      css(document.body, 'user-select', '');\n    }\n    css(dragEl, 'transform', '');\n    if (evt) {\n      if (moved) {\n        evt.cancelable && evt.preventDefault();\n        !options.dropBubble && evt.stopPropagation();\n      }\n      ghostEl && ghostEl.parentNode && ghostEl.parentNode.removeChild(ghostEl);\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        // Remove clone(s)\n        cloneEl && cloneEl.parentNode && cloneEl.parentNode.removeChild(cloneEl);\n      }\n      if (dragEl) {\n        if (this.nativeDraggable) {\n          off(dragEl, 'dragend', this);\n        }\n        _disableDraggable(dragEl);\n        dragEl.style['will-change'] = '';\n\n        // Remove classes\n        // ghostClass is added in dragStarted\n        if (moved && !awaitingDragStarted) {\n          toggleClass(dragEl, putSortable ? putSortable.options.ghostClass : this.options.ghostClass, false);\n        }\n        toggleClass(dragEl, this.options.chosenClass, false);\n\n        // Drag stop event\n        _dispatchEvent({\n          sortable: this,\n          name: 'unchoose',\n          toEl: parentEl,\n          newIndex: null,\n          newDraggableIndex: null,\n          originalEvent: evt\n        });\n        if (rootEl !== parentEl) {\n          if (newIndex >= 0) {\n            // Add event\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'add',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n\n            // Remove event\n            _dispatchEvent({\n              sortable: this,\n              name: 'remove',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n\n            // drag from one list and drop into another\n            _dispatchEvent({\n              rootEl: parentEl,\n              name: 'sort',\n              toEl: parentEl,\n              fromEl: rootEl,\n              originalEvent: evt\n            });\n            _dispatchEvent({\n              sortable: this,\n              name: 'sort',\n              toEl: parentEl,\n              originalEvent: evt\n            });\n          }\n          putSortable && putSortable.save();\n        } else {\n          if (newIndex !== oldIndex) {\n            if (newIndex >= 0) {\n              // drag & drop within the same list\n              _dispatchEvent({\n                sortable: this,\n                name: 'update',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n              _dispatchEvent({\n                sortable: this,\n                name: 'sort',\n                toEl: parentEl,\n                originalEvent: evt\n              });\n            }\n          }\n        }\n        if (Sortable.active) {\n          /* jshint eqnull:true */\n          if (newIndex == null || newIndex === -1) {\n            newIndex = oldIndex;\n            newDraggableIndex = oldDraggableIndex;\n          }\n          _dispatchEvent({\n            sortable: this,\n            name: 'end',\n            toEl: parentEl,\n            originalEvent: evt\n          });\n\n          // Save sorting\n          this.save();\n        }\n      }\n    }\n    this._nulling();\n  },\n  _nulling: function _nulling() {\n    pluginEvent('nulling', this);\n    rootEl = dragEl = parentEl = ghostEl = nextEl = cloneEl = lastDownEl = cloneHidden = tapEvt = touchEvt = moved = newIndex = newDraggableIndex = oldIndex = oldDraggableIndex = lastTarget = lastDirection = putSortable = activeGroup = Sortable.dragged = Sortable.ghost = Sortable.clone = Sortable.active = null;\n    savedInputChecked.forEach(function (el) {\n      el.checked = true;\n    });\n    savedInputChecked.length = lastDx = lastDy = 0;\n  },\n  handleEvent: function handleEvent( /**Event*/evt) {\n    switch (evt.type) {\n      case 'drop':\n      case 'dragend':\n        this._onDrop(evt);\n        break;\n      case 'dragenter':\n      case 'dragover':\n        if (dragEl) {\n          this._onDragOver(evt);\n          _globalDragOver(evt);\n        }\n        break;\n      case 'selectstart':\n        evt.preventDefault();\n        break;\n    }\n  },\n  /**\r\n   * Serializes the item into an array of string.\r\n   * @returns {String[]}\r\n   */\n  toArray: function toArray() {\n    var order = [],\n      el,\n      children = this.el.children,\n      i = 0,\n      n = children.length,\n      options = this.options;\n    for (; i < n; i++) {\n      el = children[i];\n      if (closest(el, options.draggable, this.el, false)) {\n        order.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n      }\n    }\n    return order;\n  },\n  /**\r\n   * Sorts the elements according to the array.\r\n   * @param  {String[]}  order  order of the items\r\n   */\n  sort: function sort(order, useAnimation) {\n    var items = {},\n      rootEl = this.el;\n    this.toArray().forEach(function (id, i) {\n      var el = rootEl.children[i];\n      if (closest(el, this.options.draggable, rootEl, false)) {\n        items[id] = el;\n      }\n    }, this);\n    useAnimation && this.captureAnimationState();\n    order.forEach(function (id) {\n      if (items[id]) {\n        rootEl.removeChild(items[id]);\n        rootEl.appendChild(items[id]);\n      }\n    });\n    useAnimation && this.animateAll();\n  },\n  /**\r\n   * Save the current sorting\r\n   */\n  save: function save() {\n    var store = this.options.store;\n    store && store.set && store.set(this);\n  },\n  /**\r\n   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n   * @param   {HTMLElement}  el\r\n   * @param   {String}       [selector]  default: `options.draggable`\r\n   * @returns {HTMLElement|null}\r\n   */\n  closest: function closest$1(el, selector) {\n    return closest(el, selector || this.options.draggable, this.el, false);\n  },\n  /**\r\n   * Set/get option\r\n   * @param   {string} name\r\n   * @param   {*}      [value]\r\n   * @returns {*}\r\n   */\n  option: function option(name, value) {\n    var options = this.options;\n    if (value === void 0) {\n      return options[name];\n    } else {\n      var modifiedValue = PluginManager.modifyOption(this, name, value);\n      if (typeof modifiedValue !== 'undefined') {\n        options[name] = modifiedValue;\n      } else {\n        options[name] = value;\n      }\n      if (name === 'group') {\n        _prepareGroup(options);\n      }\n    }\n  },\n  /**\r\n   * Destroy\r\n   */\n  destroy: function destroy() {\n    pluginEvent('destroy', this);\n    var el = this.el;\n    el[expando] = null;\n    off(el, 'mousedown', this._onTapStart);\n    off(el, 'touchstart', this._onTapStart);\n    off(el, 'pointerdown', this._onTapStart);\n    if (this.nativeDraggable) {\n      off(el, 'dragover', this);\n      off(el, 'dragenter', this);\n    }\n    // Remove draggable attributes\n    Array.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\n      el.removeAttribute('draggable');\n    });\n    this._onDrop();\n    this._disableDelayedDragEvents();\n    sortables.splice(sortables.indexOf(this.el), 1);\n    this.el = el = null;\n  },\n  _hideClone: function _hideClone() {\n    if (!cloneHidden) {\n      pluginEvent('hideClone', this);\n      if (Sortable.eventCanceled) return;\n      css(cloneEl, 'display', 'none');\n      if (this.options.removeCloneOnHide && cloneEl.parentNode) {\n        cloneEl.parentNode.removeChild(cloneEl);\n      }\n      cloneHidden = true;\n    }\n  },\n  _showClone: function _showClone(putSortable) {\n    if (putSortable.lastPutMode !== 'clone') {\n      this._hideClone();\n      return;\n    }\n    if (cloneHidden) {\n      pluginEvent('showClone', this);\n      if (Sortable.eventCanceled) return;\n\n      // show clone at dragEl or original position\n      if (dragEl.parentNode == rootEl && !this.options.group.revertClone) {\n        rootEl.insertBefore(cloneEl, dragEl);\n      } else if (nextEl) {\n        rootEl.insertBefore(cloneEl, nextEl);\n      } else {\n        rootEl.appendChild(cloneEl);\n      }\n      if (this.options.group.revertClone) {\n        this.animate(dragEl, cloneEl);\n      }\n      css(cloneEl, 'display', '');\n      cloneHidden = false;\n    }\n  }\n};\nfunction _globalDragOver( /**Event*/evt) {\n  if (evt.dataTransfer) {\n    evt.dataTransfer.dropEffect = 'move';\n  }\n  evt.cancelable && evt.preventDefault();\n}\nfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvent, willInsertAfter) {\n  var evt,\n    sortable = fromEl[expando],\n    onMoveFn = sortable.options.onMove,\n    retVal;\n  // Support for new CustomEvent feature\n  if (window.CustomEvent && !IE11OrLess && !Edge) {\n    evt = new CustomEvent('move', {\n      bubbles: true,\n      cancelable: true\n    });\n  } else {\n    evt = document.createEvent('Event');\n    evt.initEvent('move', true, true);\n  }\n  evt.to = toEl;\n  evt.from = fromEl;\n  evt.dragged = dragEl;\n  evt.draggedRect = dragRect;\n  evt.related = targetEl || toEl;\n  evt.relatedRect = targetRect || getRect(toEl);\n  evt.willInsertAfter = willInsertAfter;\n  evt.originalEvent = originalEvent;\n  fromEl.dispatchEvent(evt);\n  if (onMoveFn) {\n    retVal = onMoveFn.call(sortable, evt, originalEvent);\n  }\n  return retVal;\n}\nfunction _disableDraggable(el) {\n  el.draggable = false;\n}\nfunction _unsilent() {\n  _silent = false;\n}\nfunction _ghostIsFirst(evt, vertical, sortable) {\n  var firstElRect = getRect(getChild(sortable.el, 0, sortable.options, true));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX < childContainingRect.left - spacer || evt.clientY < firstElRect.top && evt.clientX < firstElRect.right : evt.clientY < childContainingRect.top - spacer || evt.clientY < firstElRect.bottom && evt.clientX < firstElRect.left;\n}\nfunction _ghostIsLast(evt, vertical, sortable) {\n  var lastElRect = getRect(lastChild(sortable.el, sortable.options.draggable));\n  var childContainingRect = getChildContainingRectFromElement(sortable.el, sortable.options, ghostEl);\n  var spacer = 10;\n  return vertical ? evt.clientX > childContainingRect.right + spacer || evt.clientY > lastElRect.bottom && evt.clientX > lastElRect.left : evt.clientY > childContainingRect.bottom + spacer || evt.clientX > lastElRect.right && evt.clientY > lastElRect.top;\n}\nfunction _getSwapDirection(evt, target, targetRect, vertical, swapThreshold, invertedSwapThreshold, invertSwap, isLastTarget) {\n  var mouseOnAxis = vertical ? evt.clientY : evt.clientX,\n    targetLength = vertical ? targetRect.height : targetRect.width,\n    targetS1 = vertical ? targetRect.top : targetRect.left,\n    targetS2 = vertical ? targetRect.bottom : targetRect.right,\n    invert = false;\n  if (!invertSwap) {\n    // Never invert or create dragEl shadow when target movemenet causes mouse to move past the end of regular swapThreshold\n    if (isLastTarget && targetMoveDistance < targetLength * swapThreshold) {\n      // multiplied only by swapThreshold because mouse will already be inside target by (1 - threshold) * targetLength / 2\n      // check if past first invert threshold on side opposite of lastDirection\n      if (!pastFirstInvertThresh && (lastDirection === 1 ? mouseOnAxis > targetS1 + targetLength * invertedSwapThreshold / 2 : mouseOnAxis < targetS2 - targetLength * invertedSwapThreshold / 2)) {\n        // past first invert threshold, do not restrict inverted threshold to dragEl shadow\n        pastFirstInvertThresh = true;\n      }\n      if (!pastFirstInvertThresh) {\n        // dragEl shadow (target move distance shadow)\n        if (lastDirection === 1 ? mouseOnAxis < targetS1 + targetMoveDistance // over dragEl shadow\n        : mouseOnAxis > targetS2 - targetMoveDistance) {\n          return -lastDirection;\n        }\n      } else {\n        invert = true;\n      }\n    } else {\n      // Regular\n      if (mouseOnAxis > targetS1 + targetLength * (1 - swapThreshold) / 2 && mouseOnAxis < targetS2 - targetLength * (1 - swapThreshold) / 2) {\n        return _getInsertDirection(target);\n      }\n    }\n  }\n  invert = invert || invertSwap;\n  if (invert) {\n    // Invert of regular\n    if (mouseOnAxis < targetS1 + targetLength * invertedSwapThreshold / 2 || mouseOnAxis > targetS2 - targetLength * invertedSwapThreshold / 2) {\n      return mouseOnAxis > targetS1 + targetLength / 2 ? 1 : -1;\n    }\n  }\n  return 0;\n}\n\n/**\r\n * Gets the direction dragEl must be swapped relative to target in order to make it\r\n * seem that dragEl has been \"inserted\" into that element's position\r\n * @param  {HTMLElement} target       The target whose position dragEl is being inserted at\r\n * @return {Number}                   Direction dragEl must be swapped\r\n */\nfunction _getInsertDirection(target) {\n  if (index(dragEl) < index(target)) {\n    return 1;\n  } else {\n    return -1;\n  }\n}\n\n/**\r\n * Generate id\r\n * @param   {HTMLElement} el\r\n * @returns {String}\r\n * @private\r\n */\nfunction _generateId(el) {\n  var str = el.tagName + el.className + el.src + el.href + el.textContent,\n    i = str.length,\n    sum = 0;\n  while (i--) {\n    sum += str.charCodeAt(i);\n  }\n  return sum.toString(36);\n}\nfunction _saveInputCheckedState(root) {\n  savedInputChecked.length = 0;\n  var inputs = root.getElementsByTagName('input');\n  var idx = inputs.length;\n  while (idx--) {\n    var el = inputs[idx];\n    el.checked && savedInputChecked.push(el);\n  }\n}\nfunction _nextTick(fn) {\n  return setTimeout(fn, 0);\n}\nfunction _cancelNextTick(id) {\n  return clearTimeout(id);\n}\n\n// Fixed #973:\nif (documentExists) {\n  on(document, 'touchmove', function (evt) {\n    if ((Sortable.active || awaitingDragStarted) && evt.cancelable) {\n      evt.preventDefault();\n    }\n  });\n}\n\n// Export utils\nSortable.utils = {\n  on: on,\n  off: off,\n  css: css,\n  find: find,\n  is: function is(el, selector) {\n    return !!closest(el, selector, el, false);\n  },\n  extend: extend,\n  throttle: throttle,\n  closest: closest,\n  toggleClass: toggleClass,\n  clone: clone,\n  index: index,\n  nextTick: _nextTick,\n  cancelNextTick: _cancelNextTick,\n  detectDirection: _detectDirection,\n  getChild: getChild\n};\n\n/**\r\n * Get the Sortable instance of an element\r\n * @param  {HTMLElement} element The element\r\n * @return {Sortable|undefined}         The instance of Sortable\r\n */\nSortable.get = function (element) {\n  return element[expando];\n};\n\n/**\r\n * Mount a plugin to Sortable\r\n * @param  {...SortablePlugin|SortablePlugin[]} plugins       Plugins being mounted\r\n */\nSortable.mount = function () {\n  for (var _len = arguments.length, plugins = new Array(_len), _key = 0; _key < _len; _key++) {\n    plugins[_key] = arguments[_key];\n  }\n  if (plugins[0].constructor === Array) plugins = plugins[0];\n  plugins.forEach(function (plugin) {\n    if (!plugin.prototype || !plugin.prototype.constructor) {\n      throw \"Sortable: Mounted plugin must be a constructor function, not \".concat({}.toString.call(plugin));\n    }\n    if (plugin.utils) Sortable.utils = _objectSpread2(_objectSpread2({}, Sortable.utils), plugin.utils);\n    PluginManager.mount(plugin);\n  });\n};\n\n/**\r\n * Create sortable instance\r\n * @param {HTMLElement}  el\r\n * @param {Object}      [options]\r\n */\nSortable.create = function (el, options) {\n  return new Sortable(el, options);\n};\n\n// Export\nSortable.version = version;\n\nvar autoScrolls = [],\n  scrollEl,\n  scrollRootEl,\n  scrolling = false,\n  lastAutoScrollX,\n  lastAutoScrollY,\n  touchEvt$1,\n  pointerElemChangedInterval;\nfunction AutoScrollPlugin() {\n  function AutoScroll() {\n    this.defaults = {\n      scroll: true,\n      forceAutoScrollFallback: false,\n      scrollSensitivity: 30,\n      scrollSpeed: 10,\n      bubbleScroll: true\n    };\n\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n  }\n  AutoScroll.prototype = {\n    dragStarted: function dragStarted(_ref) {\n      var originalEvent = _ref.originalEvent;\n      if (this.sortable.nativeDraggable) {\n        on(document, 'dragover', this._handleAutoScroll);\n      } else {\n        if (this.options.supportPointer) {\n          on(document, 'pointermove', this._handleFallbackAutoScroll);\n        } else if (originalEvent.touches) {\n          on(document, 'touchmove', this._handleFallbackAutoScroll);\n        } else {\n          on(document, 'mousemove', this._handleFallbackAutoScroll);\n        }\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref2) {\n      var originalEvent = _ref2.originalEvent;\n      // For when bubbling is canceled and using fallback (fallback 'touchmove' always reached)\n      if (!this.options.dragOverBubble && !originalEvent.rootEl) {\n        this._handleAutoScroll(originalEvent);\n      }\n    },\n    drop: function drop() {\n      if (this.sortable.nativeDraggable) {\n        off(document, 'dragover', this._handleAutoScroll);\n      } else {\n        off(document, 'pointermove', this._handleFallbackAutoScroll);\n        off(document, 'touchmove', this._handleFallbackAutoScroll);\n        off(document, 'mousemove', this._handleFallbackAutoScroll);\n      }\n      clearPointerElemChangedInterval();\n      clearAutoScrolls();\n      cancelThrottle();\n    },\n    nulling: function nulling() {\n      touchEvt$1 = scrollRootEl = scrollEl = scrolling = pointerElemChangedInterval = lastAutoScrollX = lastAutoScrollY = null;\n      autoScrolls.length = 0;\n    },\n    _handleFallbackAutoScroll: function _handleFallbackAutoScroll(evt) {\n      this._handleAutoScroll(evt, true);\n    },\n    _handleAutoScroll: function _handleAutoScroll(evt, fallback) {\n      var _this = this;\n      var x = (evt.touches ? evt.touches[0] : evt).clientX,\n        y = (evt.touches ? evt.touches[0] : evt).clientY,\n        elem = document.elementFromPoint(x, y);\n      touchEvt$1 = evt;\n\n      // IE does not seem to have native autoscroll,\n      // Edge's autoscroll seems too conditional,\n      // MACOS Safari does not have autoscroll,\n      // Firefox and Chrome are good\n      if (fallback || this.options.forceAutoScrollFallback || Edge || IE11OrLess || Safari) {\n        autoScroll(evt, this.options, elem, fallback);\n\n        // Listener for pointer element change\n        var ogElemScroller = getParentAutoScrollElement(elem, true);\n        if (scrolling && (!pointerElemChangedInterval || x !== lastAutoScrollX || y !== lastAutoScrollY)) {\n          pointerElemChangedInterval && clearPointerElemChangedInterval();\n          // Detect for pointer elem change, emulating native DnD behaviour\n          pointerElemChangedInterval = setInterval(function () {\n            var newElem = getParentAutoScrollElement(document.elementFromPoint(x, y), true);\n            if (newElem !== ogElemScroller) {\n              ogElemScroller = newElem;\n              clearAutoScrolls();\n            }\n            autoScroll(evt, _this.options, newElem, fallback);\n          }, 10);\n          lastAutoScrollX = x;\n          lastAutoScrollY = y;\n        }\n      } else {\n        // if DnD is enabled (and browser has good autoscrolling), first autoscroll will already scroll, so get parent autoscroll of first autoscroll\n        if (!this.options.bubbleScroll || getParentAutoScrollElement(elem, true) === getWindowScrollingElement()) {\n          clearAutoScrolls();\n          return;\n        }\n        autoScroll(evt, this.options, getParentAutoScrollElement(elem, false), false);\n      }\n    }\n  };\n  return _extends(AutoScroll, {\n    pluginName: 'scroll',\n    initializeByDefault: true\n  });\n}\nfunction clearAutoScrolls() {\n  autoScrolls.forEach(function (autoScroll) {\n    clearInterval(autoScroll.pid);\n  });\n  autoScrolls = [];\n}\nfunction clearPointerElemChangedInterval() {\n  clearInterval(pointerElemChangedInterval);\n}\nvar autoScroll = throttle(function (evt, options, rootEl, isFallback) {\n  // Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n  if (!options.scroll) return;\n  var x = (evt.touches ? evt.touches[0] : evt).clientX,\n    y = (evt.touches ? evt.touches[0] : evt).clientY,\n    sens = options.scrollSensitivity,\n    speed = options.scrollSpeed,\n    winScroller = getWindowScrollingElement();\n  var scrollThisInstance = false,\n    scrollCustomFn;\n\n  // New scroll root, set scrollEl\n  if (scrollRootEl !== rootEl) {\n    scrollRootEl = rootEl;\n    clearAutoScrolls();\n    scrollEl = options.scroll;\n    scrollCustomFn = options.scrollFn;\n    if (scrollEl === true) {\n      scrollEl = getParentAutoScrollElement(rootEl, true);\n    }\n  }\n  var layersOut = 0;\n  var currentParent = scrollEl;\n  do {\n    var el = currentParent,\n      rect = getRect(el),\n      top = rect.top,\n      bottom = rect.bottom,\n      left = rect.left,\n      right = rect.right,\n      width = rect.width,\n      height = rect.height,\n      canScrollX = void 0,\n      canScrollY = void 0,\n      scrollWidth = el.scrollWidth,\n      scrollHeight = el.scrollHeight,\n      elCSS = css(el),\n      scrollPosX = el.scrollLeft,\n      scrollPosY = el.scrollTop;\n    if (el === winScroller) {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll' || elCSS.overflowX === 'visible');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll' || elCSS.overflowY === 'visible');\n    } else {\n      canScrollX = width < scrollWidth && (elCSS.overflowX === 'auto' || elCSS.overflowX === 'scroll');\n      canScrollY = height < scrollHeight && (elCSS.overflowY === 'auto' || elCSS.overflowY === 'scroll');\n    }\n    var vx = canScrollX && (Math.abs(right - x) <= sens && scrollPosX + width < scrollWidth) - (Math.abs(left - x) <= sens && !!scrollPosX);\n    var vy = canScrollY && (Math.abs(bottom - y) <= sens && scrollPosY + height < scrollHeight) - (Math.abs(top - y) <= sens && !!scrollPosY);\n    if (!autoScrolls[layersOut]) {\n      for (var i = 0; i <= layersOut; i++) {\n        if (!autoScrolls[i]) {\n          autoScrolls[i] = {};\n        }\n      }\n    }\n    if (autoScrolls[layersOut].vx != vx || autoScrolls[layersOut].vy != vy || autoScrolls[layersOut].el !== el) {\n      autoScrolls[layersOut].el = el;\n      autoScrolls[layersOut].vx = vx;\n      autoScrolls[layersOut].vy = vy;\n      clearInterval(autoScrolls[layersOut].pid);\n      if (vx != 0 || vy != 0) {\n        scrollThisInstance = true;\n        /* jshint loopfunc:true */\n        autoScrolls[layersOut].pid = setInterval(function () {\n          // emulate drag over during autoscroll (fallback), emulating native DnD behaviour\n          if (isFallback && this.layer === 0) {\n            Sortable.active._onTouchMove(touchEvt$1); // To move ghost if it is positioned absolutely\n          }\n          var scrollOffsetY = autoScrolls[this.layer].vy ? autoScrolls[this.layer].vy * speed : 0;\n          var scrollOffsetX = autoScrolls[this.layer].vx ? autoScrolls[this.layer].vx * speed : 0;\n          if (typeof scrollCustomFn === 'function') {\n            if (scrollCustomFn.call(Sortable.dragged.parentNode[expando], scrollOffsetX, scrollOffsetY, evt, touchEvt$1, autoScrolls[this.layer].el) !== 'continue') {\n              return;\n            }\n          }\n          scrollBy(autoScrolls[this.layer].el, scrollOffsetX, scrollOffsetY);\n        }.bind({\n          layer: layersOut\n        }), 24);\n      }\n    }\n    layersOut++;\n  } while (options.bubbleScroll && currentParent !== winScroller && (currentParent = getParentAutoScrollElement(currentParent, false)));\n  scrolling = scrollThisInstance; // in case another function catches scrolling as false in between when it is not\n}, 30);\n\nvar drop = function drop(_ref) {\n  var originalEvent = _ref.originalEvent,\n    putSortable = _ref.putSortable,\n    dragEl = _ref.dragEl,\n    activeSortable = _ref.activeSortable,\n    dispatchSortableEvent = _ref.dispatchSortableEvent,\n    hideGhostForTarget = _ref.hideGhostForTarget,\n    unhideGhostForTarget = _ref.unhideGhostForTarget;\n  if (!originalEvent) return;\n  var toSortable = putSortable || activeSortable;\n  hideGhostForTarget();\n  var touch = originalEvent.changedTouches && originalEvent.changedTouches.length ? originalEvent.changedTouches[0] : originalEvent;\n  var target = document.elementFromPoint(touch.clientX, touch.clientY);\n  unhideGhostForTarget();\n  if (toSortable && !toSortable.el.contains(target)) {\n    dispatchSortableEvent('spill');\n    this.onSpill({\n      dragEl: dragEl,\n      putSortable: putSortable\n    });\n  }\n};\nfunction Revert() {}\nRevert.prototype = {\n  startIndex: null,\n  dragStart: function dragStart(_ref2) {\n    var oldDraggableIndex = _ref2.oldDraggableIndex;\n    this.startIndex = oldDraggableIndex;\n  },\n  onSpill: function onSpill(_ref3) {\n    var dragEl = _ref3.dragEl,\n      putSortable = _ref3.putSortable;\n    this.sortable.captureAnimationState();\n    if (putSortable) {\n      putSortable.captureAnimationState();\n    }\n    var nextSibling = getChild(this.sortable.el, this.startIndex, this.options);\n    if (nextSibling) {\n      this.sortable.el.insertBefore(dragEl, nextSibling);\n    } else {\n      this.sortable.el.appendChild(dragEl);\n    }\n    this.sortable.animateAll();\n    if (putSortable) {\n      putSortable.animateAll();\n    }\n  },\n  drop: drop\n};\n_extends(Revert, {\n  pluginName: 'revertOnSpill'\n});\nfunction Remove() {}\nRemove.prototype = {\n  onSpill: function onSpill(_ref4) {\n    var dragEl = _ref4.dragEl,\n      putSortable = _ref4.putSortable;\n    var parentSortable = putSortable || this.sortable;\n    parentSortable.captureAnimationState();\n    dragEl.parentNode && dragEl.parentNode.removeChild(dragEl);\n    parentSortable.animateAll();\n  },\n  drop: drop\n};\n_extends(Remove, {\n  pluginName: 'removeOnSpill'\n});\n\nvar lastSwapEl;\nfunction SwapPlugin() {\n  function Swap() {\n    this.defaults = {\n      swapClass: 'sortable-swap-highlight'\n    };\n  }\n  Swap.prototype = {\n    dragStart: function dragStart(_ref) {\n      var dragEl = _ref.dragEl;\n      lastSwapEl = dragEl;\n    },\n    dragOverValid: function dragOverValid(_ref2) {\n      var completed = _ref2.completed,\n        target = _ref2.target,\n        onMove = _ref2.onMove,\n        activeSortable = _ref2.activeSortable,\n        changed = _ref2.changed,\n        cancel = _ref2.cancel;\n      if (!activeSortable.options.swap) return;\n      var el = this.sortable.el,\n        options = this.options;\n      if (target && target !== el) {\n        var prevSwapEl = lastSwapEl;\n        if (onMove(target) !== false) {\n          toggleClass(target, options.swapClass, true);\n          lastSwapEl = target;\n        } else {\n          lastSwapEl = null;\n        }\n        if (prevSwapEl && prevSwapEl !== lastSwapEl) {\n          toggleClass(prevSwapEl, options.swapClass, false);\n        }\n      }\n      changed();\n      completed(true);\n      cancel();\n    },\n    drop: function drop(_ref3) {\n      var activeSortable = _ref3.activeSortable,\n        putSortable = _ref3.putSortable,\n        dragEl = _ref3.dragEl;\n      var toSortable = putSortable || this.sortable;\n      var options = this.options;\n      lastSwapEl && toggleClass(lastSwapEl, options.swapClass, false);\n      if (lastSwapEl && (options.swap || putSortable && putSortable.options.swap)) {\n        if (dragEl !== lastSwapEl) {\n          toSortable.captureAnimationState();\n          if (toSortable !== activeSortable) activeSortable.captureAnimationState();\n          swapNodes(dragEl, lastSwapEl);\n          toSortable.animateAll();\n          if (toSortable !== activeSortable) activeSortable.animateAll();\n        }\n      }\n    },\n    nulling: function nulling() {\n      lastSwapEl = null;\n    }\n  };\n  return _extends(Swap, {\n    pluginName: 'swap',\n    eventProperties: function eventProperties() {\n      return {\n        swapItem: lastSwapEl\n      };\n    }\n  });\n}\nfunction swapNodes(n1, n2) {\n  var p1 = n1.parentNode,\n    p2 = n2.parentNode,\n    i1,\n    i2;\n  if (!p1 || !p2 || p1.isEqualNode(n2) || p2.isEqualNode(n1)) return;\n  i1 = index(n1);\n  i2 = index(n2);\n  if (p1.isEqualNode(p2) && i1 < i2) {\n    i2++;\n  }\n  p1.insertBefore(n2, p1.children[i1]);\n  p2.insertBefore(n1, p2.children[i2]);\n}\n\nvar multiDragElements = [],\n  multiDragClones = [],\n  lastMultiDragSelect,\n  // for selection with modifier key down (SHIFT)\n  multiDragSortable,\n  initialFolding = false,\n  // Initial multi-drag fold when drag started\n  folding = false,\n  // Folding any other time\n  dragStarted = false,\n  dragEl$1,\n  clonesFromRect,\n  clonesHidden;\nfunction MultiDragPlugin() {\n  function MultiDrag(sortable) {\n    // Bind all private methods\n    for (var fn in this) {\n      if (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\n        this[fn] = this[fn].bind(this);\n      }\n    }\n    if (!sortable.options.avoidImplicitDeselect) {\n      if (sortable.options.supportPointer) {\n        on(document, 'pointerup', this._deselectMultiDrag);\n      } else {\n        on(document, 'mouseup', this._deselectMultiDrag);\n        on(document, 'touchend', this._deselectMultiDrag);\n      }\n    }\n    on(document, 'keydown', this._checkKeyDown);\n    on(document, 'keyup', this._checkKeyUp);\n    this.defaults = {\n      selectedClass: 'sortable-selected',\n      multiDragKey: null,\n      avoidImplicitDeselect: false,\n      setData: function setData(dataTransfer, dragEl) {\n        var data = '';\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          multiDragElements.forEach(function (multiDragElement, i) {\n            data += (!i ? '' : ', ') + multiDragElement.textContent;\n          });\n        } else {\n          data = dragEl.textContent;\n        }\n        dataTransfer.setData('Text', data);\n      }\n    };\n  }\n  MultiDrag.prototype = {\n    multiDragKeyDown: false,\n    isMultiDrag: false,\n    delayStartGlobal: function delayStartGlobal(_ref) {\n      var dragged = _ref.dragEl;\n      dragEl$1 = dragged;\n    },\n    delayEnded: function delayEnded() {\n      this.isMultiDrag = ~multiDragElements.indexOf(dragEl$1);\n    },\n    setupClone: function setupClone(_ref2) {\n      var sortable = _ref2.sortable,\n        cancel = _ref2.cancel;\n      if (!this.isMultiDrag) return;\n      for (var i = 0; i < multiDragElements.length; i++) {\n        multiDragClones.push(clone(multiDragElements[i]));\n        multiDragClones[i].sortableIndex = multiDragElements[i].sortableIndex;\n        multiDragClones[i].draggable = false;\n        multiDragClones[i].style['will-change'] = '';\n        toggleClass(multiDragClones[i], this.options.selectedClass, false);\n        multiDragElements[i] === dragEl$1 && toggleClass(multiDragClones[i], this.options.chosenClass, false);\n      }\n      sortable._hideClone();\n      cancel();\n    },\n    clone: function clone(_ref3) {\n      var sortable = _ref3.sortable,\n        rootEl = _ref3.rootEl,\n        dispatchSortableEvent = _ref3.dispatchSortableEvent,\n        cancel = _ref3.cancel;\n      if (!this.isMultiDrag) return;\n      if (!this.options.removeCloneOnHide) {\n        if (multiDragElements.length && multiDragSortable === sortable) {\n          insertMultiDragClones(true, rootEl);\n          dispatchSortableEvent('clone');\n          cancel();\n        }\n      }\n    },\n    showClone: function showClone(_ref4) {\n      var cloneNowShown = _ref4.cloneNowShown,\n        rootEl = _ref4.rootEl,\n        cancel = _ref4.cancel;\n      if (!this.isMultiDrag) return;\n      insertMultiDragClones(false, rootEl);\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', '');\n      });\n      cloneNowShown();\n      clonesHidden = false;\n      cancel();\n    },\n    hideClone: function hideClone(_ref5) {\n      var _this = this;\n      var sortable = _ref5.sortable,\n        cloneNowHidden = _ref5.cloneNowHidden,\n        cancel = _ref5.cancel;\n      if (!this.isMultiDrag) return;\n      multiDragClones.forEach(function (clone) {\n        css(clone, 'display', 'none');\n        if (_this.options.removeCloneOnHide && clone.parentNode) {\n          clone.parentNode.removeChild(clone);\n        }\n      });\n      cloneNowHidden();\n      clonesHidden = true;\n      cancel();\n    },\n    dragStartGlobal: function dragStartGlobal(_ref6) {\n      var sortable = _ref6.sortable;\n      if (!this.isMultiDrag && multiDragSortable) {\n        multiDragSortable.multiDrag._deselectMultiDrag();\n      }\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.sortableIndex = index(multiDragElement);\n      });\n\n      // Sort multi-drag elements\n      multiDragElements = multiDragElements.sort(function (a, b) {\n        return a.sortableIndex - b.sortableIndex;\n      });\n      dragStarted = true;\n    },\n    dragStarted: function dragStarted(_ref7) {\n      var _this2 = this;\n      var sortable = _ref7.sortable;\n      if (!this.isMultiDrag) return;\n      if (this.options.sort) {\n        // Capture rects,\n        // hide multi drag elements (by positioning them absolute),\n        // set multi drag elements rects to dragRect,\n        // show multi drag elements,\n        // animate to rects,\n        // unset rects & remove from DOM\n\n        sortable.captureAnimationState();\n        if (this.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            css(multiDragElement, 'position', 'absolute');\n          });\n          var dragRect = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRect);\n          });\n          folding = true;\n          initialFolding = true;\n        }\n      }\n      sortable.animateAll(function () {\n        folding = false;\n        initialFolding = false;\n        if (_this2.options.animation) {\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n        }\n\n        // Remove all auxiliary multidrag items from el, if sorting enabled\n        if (_this2.options.sort) {\n          removeMultiDragElements();\n        }\n      });\n    },\n    dragOver: function dragOver(_ref8) {\n      var target = _ref8.target,\n        completed = _ref8.completed,\n        cancel = _ref8.cancel;\n      if (folding && ~multiDragElements.indexOf(target)) {\n        completed(false);\n        cancel();\n      }\n    },\n    revert: function revert(_ref9) {\n      var fromSortable = _ref9.fromSortable,\n        rootEl = _ref9.rootEl,\n        sortable = _ref9.sortable,\n        dragRect = _ref9.dragRect;\n      if (multiDragElements.length > 1) {\n        // Setup unfold animation\n        multiDragElements.forEach(function (multiDragElement) {\n          sortable.addAnimationState({\n            target: multiDragElement,\n            rect: folding ? getRect(multiDragElement) : dragRect\n          });\n          unsetRect(multiDragElement);\n          multiDragElement.fromRect = dragRect;\n          fromSortable.removeAnimationState(multiDragElement);\n        });\n        folding = false;\n        insertMultiDragElements(!this.options.removeCloneOnHide, rootEl);\n      }\n    },\n    dragOverCompleted: function dragOverCompleted(_ref10) {\n      var sortable = _ref10.sortable,\n        isOwner = _ref10.isOwner,\n        insertion = _ref10.insertion,\n        activeSortable = _ref10.activeSortable,\n        parentEl = _ref10.parentEl,\n        putSortable = _ref10.putSortable;\n      var options = this.options;\n      if (insertion) {\n        // Clones must be hidden before folding animation to capture dragRectAbsolute properly\n        if (isOwner) {\n          activeSortable._hideClone();\n        }\n        initialFolding = false;\n        // If leaving sort:false root, or already folding - Fold to new location\n        if (options.animation && multiDragElements.length > 1 && (folding || !isOwner && !activeSortable.options.sort && !putSortable)) {\n          // Fold: Set all multi drag elements's rects to dragEl's rect when multi-drag elements are invisible\n          var dragRectAbsolute = getRect(dragEl$1, false, true, true);\n          multiDragElements.forEach(function (multiDragElement) {\n            if (multiDragElement === dragEl$1) return;\n            setRect(multiDragElement, dragRectAbsolute);\n\n            // Move element(s) to end of parentEl so that it does not interfere with multi-drag clones insertion if they are inserted\n            // while folding, and so that we can capture them again because old sortable will no longer be fromSortable\n            parentEl.appendChild(multiDragElement);\n          });\n          folding = true;\n        }\n\n        // Clones must be shown (and check to remove multi drags) after folding when interfering multiDragElements are moved out\n        if (!isOwner) {\n          // Only remove if not folding (folding will remove them anyways)\n          if (!folding) {\n            removeMultiDragElements();\n          }\n          if (multiDragElements.length > 1) {\n            var clonesHiddenBefore = clonesHidden;\n            activeSortable._showClone(sortable);\n\n            // Unfold animation for clones if showing from hidden\n            if (activeSortable.options.animation && !clonesHidden && clonesHiddenBefore) {\n              multiDragClones.forEach(function (clone) {\n                activeSortable.addAnimationState({\n                  target: clone,\n                  rect: clonesFromRect\n                });\n                clone.fromRect = clonesFromRect;\n                clone.thisAnimationDuration = null;\n              });\n            }\n          } else {\n            activeSortable._showClone(sortable);\n          }\n        }\n      }\n    },\n    dragOverAnimationCapture: function dragOverAnimationCapture(_ref11) {\n      var dragRect = _ref11.dragRect,\n        isOwner = _ref11.isOwner,\n        activeSortable = _ref11.activeSortable;\n      multiDragElements.forEach(function (multiDragElement) {\n        multiDragElement.thisAnimationDuration = null;\n      });\n      if (activeSortable.options.animation && !isOwner && activeSortable.multiDrag.isMultiDrag) {\n        clonesFromRect = _extends({}, dragRect);\n        var dragMatrix = matrix(dragEl$1, true);\n        clonesFromRect.top -= dragMatrix.f;\n        clonesFromRect.left -= dragMatrix.e;\n      }\n    },\n    dragOverAnimationComplete: function dragOverAnimationComplete() {\n      if (folding) {\n        folding = false;\n        removeMultiDragElements();\n      }\n    },\n    drop: function drop(_ref12) {\n      var evt = _ref12.originalEvent,\n        rootEl = _ref12.rootEl,\n        parentEl = _ref12.parentEl,\n        sortable = _ref12.sortable,\n        dispatchSortableEvent = _ref12.dispatchSortableEvent,\n        oldIndex = _ref12.oldIndex,\n        putSortable = _ref12.putSortable;\n      var toSortable = putSortable || this.sortable;\n      if (!evt) return;\n      var options = this.options,\n        children = parentEl.children;\n\n      // Multi-drag selection\n      if (!dragStarted) {\n        if (options.multiDragKey && !this.multiDragKeyDown) {\n          this._deselectMultiDrag();\n        }\n        toggleClass(dragEl$1, options.selectedClass, !~multiDragElements.indexOf(dragEl$1));\n        if (!~multiDragElements.indexOf(dragEl$1)) {\n          multiDragElements.push(dragEl$1);\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'select',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n\n          // Modifier activated, select from last to dragEl\n          if (evt.shiftKey && lastMultiDragSelect && sortable.el.contains(lastMultiDragSelect)) {\n            var lastIndex = index(lastMultiDragSelect),\n              currentIndex = index(dragEl$1);\n            if (~lastIndex && ~currentIndex && lastIndex !== currentIndex) {\n              // Must include lastMultiDragSelect (select it), in case modified selection from no selection\n              // (but previous selection existed)\n              var n, i;\n              if (currentIndex > lastIndex) {\n                i = lastIndex;\n                n = currentIndex;\n              } else {\n                i = currentIndex;\n                n = lastIndex + 1;\n              }\n              for (; i < n; i++) {\n                if (~multiDragElements.indexOf(children[i])) continue;\n                toggleClass(children[i], options.selectedClass, true);\n                multiDragElements.push(children[i]);\n                dispatchEvent({\n                  sortable: sortable,\n                  rootEl: rootEl,\n                  name: 'select',\n                  targetEl: children[i],\n                  originalEvent: evt\n                });\n              }\n            }\n          } else {\n            lastMultiDragSelect = dragEl$1;\n          }\n          multiDragSortable = toSortable;\n        } else {\n          multiDragElements.splice(multiDragElements.indexOf(dragEl$1), 1);\n          lastMultiDragSelect = null;\n          dispatchEvent({\n            sortable: sortable,\n            rootEl: rootEl,\n            name: 'deselect',\n            targetEl: dragEl$1,\n            originalEvent: evt\n          });\n        }\n      }\n\n      // Multi-drag drop\n      if (dragStarted && this.isMultiDrag) {\n        folding = false;\n        // Do not \"unfold\" after around dragEl if reverted\n        if ((parentEl[expando].options.sort || parentEl !== rootEl) && multiDragElements.length > 1) {\n          var dragRect = getRect(dragEl$1),\n            multiDragIndex = index(dragEl$1, ':not(.' + this.options.selectedClass + ')');\n          if (!initialFolding && options.animation) dragEl$1.thisAnimationDuration = null;\n          toSortable.captureAnimationState();\n          if (!initialFolding) {\n            if (options.animation) {\n              dragEl$1.fromRect = dragRect;\n              multiDragElements.forEach(function (multiDragElement) {\n                multiDragElement.thisAnimationDuration = null;\n                if (multiDragElement !== dragEl$1) {\n                  var rect = folding ? getRect(multiDragElement) : dragRect;\n                  multiDragElement.fromRect = rect;\n\n                  // Prepare unfold animation\n                  toSortable.addAnimationState({\n                    target: multiDragElement,\n                    rect: rect\n                  });\n                }\n              });\n            }\n\n            // Multi drag elements are not necessarily removed from the DOM on drop, so to reinsert\n            // properly they must all be removed\n            removeMultiDragElements();\n            multiDragElements.forEach(function (multiDragElement) {\n              if (children[multiDragIndex]) {\n                parentEl.insertBefore(multiDragElement, children[multiDragIndex]);\n              } else {\n                parentEl.appendChild(multiDragElement);\n              }\n              multiDragIndex++;\n            });\n\n            // If initial folding is done, the elements may have changed position because they are now\n            // unfolding around dragEl, even though dragEl may not have his index changed, so update event\n            // must be fired here as Sortable will not.\n            if (oldIndex === index(dragEl$1)) {\n              var update = false;\n              multiDragElements.forEach(function (multiDragElement) {\n                if (multiDragElement.sortableIndex !== index(multiDragElement)) {\n                  update = true;\n                  return;\n                }\n              });\n              if (update) {\n                dispatchSortableEvent('update');\n                dispatchSortableEvent('sort');\n              }\n            }\n          }\n\n          // Must be done after capturing individual rects (scroll bar)\n          multiDragElements.forEach(function (multiDragElement) {\n            unsetRect(multiDragElement);\n          });\n          toSortable.animateAll();\n        }\n        multiDragSortable = toSortable;\n      }\n\n      // Remove clones if necessary\n      if (rootEl === parentEl || putSortable && putSortable.lastPutMode !== 'clone') {\n        multiDragClones.forEach(function (clone) {\n          clone.parentNode && clone.parentNode.removeChild(clone);\n        });\n      }\n    },\n    nullingGlobal: function nullingGlobal() {\n      this.isMultiDrag = dragStarted = false;\n      multiDragClones.length = 0;\n    },\n    destroyGlobal: function destroyGlobal() {\n      this._deselectMultiDrag();\n      off(document, 'pointerup', this._deselectMultiDrag);\n      off(document, 'mouseup', this._deselectMultiDrag);\n      off(document, 'touchend', this._deselectMultiDrag);\n      off(document, 'keydown', this._checkKeyDown);\n      off(document, 'keyup', this._checkKeyUp);\n    },\n    _deselectMultiDrag: function _deselectMultiDrag(evt) {\n      if (typeof dragStarted !== \"undefined\" && dragStarted) return;\n\n      // Only deselect if selection is in this sortable\n      if (multiDragSortable !== this.sortable) return;\n\n      // Only deselect if target is not item in this sortable\n      if (evt && closest(evt.target, this.options.draggable, this.sortable.el, false)) return;\n\n      // Only deselect if left click\n      if (evt && evt.button !== 0) return;\n      while (multiDragElements.length) {\n        var el = multiDragElements[0];\n        toggleClass(el, this.options.selectedClass, false);\n        multiDragElements.shift();\n        dispatchEvent({\n          sortable: this.sortable,\n          rootEl: this.sortable.el,\n          name: 'deselect',\n          targetEl: el,\n          originalEvent: evt\n        });\n      }\n    },\n    _checkKeyDown: function _checkKeyDown(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = true;\n      }\n    },\n    _checkKeyUp: function _checkKeyUp(evt) {\n      if (evt.key === this.options.multiDragKey) {\n        this.multiDragKeyDown = false;\n      }\n    }\n  };\n  return _extends(MultiDrag, {\n    // Static methods & properties\n    pluginName: 'multiDrag',\n    utils: {\n      /**\r\n       * Selects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be selected\r\n       */\n      select: function select(el) {\n        var sortable = el.parentNode[expando];\n        if (!sortable || !sortable.options.multiDrag || ~multiDragElements.indexOf(el)) return;\n        if (multiDragSortable && multiDragSortable !== sortable) {\n          multiDragSortable.multiDrag._deselectMultiDrag();\n          multiDragSortable = sortable;\n        }\n        toggleClass(el, sortable.options.selectedClass, true);\n        multiDragElements.push(el);\n      },\n      /**\r\n       * Deselects the provided multi-drag item\r\n       * @param  {HTMLElement} el    The element to be deselected\r\n       */\n      deselect: function deselect(el) {\n        var sortable = el.parentNode[expando],\n          index = multiDragElements.indexOf(el);\n        if (!sortable || !sortable.options.multiDrag || !~index) return;\n        toggleClass(el, sortable.options.selectedClass, false);\n        multiDragElements.splice(index, 1);\n      }\n    },\n    eventProperties: function eventProperties() {\n      var _this3 = this;\n      var oldIndicies = [],\n        newIndicies = [];\n      multiDragElements.forEach(function (multiDragElement) {\n        oldIndicies.push({\n          multiDragElement: multiDragElement,\n          index: multiDragElement.sortableIndex\n        });\n\n        // multiDragElements will already be sorted if folding\n        var newIndex;\n        if (folding && multiDragElement !== dragEl$1) {\n          newIndex = -1;\n        } else if (folding) {\n          newIndex = index(multiDragElement, ':not(.' + _this3.options.selectedClass + ')');\n        } else {\n          newIndex = index(multiDragElement);\n        }\n        newIndicies.push({\n          multiDragElement: multiDragElement,\n          index: newIndex\n        });\n      });\n      return {\n        items: _toConsumableArray(multiDragElements),\n        clones: [].concat(multiDragClones),\n        oldIndicies: oldIndicies,\n        newIndicies: newIndicies\n      };\n    },\n    optionListeners: {\n      multiDragKey: function multiDragKey(key) {\n        key = key.toLowerCase();\n        if (key === 'ctrl') {\n          key = 'Control';\n        } else if (key.length > 1) {\n          key = key.charAt(0).toUpperCase() + key.substr(1);\n        }\n        return key;\n      }\n    }\n  });\n}\nfunction insertMultiDragElements(clonesInserted, rootEl) {\n  multiDragElements.forEach(function (multiDragElement, i) {\n    var target = rootEl.children[multiDragElement.sortableIndex + (clonesInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(multiDragElement, target);\n    } else {\n      rootEl.appendChild(multiDragElement);\n    }\n  });\n}\n\n/**\r\n * Insert multi-drag clones\r\n * @param  {[Boolean]} elementsInserted  Whether the multi-drag elements are inserted\r\n * @param  {HTMLElement} rootEl\r\n */\nfunction insertMultiDragClones(elementsInserted, rootEl) {\n  multiDragClones.forEach(function (clone, i) {\n    var target = rootEl.children[clone.sortableIndex + (elementsInserted ? Number(i) : 0)];\n    if (target) {\n      rootEl.insertBefore(clone, target);\n    } else {\n      rootEl.appendChild(clone);\n    }\n  });\n}\nfunction removeMultiDragElements() {\n  multiDragElements.forEach(function (multiDragElement) {\n    if (multiDragElement === dragEl$1) return;\n    multiDragElement.parentNode && multiDragElement.parentNode.removeChild(multiDragElement);\n  });\n}\n\nSortable.mount(new AutoScrollPlugin());\nSortable.mount(Remove, Revert);\n\nSortable.mount(new SwapPlugin());\nSortable.mount(new MultiDragPlugin());\n\nexport default Sortable;\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-booking-form-config {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border: 1px solid var(--nylas-base-200);\n  border-radius: var(--nylas-border-radius-2x);\n\n  .header {\n    padding: 1rem;\n    display: flex;\n    justify-content: space-between;\n    border-bottom: 1px solid var(--nylas-base-200);\n\n    .header_text {\n      h3 {\n        margin: 0;\n        font-size: 16px;\n        font-weight: 500;\n        line-height: 20px;\n        color: var(--nylas-base-900);\n        text-align: left;\n      }\n\n      p {\n        margin: 0.25rem 0 0 0;\n        font-size: 0.875rem;\n        font-weight: 400;\n        line-height: 20px;\n        color: var(--nylas-base-600);\n        text-align: left;\n      }\n    }\n\n    .header_action {\n      display: flex;\n\n      select-dropdown::part(sd_dropdown-button) {\n        width: 100%;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        border: 1px solid var(--nylas-base-200);\n        border-radius: var(--nylas-border-radius-2x);\n        padding: 1rem;\n      }\n    }\n  }\n\n  .content {\n    padding: 1rem;\n    color: var(--nylas-base-900);\n    font-size: 16px;\n    font-family: var(--nylas-font-family);\n\n    @media #{$small-mobile} {\n      font-size: 15px;\n    }\n\n    .additional_fields {\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n\n      @media #{$small-mobile} {\n        gap: 0.5rem;\n        padding: 0;\n      }\n\n      position: relative;\n      overflow: auto;\n\n      .form-field {\n        border-radius: var(--nylas-border-radius-2x);\n        border: 1px solid var(--nylas-base-200);\n        padding: 1rem;\n        user-select: none;\n        background-color: white;\n        /* Prevent text selection */\n        position: relative;\n\n        &.highlight {\n          background-color: var(--nylas-base-200);\n        }\n\n        .form-field_header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n\n          .dragable {\n            cursor: move;\n          }\n\n          .form-field_header_text {\n            flex: 1;\n            text-align: left;\n            padding-left: 1rem;\n\n            h4 {\n              margin: 0;\n              font-size: 16px;\n              line-height: 20px;\n              color: var(--nylas-base-900);\n              text-align: left;\n            }\n\n            p {\n              margin: 0.25rem 0 0 0;\n              font-size: 0.875rem;\n              font-weight: 400;\n              line-height: 20px;\n              color: var(--nylas-base-600);\n              text-align: left;\n            }\n          }\n\n          .form-field_header_actions {\n            display: flex;\n            align-items: center;\n\n            .is-required {\n              color: var(--nylas-base-500);\n              background-color: var(--nylas-base-50);\n              font-weight: 600;\n              padding: 4px 8px;\n              border-radius: var(--nylas-border-radius-2x);\n            }\n\n            button {\n              border: none;\n              background: transparent;\n              height: 40px;\n              margin: 0 1rem;\n              cursor: pointer;\n              color: var(--nylas-base-800);\n\n              &:hover,\n              &:active {\n                color: var(--nylas-primary);\n              }\n            }\n\n            .chevron {\n              display: flex;\n              align-self: center;\n              cursor: pointer;\n\n              &:hover,\n              &:active {\n                color: var(--nylas-primary);\n              }\n\n              &.open {\n                transform: rotate(90deg);\n              }\n\n              &.closed {\n                transform: rotate(270deg);\n              }\n            }\n          }\n        }\n\n        .form-field_content {\n          padding: 1.5rem 0 0 2.7rem;\n\n          &.hidden {\n            display: none;\n          }\n\n          .inputs {\n            display: flex;\n\n            .label-input {\n              padding: 0 1rem 0 0;\n            }\n\n            .required-input {\n              display: flex;\n\n              label {\n                padding: 0.5rem;\n              }\n\n              input[type='checkbox'] {\n                transform: scale(1.3);\n              }\n            }\n          }\n\n          .options-container {\n            h4 {\n              margin: 0;\n              font-size: 16px;\n              line-height: 20px;\n              font-weight: 500;\n              padding: 0.5rem 0;\n              color: var(--nylas-base-900);\n              text-align: left;\n            }\n\n            button {\n              border: none;\n              background: transparent;\n              height: 40px;\n              margin: 1rem 0;\n              cursor: pointer;\n              color: var(--nylas-base-800);\n              display: flex;\n              align-items: center;\n              justify-content: space-between;\n\n              &:hover,\n              &:active {\n                color: var(--nylas-primary);\n              }\n            }\n\n            .options {\n              display: flex;\n              flex-direction: column;\n              gap: 1rem;\n\n              .option {\n                display: flex;\n                justify-content: space-between;\n                align-items: center;\n\n                button {\n                  border: none;\n                  background: transparent;\n                  height: 40px;\n                  margin: 0 1rem;\n                  cursor: pointer;\n                  color: var(--nylas-base-800);\n\n                  &:hover,\n                  &:active {\n                    color: var(--nylas-primary);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { DEFAULT_FORM_FIELD_TYPES, FIELD_TYPES } from '@/common/constants';\nimport { Configuration } from '@nylas/core';\nimport Sortable from 'sortablejs/modular/sortable.complete.esm.js';\n\ninterface AdditionalFields {\n  type: string;\n  required: boolean;\n  label: string;\n  order: number;\n  options?: string[];\n  key: string;\n}\ninterface AdditionalFieldsInternal extends AdditionalFields {\n  isOpen: boolean;\n  readonly?: boolean;\n  typeLabel: string;\n}\n/**\n * The `nylas-booking-form-config` component is a form input for adding additional fields to the booking form.\n * @part nbfc__header - The header of the booking form\n * @part nbfc__add_field - The add field selection container\n * @part nbfc__add_field-button - The add field  selection button\n * @part nbfc__add_field-content - The add field  selection dropdown content\n * @part nbfc__additional_fields - The aditional fields container\n * @part nbfc__form-field - The single form container\n * @part nbfc__form-field-header - The single form header\n * @part nbfc__form-field-content - The single form content\n */\n@Component({\n  tag: 'nylas-booking-form-config',\n  styleUrl: 'nylas-booking-form-config.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasBookingFormConfig {\n  /**\n   * The element <nylas-booking-form-config> itself.\n   */\n  @Element() host!: HTMLNylasBookingFormConfigElement;\n  /**\n   * The selected configuration.\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The name of the booking form config.\n   */\n  @Prop() name: string = 'booking-form-config';\n\n  /**\n   * The additional fields to be displayed on the booking form.\n   */\n  @Prop() additonalFields?: AdditionalFields[];\n  /**\n   * This event is fired when the selected availability / open hours change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: Record<string, AdditionalFields>;\n    name: string;\n  }>;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  @State() formFields!: AdditionalFieldsInternal[];\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-calendar-picker', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  connectedCallback() {\n    debug('nylas-booking-form-config', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-booking-form-config', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-booking-form-config', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n    const staticFields = [\n      {\n        type: 'text',\n        label: 'Your name',\n        key: 'your_name',\n        typeLabel: 'Short text',\n        readonly: true,\n        required: true,\n        isOpen: false,\n        order: 0,\n      },\n      {\n        type: 'email',\n        label: 'Your Email',\n        key: 'your_email',\n        typeLabel: 'Email',\n        readonly: true,\n        isOpen: false,\n        required: true,\n        order: 1,\n      },\n    ];\n    this.formFields = [...staticFields];\n  }\n\n  componentDidLoad() {\n    debug('nylas-booking-form-config', 'componentDidLoad');\n    const additionalFields =\n      Object.entries(this.selectedConfiguration?.scheduler?.additional_fields || {}).map(([id, field]) => ({ ...(field as AdditionalFields), key: id })) ||\n      this.additonalFields ||\n      [];\n    this.formFields = [\n      ...this.formFields,\n      ...additionalFields\n        .sort((a, b) => a.order - b.order)\n        .map((f: AdditionalFields, i) => {\n          const { typeLabel } = FIELD_TYPES.find(field => field.type === f.type);\n          f.order = i + 2;\n          return { ...f, isOpen: false, typeLabel };\n        }),\n    ];\n\n    const container = this.host.shadowRoot?.getElementById('fields');\n    Sortable.create(container, {\n      animation: 150,\n      swap: true, // Enable swap plugin\n      swapClass: 'highlight', // The class applied to the hovered swap item\n      onEnd: this.swapFields.bind(this),\n      filter: '.fixed', // Disable dragging for elements with the 'fixed' class\n      onMove: evt => !evt.related.classList.contains('fixed'), // Prevent moving if target has 'fixed' class\n    });\n  }\n\n  @Watch('formFields')\n  watchHandler(newValue: AdditionalFieldsInternal[]) {\n    const additionalFields = newValue;\n    // Remove readonly fields, sort by order\n    const sortedFields = additionalFields\n      .filter(f => !f.readonly)\n      .sort((a, b) => a.order - b.order)\n      .map((f, i) => {\n        const field: AdditionalFields = {\n          type: f.type,\n          required: f.required,\n          label: f.label,\n          order: i + 1,\n          options: f.options,\n          key: f.key,\n        };\n        return { ...field };\n      });\n    // Map fields to object\n    const addFieldsMap = sortedFields.reduce((acc, field) => {\n      acc[field.key] = {\n        type: field.type,\n        required: field.required,\n        order: field.order,\n        options: field.options,\n        label: field.label,\n      };\n      return acc;\n    }, {});\n    this.valueChanged.emit({\n      value: addFieldsMap,\n      name: this.name,\n    });\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(\n    event: CustomEvent<{\n      value: string;\n      name: string;\n    }>,\n  ) {\n    const { name, value } = event.detail;\n    if (name === 'add-field') {\n      const field = FIELD_TYPES.find(f => f.type === value);\n      const maxOrder = Math.max(...this.formFields.map(f => f.order));\n      const newField = { ...field, order: maxOrder + 1 }; // Copy object + Ensure unique order\n      const existingFieldWithLabel = this.formFields.filter(f => f.label.startsWith(field.label));\n      if (existingFieldWithLabel && existingFieldWithLabel.length > 0) {\n        const label = `${field.label} ${existingFieldWithLabel.length + 1}`;\n        newField.label = label;\n        const key = label.split(' ').join('_');\n        newField.key = key;\n      }\n      this.formFields = [...this.formFields, newField];\n    }\n  }\n\n  @Listen('nylasFormInputChanged')\n  nylasFormInputChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    const { name } = event.detail;\n    const [fieldIndex, optionIndex] = name.split('_');\n    if (optionIndex) {\n      this.fieldOptionChange(parseInt(fieldIndex), parseInt(optionIndex), event);\n    } else {\n      this.fieldLabelChange(parseInt(fieldIndex), event);\n    }\n  }\n\n  swapFields(event) {\n    const { oldIndex, newIndex } = event;\n    if (oldIndex !== undefined && newIndex !== undefined && oldIndex !== newIndex) {\n      const newArray = [...this.formFields].map(f => {\n        if (f.order === oldIndex) {\n          return {\n            ...f,\n            order: newIndex,\n          };\n        }\n        if (f.order === newIndex) {\n          return {\n            ...f,\n            order: oldIndex,\n          };\n        }\n        return f;\n      });\n      this.formFields = newArray;\n    }\n  }\n\n  fieldToggle(index) {\n    this.formFields = this.formFields.map((f, i) => {\n      if (index == i) {\n        f.isOpen = !f.isOpen;\n      }\n      return f;\n    });\n  }\n  fieldRemove(index) {\n    this.formFields = this.formFields.filter((_, i) => i !== index);\n  }\n\n  fieldRequired(index) {\n    this.formFields = this.formFields.map((field, i) => {\n      if (i === index) {\n        field.required = !field.required;\n      }\n      return field;\n    });\n  }\n  fieldLabelChange(index, event) {\n    const target = event.detail;\n    this.formFields = this.formFields.map((field, i) => {\n      if (i === index) {\n        field.label = target.value;\n      }\n      return field;\n    });\n  }\n  fieldOptionAdd(index) {\n    this.formFields = this.formFields.map((field, i) => {\n      if (i === index) {\n        if (!field.options) {\n          field.options = [];\n        }\n        field.options = [...field.options, ''];\n      }\n      return field;\n    });\n  }\n\n  fieldOptionRemove(fieldIndex, index) {\n    this.formFields = this.formFields.map((field, i) => {\n      if (i === fieldIndex) {\n        if (!field.options) {\n          field.options = [];\n        }\n        field.options = field.options.filter((_, i) => i !== index);\n      }\n      return field;\n    });\n  }\n  fieldOptionChange(fieldIndex, index, event) {\n    this.formFields = this.formFields.map((field, i) => {\n      if (i === fieldIndex) {\n        if (!field.options) {\n          field.options = [];\n        }\n        field.options = field.options.map((o, i) => {\n          if (i === index) {\n            o = event.detail.value;\n          }\n          return o;\n        });\n      }\n      return field;\n    });\n  }\n\n  @RegisterComponent<NylasBookingFormConfig, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-booking-form-config',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-booking-form-config\">\n          <div class=\"header\" part=\"nbfc__header\">\n            <div class=\"header_text\">\n              <h3>Booking form</h3>\n              <p>Add custom fields to the booking form.</p>\n            </div>\n            <div class=\"header_action\">\n              <select-dropdown\n                name=\"add-field\"\n                exportparts=\"sd_dropdown: nbfc__add_field, sd_dropdown-button: nbfc__add_field-button, sd_dropdown-content: nbfc__add_field-dropdown-content\"\n                options={DEFAULT_FORM_FIELD_TYPES}\n                withSearch={false}\n                withChevron={false}\n                dropdownButtonText=\"Add new field\"\n              >\n                <span slot=\"select-icon\">\n                  <plus-icon width=\"15\" height=\"15\"></plus-icon>\n                </span>\n              </select-dropdown>\n            </div>\n          </div>\n          <div class=\"content\">\n            <div id=\"fields\" class=\"additional_fields\" part=\"nbfc__additional_fields\">\n              {this.formFields.map((field, i) => {\n                return (\n                  <div class={`form-field draggable ${field.readonly && 'fixed'}`} part=\"nbfc__form_field\" key={i}>\n                    <div class=\"form-field_header\" part=\"nbfc__form_field-header\">\n                      <span class=\"dragable\">\n                        <dragable-icon width=\"24\" height=\"25\"></dragable-icon>\n                      </span>\n                      <div class=\"form-field_header_text\">\n                        <h4>{field.label}</h4>\n                        <p>{field.typeLabel}</p>\n                      </div>\n                      <div class=\"form-field_header_actions\">\n                        <span class={`is-required`}>{field.required ? 'Required' : 'Optional'}</span>\n                        {!field.readonly && (\n                          <button\n                            onClick={() => {\n                              this.fieldRemove(i);\n                            }}\n                          >\n                            <close-icon />\n                          </button>\n                        )}\n                        <span\n                          class={`chevron ${field.isOpen ? 'open' : 'closed'}`}\n                          onClick={() => {\n                            this.fieldToggle(i);\n                          }}\n                        >\n                          <chevron-icon width=\"24\" height=\"24\" />\n                        </span>\n                      </div>\n                    </div>\n                    <div class={`form-field_content ${!field.isOpen && 'hidden'}`} part=\"nbfc__form_field-content\">\n                      <div class=\"inputs\">\n                        <input-component class={'label-input'} name={`${i}`} key={i} label=\"Label\" required={false} readOnly={field.readonly} defaultValue={field.label}>\n                          <div class=\"required-input\" slot=\"additional-input\">\n                            <input\n                              type=\"checkbox\"\n                              name={`required_${field.order}`}\n                              id={`required_${field.order}`}\n                              onClick={() => {\n                                this.fieldRequired(i);\n                              }}\n                              checked={field.required}\n                              disabled={field.readonly}\n                            />\n\n                            <label htmlFor={`required_${field.order}`} aria-label=\"Required\">\n                              Required\n                            </label>\n                          </div>\n                        </input-component>\n                      </div>\n                      {field.options != undefined && (\n                        <div class=\"options-container\">\n                          <h4>ALL OPTIONS</h4>\n                          <div class=\"options\">\n                            {field.options.map((o, j) => {\n                              return (\n                                <div class=\"option\">\n                                  <input-component key={j} name={`${i}_${j}`} label={field.typeLabel + ' option ' + (j + 1)} required={true} defaultValue={o}>\n                                    {j > 1 && (\n                                      <div class=\"required-input\" slot=\"additional-input\">\n                                        <button\n                                          onClick={() => {\n                                            this.fieldOptionRemove(i, j);\n                                          }}\n                                        >\n                                          <close-icon />\n                                        </button>\n                                      </div>\n                                    )}\n                                  </input-component>\n                                </div>\n                              );\n                            })}\n                          </div>\n                          <button\n                            onClick={() => {\n                              this.fieldOptionAdd(i);\n                            }}\n                            part=\"nap__add-time-range\"\n                          >\n                            <add-circle-icon /> Add an option\n                          </button>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-buffer-time {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  text-align: left;\n\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      display: flex;\n      gap: 4px;\n      align-items: center;\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n\n  .nylas-buffer-time__body {\n    display: grid;\n    grid-template-columns: 1fr auto;\n\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n\n    .nylas-buffer-time__dropdown {\n      padding: 1rem;\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      border-right: 1px solid var(--nylas-base-200);\n      color: var(--nylas-base-800);\n\n      @media #{$mobile} {\n        border: none;\n      }\n\n      .nylas-buffer-time__row {\n        display: grid;\n        grid-template-columns: auto 1fr;\n        align-items: center;\n        gap: 1rem;\n\n        label {\n          width: 200px;\n        }\n\n        .dropdown-container {\n          display: flex;\n          gap: 1rem;\n          align-items: center;\n          justify-content: flex-end;\n        }\n      }\n    }\n\n    .nylas-buffer-time__preview {\n      width: 208px;\n      background: var(--nylas-base-25);\n      border-bottom-right-radius: var(--nylas-border-radius-2x);\n\n      @media #{$mobile} {\n        width: inherit;\n        border-bottom-left-radius: var(--nylas-border-radius-2x);\n      }\n\n      h4 {\n        font-size: 14px;\n        line-height: 24px;\n        color: var(--nylas-base-600);\n        font-family: var(--nylas-font-family);\n        font-weight: 500;\n        text-align: center;\n        margin: 0.75rem 0;\n      }\n\n      .preview-container {\n        padding: 0 2rem 1rem;\n\n        .slot {\n          background-color: transparent;\n          border-top: 1px solid var(--nylas-base-300);\n\n          &.active {\n            background-color: var(--nylas-base-100);\n          }\n\n          &:last-of-type {\n            border-bottom: 1px solid var(--nylas-base-300);\n          }\n        }\n\n        .event-slot {\n          background-color: var(--nylas-base-600);\n          border-top: 1px solid var(--nylas-base-300);\n        }\n      }\n    }\n  }\n\n  .nylas-buffer-time__dropdown {\n    select-dropdown::part(sd_dropdown-button) {\n      width: 104px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n    }\n\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-buffer-time` component is a UI component that allows users to set buffer time before and after an event.\n *\n * @part nbt - The buffer time container\n * @part nbt__header - The header of the buffer time\n * @part nbt__body - The body of the buffer time\n * @part nbt__dropdown-before - The dropdown container for the before buffer time\n * @part nbt__dropdown-button-before - The dropdown button for the before buffer time\n * @part nbt__dropdown-content-before - The dropdown content for the before buffer time\n * @part nbt__dropdown-after - The dropdown container for the after buffer time\n * @part nbt__dropdown-button-after - The dropdown button for the after buffer time\n * @part nbt__dropdown-content-after - The dropdown content for the after buffer time\n * @part nbt__preview - The preview container\n */\n@Component({\n  tag: 'nylas-buffer-time',\n  styleUrl: 'nylas-buffer-time.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasBufferTime {\n  @Element() host!: HTMLNylasCalendarPickerElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'buffer-time';\n  /**\n   * The buffer time\n   */\n  @Prop() buffer: { before: number; after: number } = this.selectedConfiguration?.availability?.availability_rules?.buffer ?? { before: 0, after: 0 };\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected before buffer time.\n   */\n  @State() selectedBeforeBufferTime: number = this.buffer.before;\n\n  /**\n   * The selected after buffer time.\n   */\n  @State() selectedAfterBufferTime: number = this.buffer.after;\n\n  @State() componentLoaded: boolean = false;\n\n  /**\n   * This event is fired when the selected buffer time is changed.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-buffer-time', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-buffer-time', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-buffer-time', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-buffer-time', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.selectedBeforeBufferTime = this.buffer.before;\n      this.selectedAfterBufferTime = this.buffer.after;\n    }\n    this.componentLoaded = true;\n\n    // TODO: Remove this when the internals in tests are fixed.\n    if (typeof this.internals.setFormValue === 'function') {\n      const bufferTime = {\n        before: this.selectedBeforeBufferTime,\n        after: this.selectedAfterBufferTime,\n      };\n      this.internals.setFormValue(JSON.stringify(bufferTime), this.name);\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-buffer-time', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-buffer-time', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-buffer-time', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-buffer-time', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-buffer-time', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-buffer-time', 'selectedConfigurationChangedHandler', newValue);\n    const buffer = newValue?.availability?.availability_rules?.buffer;\n    this.selectedAfterBufferTime = buffer?.after ? buffer.after : this.buffer.after;\n    this.selectedBeforeBufferTime = buffer?.before ? buffer.before : this.buffer.before;\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-buffer-time', 'nylasFormDropdownChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChanged = (event: CustomEvent<{ value: string; name: string }>) => {\n      const { value, name } = event.detail;\n      if (name === 'before-buffer-time') {\n        this.selectedBeforeBufferTime = parseInt(value);\n      } else if (name === 'after-buffer-time') {\n        this.selectedAfterBufferTime = parseInt(value);\n      }\n      const bufferTime = {\n        before: this.selectedBeforeBufferTime,\n        after: this.selectedAfterBufferTime,\n      };\n      this.internals.setFormValue(JSON.stringify(bufferTime), 'booking-calendar');\n    };\n    this.valueChanged.emit({ ...event.detail, valueChanged });\n  }\n\n  renderPreview() {\n    const totalSlots = 4;\n    const slotHeight = 10; // The height for each 30-minute slot\n\n    // Event slot height is constant\n    const eventSlotHeight = slotHeight * 2;\n\n    // Helper function to determine the fill of a slot based on the minutes selected\n    const slotFill = minutes => {\n      const fullSlots = Math.floor(minutes / 30);\n      const partialFillHeight = ((minutes % 30) / 30) * slotHeight;\n\n      return {\n        fullSlots,\n        partialFillHeight,\n      };\n    };\n\n    // Helper function to create before slots\n    const createBeforeSlots = () => {\n      const { fullSlots, partialFillHeight } = slotFill(this.selectedBeforeBufferTime);\n\n      return Array.from({ length: totalSlots }, (_, index) => {\n        // Slot is active if its index is greater than the total slots minus the full slots minus one\n        // and there are some minutes selected.\n        const isActive = this.selectedBeforeBufferTime > 0 && index > totalSlots - fullSlots - 1;\n        const isPartial = this.selectedBeforeBufferTime > 0 && index === totalSlots - fullSlots - 1 && partialFillHeight > 0;\n\n        let slotStyle: {\n          backgroundColor?: string;\n          background?: string;\n        } = {};\n        if (isActive && !isPartial) {\n          slotStyle.backgroundColor = 'var(--nylas-base-100)';\n        } else if (isPartial) {\n          slotStyle.background = `linear-gradient(to top, var(--nylas-base-100) ${partialFillHeight}px, transparent 0)`;\n        }\n\n        return (\n          <div\n            key={index}\n            class={`slot ${isActive ? 'active' : ''}`}\n            style={{\n              height: `${slotHeight}px`,\n              ...slotStyle,\n            }}\n          ></div>\n        );\n      });\n    };\n\n    // Helper function to create after slots\n    const createAfterSlots = () => {\n      const { fullSlots, partialFillHeight } = slotFill(this.selectedAfterBufferTime);\n\n      return Array.from({ length: totalSlots }, (_, index) => {\n        const isActive = this.selectedAfterBufferTime > 0 && index < fullSlots;\n        const isPartial = index === fullSlots && partialFillHeight > 0;\n\n        let slotStyle: {\n          backgroundColor?: string;\n          background?: string;\n        } = {};\n        if (isActive && !isPartial) {\n          slotStyle.backgroundColor = 'var(--nylas-base-100)';\n        } else if (isPartial) {\n          slotStyle.background = `linear-gradient(to bottom, var(--nylas-base-100) ${partialFillHeight}px, transparent 0)`;\n        }\n\n        return (\n          <div\n            key={index}\n            class={`slot ${isActive ? 'active' : ''}`}\n            style={{\n              height: `${slotHeight}px`,\n              ...slotStyle,\n            }}\n          ></div>\n        );\n      });\n    };\n\n    return (\n      <div class=\"preview-container\">\n        {createBeforeSlots()}\n        <div class=\"event-slot\" style={{ height: `${eventSlotHeight}px` }}></div>\n        {createAfterSlots()}\n      </div>\n    );\n  }\n\n  @RegisterComponent<NylasBufferTime, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-buffer-time',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const minuteOptions = Array.from({ length: 25 }, (_, i) => {\n      const value = i * 5;\n      return {\n        label: value.toString(),\n        value: value,\n      };\n    });\n\n    return (\n      <Host>\n        <div class=\"nylas-buffer-time\" part=\"nbt\">\n          <div class=\"header\" part=\"nbt__header\">\n            <h3>Buffer time</h3>\n            <p>\n              Require empty buffer time before and after an event.\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Scheduler does not book the buffer time.</span>\n              </tooltip-component>\n            </p>\n          </div>\n          <div class=\"nylas-buffer-time__body\" part=\"nbt__body\">\n            <div class=\"nylas-buffer-time__dropdown\">\n              <div class=\"nylas-buffer-time__row\">\n                <label>Before the event</label>\n                <div class=\"dropdown-container\">\n                  {this.componentLoaded && (\n                    <select-dropdown\n                      id=\"before-buffer-time\"\n                      withSearch={false}\n                      name=\"before-buffer-time\"\n                      exportparts=\"sd_dropdown: nbt__dropdown-before, sd_dropdown-button: nbt__dropdown-button-before, sd_dropdown-content: nbt__dropdown-content-before\"\n                      options={minuteOptions}\n                      defaultSelectedOption={minuteOptions.find(min => min.value == this.selectedBeforeBufferTime)}\n                    />\n                  )}\n                  <span>mins</span>\n                </div>\n              </div>\n              <div class=\"nylas-buffer-time__row\">\n                <label>After the event</label>\n                <div class=\"dropdown-container\">\n                  {this.componentLoaded && (\n                    <select-dropdown\n                      id=\"after-buffer-time\"\n                      withSearch={false}\n                      name=\"after-buffer-time\"\n                      exportparts=\"sd_dropdown: nbt__dropdown-after, sd_dropdown-button: nbt__dropdown-button-after, sd_dropdown-content: nbt__dropdown-content-after\"\n                      options={minuteOptions}\n                      defaultSelectedOption={minuteOptions.find(min => min.value == this.selectedAfterBufferTime)}\n                    />\n                  )}\n                  <span>mins</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"nylas-buffer-time__preview\" part=\"nbt__preview\">\n              <h4>PREVIEW</h4>\n              {this.renderPreview()}\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-calendar-picker {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .nylas-calendar-picker__loading {\n    padding-bottom: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    .label {\n      display: flex;\n      align-items: center;\n      gap: 0.5rem;\n      margin: 1rem 1rem 0;\n      color: var(--nylas-base-800);\n      tooltip-component {\n        display: flex;\n      }\n    }\n    .loading-button {\n      margin: 0 1rem;\n      padding: 0;\n      width: inherit;\n      height: 48px;\n      color: black;\n      font-size: 1rem;\n      cursor: not-allowed;\n      display: flex;\n      gap: 0.5rem;\n      justify-content: space-between;\n      align-items: center;\n      background: transparent;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      span {\n        padding: 0 1rem;\n      }\n    }\n  }\n  .nylas-calendar-picker__dropdown {\n    padding: 1rem;\n    multi-select-dropdown::part(msd_dropdown) {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n    }\n    multi-select-dropdown::part(msd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n    multi-select-dropdown::part(msd_dropdown-button--error) {\n      border: 1px solid var(--nylas-error);\n    }\n    multi-select-dropdown::part(msd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n    multi-select-dropdown::part(msd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { Calendar } from '@nylas/core';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { User } from '@/common/nylas-api-request';\n\n/**\n * The `nylas-calendar-picker` component is a form input for selecting calendars to check availability.\n *\n * @part ncp - The calendar picker container\n * @part ncp__dropdown - The dropdown container\n * @part ncp__dropdown-button - The dropdown button\n * @part ncp__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-calendar-picker',\n  styleUrl: 'nylas-calendar-picker.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasCalendarPicker {\n  @Element() host!: HTMLNylasCalendarPickerElement;\n  /**\n   * The calendars to choose from.\n   */\n  @Prop() calendars?: Calendar[];\n  /**\n   * The logged in user.\n   */\n  @Prop() currentUser?: User;\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'calendar';\n  /**\n   * The default selected calendars.\n   */\n  @Prop() defaultSelectedCalendars: string[] = [];\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected calendars.\n   */\n  @State() selectedCalendars: string[] = [];\n\n  /**\n   * The error message to display.\n   */\n  @State() error: string = '';\n\n  /**\n   * This event is fired when the selected calendars change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string[];\n    name: string;\n    valueChangedHandler?: (event: CustomEvent<{ value: string[]; name: string }>) => void;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-calendar-picker', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-calendar-picker', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-calendar-picker', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-calendar-picker', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-calendar-picker', 'componentDidLoad');\n    // TODO: Remove this when the internals in tests are fixed.\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(this.defaultSelectedCalendars.toString(), 'calendar');\n      this.valueChanged.emit({ value: this.defaultSelectedCalendars, name: this.name });\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-calendar-picker', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-calendar-picker', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-calendar-picker', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-calendar-picker', 'componentDidRender');\n  }\n\n  @Listen('selectedOptionsChanged')\n  selectedOptionsChangedHandler(event: CustomEvent<{ value: string[]; name: string }>) {\n    debug('nylas-calendar-picker', 'nylasFormDropdownChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChangedHandler = (event: CustomEvent<{ value: string[]; name: string }>) => {\n      const { value } = event.detail;\n      this.selectedCalendars = [...value];\n      if (this.selectedCalendars.length === 0) {\n        this.error = `Select at least one calendar.`;\n        this.internals.setValidity({ customError: true }, `Select at least one calendar.`);\n      } else {\n        this.error = '';\n        this.internals.setValidity({});\n      }\n      this.internals.setFormValue(value.toString(), this.name);\n    };\n    this.valueChanged.emit({ ...event.detail, name: this.name, valueChangedHandler });\n  }\n\n  @RegisterComponent<NylasCalendarPicker, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-calendar-picker',\n    stateToProps: new Map([['schedulerConfig.currentUser', 'currentUser']]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string[]; name: string; valueChangedHandler?: (event: CustomEvent<{ value: string[]; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChangedHandler } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChangedHandler) {\n          valueChangedHandler(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const calendarOptions =\n      this.calendars?.map(calendar => {\n        return {\n          value: calendar.id,\n          label: calendar.name,\n          selected:\n            this.defaultSelectedCalendars?.includes(calendar.id) ||\n            (this.defaultSelectedCalendars?.includes('primary') || this.defaultSelectedCalendars?.length === 0\n              ? calendar.id === this.currentUser?.email || calendar.id === this.name.split('participant-')[1]\n              : false),\n        };\n      }) ?? [];\n\n    return (\n      <Host>\n        <div class=\"nylas-calendar-picker\" part=\"ncp\">\n          {calendarOptions.length > 0 ? (\n            <div class=\"nylas-calendar-picker__dropdown\">\n              <multi-select-dropdown\n                name={this.name}\n                options={calendarOptions}\n                error={this.error}\n                exportparts=\"msd_dropdown: ncp__dropdown, msd_dropdown-button: ncp__dropdown-button, msd_dropdown-content: ncp__dropdown-content\"\n              ></multi-select-dropdown>\n            </div>\n          ) : (\n            <div class=\"nylas-calendar-picker__loading\">\n              <span class=\"label\">\n                Select calendars that will be checked for availability <info-icon />\n              </span>\n              <div class=\"loading-button\">\n                <span>Loading...</span>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-cancellation-policy {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n  textarea {\n    padding: 12px 16px;\n    border-width: 1;\n    resize: vertical;\n    border-radius: 8px;\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n    border: 1px solid var(--nylas-base-200);\n    &::-webkit-resizer {\n      display: none;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, sanitize } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-cancellation-policy` component is a form input for the cancellation policy message of an event.\n * @part ncpolicy - The cancellation policy container\n * @part ncpolicy__textarea - The cancellation policy textarea\n */\n@Component({\n  tag: 'nylas-cancellation-policy',\n  styleUrl: 'nylas-cancellation-policy.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasCancellationPolicy {\n  /**\n   * The host element <nylas-cancellation-policy>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The cancellation policy stored in the configuration\n   */\n  @Prop() cancellationPolicy?: string;\n\n  /**\n   * The name of the cancellation policy input.\n   */\n  @Prop() name: string = 'cancelation-policy';\n  /**\n   * The selected cancellation policy state. This defaults to the cancellation policy from the configuration or an empty string.\n   */\n  @State() message!: string;\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-cancellation-policy', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-custom-booking-flow', 'selectedConfigurationChangedHandler', newValue);\n    this.message = newValue?.scheduler?.cancellation_policy || this.cancellationPolicy || '';\n  }\n\n  /**\n   * Event emitted when the cancellation policy message changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-cancellation-policy', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-cancellation-policy', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-cancellation-policy', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.message = this.cancellationPolicy || '';\n    }\n  }\n\n  disconnectedCallback() {\n    debug('nylas-cancellation-policy', 'disconnectedCallback');\n  }\n\n  handleChange(event) {\n    const value = sanitize(event.target.value);\n    this.message = value;\n    this.internals.setFormValue(value, this.name);\n    this.valueChanged.emit({ value: value, name: this.name });\n  }\n\n  @RegisterComponent<NylasCancellationPolicy, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-cancellation-policy',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-cancellation-policy\" part=\"ncpolicy\">\n          <label htmlFor={this.name}>\n            Cancellation policy message\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Attendees receive this message if trying to cancel the event. Attendees are asked to provide a reason for cancellation.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <textarea id={this.name} part=\"ncpolicy__textarea\" name={this.name} value={this.message} maxlength=\"250\" onInput={e => this.handleChange(e)}></textarea>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-confirmation-email {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  text-align: left;\n\n  .header {\n    padding: 1rem;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    border-bottom: 1px solid var(--nylas-base-200);\n\n    h3 {\n      border-radius: var(--nylas-border-radius-2x);\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n\n    .confirmation-email-toggle {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n\n      .chevron {\n        display: flex;\n        align-self: center;\n        cursor: pointer;\n\n        &:hover,\n        &:active {\n          color: var(--nylas-primary);\n        }\n\n        &.open {\n          transform: rotate(90deg);\n        }\n\n        &.closed {\n          transform: rotate(270deg);\n        }\n\n        &.disabled {\n          cursor: not-allowed;\n          color: var(--nylas-base-300);\n\n          &:hover {\n            color: var(--nylas-base-300);\n          }\n        }\n      }\n    }\n  }\n\n  .nylas-confirmation-email__body {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    background-color: var(--nylas-base-25);\n    border-radius: var(--nylas-border-radius-2x);\n\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n\n    .nylas-confirmation-email__section {\n      padding: 1rem;\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      color: var(--nylas-base-800);\n\n      @media #{$mobile} {\n        border: none;\n      }\n\n      .nylas-confirmation-email__row {\n        display: grid;\n        grid-template-columns: 1fr auto;\n        align-items: center;\n        gap: 1rem;\n\n        &.full-width-col {\n          grid-template-columns: 1fr;\n          border-top: 1px solid var(--nylas-base-200);\n          padding-top: 1.25rem;\n          margin: 0.25rem 0;\n        }\n\n        label {\n          display: flex;\n          align-items: center;\n\n          span.required {\n            color: var(--nylas-error, #cc4841);\n          }\n\n          span.label-icon {\n            margin-left: 4px;\n\n            tooltip-component {\n              display: flex;\n            }\n          }\n        }\n\n        p {\n          margin: 0.25rem 0 0 0;\n          font-size: 1rem;\n          font-weight: 500;\n          line-height: 24px;\n          color: var(--nylas-base-900);\n        }\n\n        .company-logo-container {\n          display: flex;\n          gap: 32px;\n          width: 100%;\n\n          .input-container {\n            display: flex;\n            flex-direction: column;\n            flex: 1;\n          }\n\n          .company-logo {\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            width: 200px;\n            height: 100px;\n            border: var(--nylas-base-200) solid 1px;\n            border-radius: var(--nylas-border-radius-2x);\n            overflow: hidden;\n            padding: 10px;\n          }\n\n          .company-logo img {\n            max-height: 100%;\n            max-width: 100%;\n            object-fit: contain;\n            object-position: center;\n          }\n        }\n\n        span.selected-value {\n          font-weight: 500;\n        }\n      }\n\n      .subsection {\n        display: flex;\n        flex-direction: column;\n        gap: 1rem;\n\n        h3 {\n          margin: 0;\n          font-size: 1rem;\n          font-weight: 600;\n          line-height: 20px;\n          color: var(--nylas-base-900);\n          text-align: left;\n        }\n\n        .input-container {\n          display: flex;\n          flex-direction: column;\n          gap: 0.25rem;\n\n          textarea {\n            padding: 12px 16px;\n            border-width: 1;\n            resize: vertical;\n            border-radius: 8px;\n            font-family: var(--nylas-font-family);\n            font-size: 16px;\n            line-height: 24px;\n            border: 1px solid var(--nylas-base-200);\n          }\n        }\n      }\n    }\n\n    .nylas-confirmation-email__preview {\n      width: 208px;\n      background: var(--nylas-base-25);\n      border-bottom-right-radius: var(--nylas-border-radius-2x);\n\n      @media #{$mobile} {\n        width: inherit;\n        border-bottom-left-radius: var(--nylas-border-radius-2x);\n      }\n\n      h4 {\n        font-size: 14px;\n        line-height: 24px;\n        color: var(--nylas-base-600);\n        font-family: var(--nylas-font-family);\n        font-weight: 500;\n        text-align: center;\n        margin: 0.75rem 0;\n      }\n\n      .preview-container {\n        padding: 0 2rem 1rem;\n\n        .slot {\n          background-color: transparent;\n          border-top: 1px solid var(--nylas-base-300);\n\n          &.active {\n            background-color: var(--nylas-base-100);\n          }\n\n          &:last-of-type {\n            border-bottom: 1px solid var(--nylas-base-300);\n          }\n        }\n\n        .event-slot {\n          background-color: var(--nylas-base-600);\n          border-top: 1px solid var(--nylas-base-300);\n        }\n      }\n    }\n\n    span.error-message {\n      color: var(--nylas-error);\n    }\n\n    span.help-text {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n\n  .nylas-confirmation-email__summary {\n    padding: 0.75rem 1rem;\n    display: grid;\n    grid-template-columns: auto 1fr;\n    column-gap: 1rem;\n\n    p {\n      margin: 0;\n      display: flex;\n      align-items: center;\n      column-gap: 4px;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 21px;\n      color: var(--nylas-base-600);\n      text-align: left;\n\n      span.summary-icon {\n        display: flex;\n        justify-content: center;\n        min-width: 20px;\n      }\n    }\n  }\n}\n\nsp-divider {\n  background-color: var(--nylas-base-200);\n  height: 1px;\n  margin: 0.25rem 0;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, sanitize } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration, EmailTemplate, Participant } from '@nylas/core';\n\n/**\n * The `nylas-confirmation-email` component is a UI component that allows users to set buffer time before and after an event.\n *\n * @part nce__tab-heading - The nylas-confirmation-email main tab heading\n * @part nce - The nylas-confirmation-email container\n * @part nce__header - The header of the event communication section\n * @part nce__body - The body of the event communication section\n * @part nce__confirmation-email-toggle--container - The confirmation email drawer toggle container\n * @part nce__input-image-url - The input image URL container\n * @part nce__summary - The confirmation card summary container\n */\n@Component({\n  tag: 'nylas-confirmation-email',\n  styleUrl: 'nylas-confirmation-email.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasConfirmationEmail {\n  @Element() host!: HTMLNylasConfirmationEmailElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The confirmation email template data to display\n   */\n  @Prop() confirmationEmailTemplate: EmailTemplate = {} as EmailTemplate;\n  /**\n   * Is the confirmation email card open\n   */\n  @Prop() isOpen: boolean = false;\n  /**\n   * List of participants\n   */\n  @Prop() participants: Participant[] = [];\n  /**\n   * The name of the component\n   */\n  @Prop() name: string = 'confirmation-email-template';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The confirmation email template state.\n   */\n  @State() confirmationEmail!: EmailTemplate;\n\n  /**\n   * The internal state to store the isOpen state.\n   */\n  @State() isConfirmationEmailOpen: boolean = this.isOpen;\n\n  /**\n   * The internal state to store the participants.\n   */\n  @State() participantsState: Participant[] = this.participants;\n\n  /**\n   * This event is fired when the email reminders change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-confirmation-email', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-confirmation-email', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-confirmation-email', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-confirmation-email', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.confirmationEmail = this.confirmationEmailTemplate;\n      this.isConfirmationEmailOpen = this.isOpen;\n      this.participantsState = this.participants;\n    }\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-confirmation-email', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-confirmation-email', 'selectedConfigurationChangedHandler', newValue);\n    this.confirmationEmail = newValue?.scheduler?.email_template || this.confirmationEmailTemplate;\n    this.isConfirmationEmailOpen = !newValue?.event_booking?.reminders?.overrides?.length;\n    this.participantsState = newValue?.participants || this.participants;\n  }\n\n  @Listen('nylasFormInputChanged')\n  async nylasFormInputChangeHandler(event: CustomEvent<{ value: string; name: string; type?: string }>) {\n    const { name, value } = event.detail;\n    const type = event.detail?.type;\n    if (name === 'confirmation-email-title') {\n      this.confirmationEmail = { ...this.confirmationEmail, booking_confirmed: { ...(this.confirmationEmail?.booking_confirmed || {}), title: value } };\n      this.internals.setFormValue(JSON.stringify(this.confirmationEmail), this.name);\n      this.valueChanged.emit({ value: JSON.stringify(this.confirmationEmail), name: this.name });\n    } else if (name === 'confirmation-email-body' && type === 'multi_line_text') {\n      this.handleEmailBodyChange(event);\n    }\n  }\n\n  @Listen('valueChanged')\n  valueChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-confirmation-email', 'valueChangedHandler', event.detail);\n    const { value, name } = event.detail;\n\n    if (name === 'confirmation-email-logo') {\n      this.confirmationEmail = { ...this.confirmationEmail, logo: value };\n      this.internals.setFormValue(JSON.stringify(this.confirmationEmail), this.name);\n      this.valueChanged.emit({ value: JSON.stringify(this.confirmationEmail), name: this.name });\n    }\n  }\n\n  updateConfirmationFormValue() {\n    debug('nylas-confirmation-email', 'updateConfirmationFormValue');\n    this.internals.setFormValue(JSON.stringify(this.confirmationEmail), this.name);\n    this.valueChanged.emit({ value: JSON.stringify(this.confirmationEmail), name: this.name });\n  }\n\n  toggleConfirmationEmail() {\n    this.isConfirmationEmailOpen = !this.isConfirmationEmailOpen;\n  }\n\n  handleEmailBodyChange(event) {\n    const value = sanitize(event.detail.value);\n    this.confirmationEmail = { ...this.confirmationEmail, booking_confirmed: { ...(this.confirmationEmail?.booking_confirmed || {}), body: value } };\n    this.internals.setFormValue(JSON.stringify(this.confirmationEmail), this.name);\n    this.valueChanged.emit({ value: JSON.stringify(this.confirmationEmail), name: this.name });\n  }\n\n  @RegisterComponent<NylasConfirmationEmail, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-confirmation-email',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const organizerName = this.participantsState.find(p => p.is_organizer)?.name;\n    return (\n      <Host>\n        <div class=\"nylas-confirmation-email\" part=\"nce\">\n          <div class=\"header\" part=\"nce__header\">\n            <div>\n              <h3>{this.confirmationEmail?.booking_confirmed?.title ?? `Booking confirmed with ${organizerName ? ` ${organizerName}` : ''}`}</h3>\n              <p>Booking confirmation email</p>\n            </div>\n            {this.isConfirmationEmailOpen ? (\n              <div class=\"confirmation-email-toggle\" part=\"nce__confirmation-email-toggle--container\">\n                <span class={`chevron ${this.isConfirmationEmailOpen ? 'open' : 'closed'} `} onClick={() => this.toggleConfirmationEmail()}>\n                  <chevron-icon width=\"24\" height=\"24\" />\n                </span>\n              </div>\n            ) : (\n              <button-component\n                variant={'basic'}\n                clickHandler={event => {\n                  event.preventDefault();\n                  this.toggleConfirmationEmail();\n                }}\n              >\n                <edit-icon width=\"16\" height=\"16\"></edit-icon>\n                Edit\n              </button-component>\n            )}\n          </div>\n\n          {this.isConfirmationEmailOpen ? (\n            <div class=\"nylas-confirmation-email__body\" part=\"nce__body\">\n              <div class=\"nylas-confirmation-email__section\">\n                <div class=\"nylas-confirmation-email__row\">\n                  <label>\n                    Send confirmation email\n                    <span class=\"label-icon\">\n                      <tooltip-component>\n                        <info-icon slot=\"tooltip-icon\" />\n                        <span slot=\"tooltip-content\">You and your guests will receive a confirmation email immediately upon booking.</span>\n                      </tooltip-component>\n                    </span>\n                  </label>\n                  <span class=\"selected-value\">Immediately upon booking</span>\n                </div>\n                <div class=\"nylas-confirmation-email__row\">\n                  <div class=\"subsection\">\n                    <div class=\"input-container\">\n                      <label>\n                        Company logo URL\n                        <span class=\"label-icon\">\n                          <tooltip-component>\n                            <info-icon slot=\"tooltip-icon\" />\n                            <span slot=\"tooltip-content\">\n                              This logo appears in the booking confirmation email. The URL must be publicly accessible. The image will be scaled down to a max size of 200px x\n                              100px.\n                            </span>\n                          </tooltip-component>\n                        </span>\n                      </label>\n\n                      {this.confirmationEmail && (\n                        <input-image-url\n                          name=\"confirmation-email-logo\"\n                          exportparts=\"iiu__logo-input-textfield: nce__input-image-url\"\n                          imageUrl={this.confirmationEmail?.logo ?? ''}\n                        />\n                      )}\n                    </div>\n                  </div>\n                </div>\n                <div class=\"nylas-confirmation-email__row full-width-col\">\n                  <div class=\"subsection\">\n                    <h3>Email message</h3>\n                    <div class=\"input-container\">\n                      <label htmlFor=\"title\">\n                        Custom email title\n                        <span class=\"label-icon\">\n                          <tooltip-component>\n                            <info-icon slot=\"tooltip-icon\" />\n                            <span slot=\"tooltip-content\">An email title is a headline within the body of the email. This doesn&apos;t change the subject line.</span>\n                          </tooltip-component>\n                        </span>\n                      </label>\n                      <input-component\n                        name=\"confirmation-email-title\"\n                        maxLength={60}\n                        placeholder={`Booking confirmed ${organizerName ? `with ${organizerName}` : ''}`}\n                        defaultValue={this.confirmationEmail?.booking_confirmed?.title ?? ''}\n                      ></input-component>\n                    </div>\n                    <div class=\"input-container\">\n                      {/* <label htmlFor=\"title\">Email body</label> */}\n                      <textarea-component\n                        label=\"Additional info\"\n                        name=\"confirmation-email-body\"\n                        id=\"confirmation-email-body\"\n                        placeholder=\"Default body\"\n                        tooltip=\"Scheduler adds the content of the box to the email body.\"\n                        maxLength={500}\n                        defaultValue={this.confirmationEmail?.booking_confirmed?.body ?? ''}\n                      ></textarea-component>\n\n                      {/* <textarea\n                        id=\"description\"\n                        part=\"nrt__textarea\"\n                        name=\"confirmation-email-body\"\n                        placeholder='Default body'\n                        value={this.confirmationEmail?.booking_confirmed?.body ?? ''}\n                        maxlength=\"500\"\n                        rows={2}\n                        onInput={e => this.handleEmailBodyChange(e)}\n                      ></textarea> */}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div class=\"nylas-confirmation-email__summary\" part=\"nce__summary\">\n              <p>\n                <span class=\"summary-icon\">\n                  <person-clipboard-icon></person-clipboard-icon>\n                </span>\n                All host & guests\n              </p>\n              <p>\n                <span class=\"summary-icon\">\n                  <clock-icon></clock-icon>\n                </span>\n                Immediately on booking\n              </p>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-connected-calendars {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n\n  .header {\n    padding: 1rem;\n\n    h3 {\n      margin: 0;\n      font-size: 16px;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n  }\n\n  .content {\n    .participant-container {\n      padding-top: 12px;\n      border-top: 1px solid var(--nylas-base-200);\n\n      .participant-title {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 4px 16px 16px;\n\n        p {\n          margin: 0;\n        }\n\n        .participant-toggle {\n          display: flex;\n          gap: 24px;\n          align-items: center;\n\n          .chevron {\n            display: flex;\n            align-self: center;\n            cursor: pointer;\n\n            &:hover,\n            &:active {\n              color: var(--nylas-primary);\n            }\n\n            &.open {\n              transform: rotate(90deg);\n            }\n\n            &.closed {\n              transform: rotate(270deg);\n            }\n\n            &.disabled {\n              cursor: not-allowed;\n              color: var(--nylas-base-300);\n\n              &:hover {\n                color: var(--nylas-base-300);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nnylas-calendar-picker::part(ncp) {\n  margin: 0;\n  border: none;\n  border-top: 1px solid var(--nylas-base-200);\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { AdditionalParticipant, Calendar, Configuration, Participant } from '@nylas/core';\n\n/**\n * The `nylas-connected-calendars` component is a form input for selecting calendars to check availability for participants.\n */\n@Component({\n  tag: 'nylas-connected-calendars',\n  styleUrl: 'nylas-connected-calendars.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasConnectedCalendars {\n  @Element() host!: HTMLNylasConnectedCalendarsElement;\n  private connectedCalendarsFormRef!: HTMLFormElement;\n\n  /**\n   * The name of the participants custom availability.\n   */\n  @Prop() name: string = 'connected-calendars';\n\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The participants selected in the add participants section.\n   */\n  @Prop() participants: Participant[] = this.selectedConfiguration?.participants || [];\n\n  /**\n   * The calendars to choose from for the organizer / logged in user.\n   */\n  @Prop() calendars?: Calendar[];\n\n  /**\n   * The participant options passed in the additionalParticipants prop\n   * from the nylas-scheduler-editor component.\n   */\n  @Prop() participantOptions?: AdditionalParticipant[];\n\n  /**\n   * This event is fired when the participants custom availability changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The state to store the custom availability setting for participants.\n   */\n  @State() selectedCalendars: {\n    [key: string]: {\n      isOpen: boolean;\n      name: string;\n      calendars?: Calendar[];\n    };\n  } = this.setParticipants(this.participants);\n\n  /**\n   * Participants calendar options.\n   */\n  @State() participantCalendars: {\n    [key: string]: Calendar[];\n  } = {};\n\n  /**\n   * The state to store the default selected calendars for each participant\n   */\n  @State() participantDefaultSelectedCalendars: {\n    [key: string]: string[];\n  } = {};\n\n  // Watchers\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-connected-calendars', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('calendars')\n  calendarsChangedHandler(newValue: Calendar[]) {\n    debug('nylas-connected-calendars', 'calendarsChangedHandler', newValue);\n    this.selectedCalendars = this.setParticipants(this.participants);\n    this.participantCalendars = this.getParticipantCalendarOptions(this.participants, this.participantOptions);\n  }\n\n  @Watch('participants')\n  participantsChangedHandler(newValue: Participant[]) {\n    debug('nylas-connected-calendars', 'participantsChangedHandler', newValue);\n    this.selectedCalendars = this.setParticipants(newValue);\n    this.participantCalendars = this.getParticipantCalendarOptions(newValue, this.participantOptions);\n  }\n\n  @Watch('participantOptions')\n  participantOptionsChangedHandler(newValue: AdditionalParticipant[]) {\n    debug('nylas-calendar-picker', 'participantOptionsChangedHandler', newValue);\n    this.selectedCalendars = this.setParticipants(this.participants);\n    this.participantCalendars = this.getParticipantCalendarOptions(this.participants, newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-calendar-picker', 'selectedConfigurationChangedHandler', newValue);\n    const participants = newValue?.participants || this.participants;\n    if (participants && participants.length > 0) {\n      this.selectedCalendars = this.setParticipants(participants);\n      this.participantCalendars = this.getParticipantCalendarOptions(participants, this.participantOptions);\n    }\n  }\n\n  getParticipantCalendarOptions(addedParticipants: Participant[], availableParticipantOptions: AdditionalParticipant[] | undefined) {\n    // Get the participants from the availableParticipantOptions prop that are in the addedParticipants prop\n    const organizer = addedParticipants?.find(participant => participant.is_organizer);\n    const isRoundRobinConfig = this.selectedConfiguration?.availability?.availability_rules?.availability_method !== 'collective';\n    const participantCalendars = {};\n    if (availableParticipantOptions) {\n      const participants = addedParticipants?.filter(participant => availableParticipantOptions.some(availableParticipant => availableParticipant.email === participant.email));\n      const remainingParticipants = addedParticipants?.filter(\n        participant => !availableParticipantOptions.some(availableParticipant => availableParticipant.email === participant.email),\n      );\n\n      // Get the calendar options for each participant with email as the key\n      participants?.forEach(participant => {\n        const participantOption = availableParticipantOptions?.find(participantOption => participantOption.email === participant.email);\n        if (!participantOption) return;\n        this.participantDefaultSelectedCalendars[participant.email] = participant.availability?.calendar_ids || [];\n        const calendars = participantOption.calendars ?? [];\n        participant.availability?.calendar_ids?.forEach(calendarId => {\n          if (!calendars?.some(calendar => calendar.id === calendarId) && calendarId !== 'primary') {\n            calendars.push({ id: calendarId, name: calendarId });\n          }\n        });\n        participantCalendars[participant.email] = calendars;\n      });\n      if (isRoundRobinConfig) {\n        // If it is round robin config, add the remaining participant calendars to the participantCalendars\n        // (Round-robin does not have an organizer, and we filtered out the participants not passed in the participantOptions prop,\n        // so we need to add the remaining participants calendars to the participantCalendars)\n        remainingParticipants?.forEach(participant => {\n          if (participant?.availability?.calendar_ids && participant?.availability?.calendar_ids?.length > 0 && !participant.is_organizer) {\n            participantCalendars[participant.email] = this.calendars ?? [{ id: 'primary', name: participant.email }];\n            this.participantDefaultSelectedCalendars[participant.email] = participant.availability?.calendar_ids || [];\n          }\n        });\n      }\n    }\n\n    // Add the organizer's calendars to the participantCalendars\n    if (organizer) {\n      participantCalendars[organizer.email] = this.calendars ?? [{ id: 'primary', name: organizer.email }];\n      this.participantDefaultSelectedCalendars[organizer.email] = organizer.availability?.calendar_ids || [];\n    }\n    return participantCalendars;\n  }\n\n  // Lifecycle Methods\n  connectedCallback() {\n    debug('nylas-connected-calendars', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-connected-calendars', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-connected-calendars', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-connected-calendars', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedCalendars = this.setParticipants(this.selectedConfiguration?.participants);\n      this.participantCalendars = this.getParticipantCalendarOptions(this.selectedConfiguration?.participants, this.participantOptions);\n    }\n  }\n\n  @Listen('valueChanged')\n  handleValueChanged(event: CustomEvent) {\n    debug('[nylas-editor-tabs]', 'handleValueChanged', event);\n    const { name, value } = event.detail;\n    if (!name.startsWith('participant-')) {\n      return;\n    }\n    // Validate the form\n    if (!this.connectedCalendarsFormRef.checkValidity()) {\n      this.internals.setValidity({ customError: true }, 'Please select at least one calendar for each participant.');\n      return;\n    } else {\n      this.internals.setValidity({});\n    }\n\n    const key = name.split('participant-')[1];\n    if (!this.selectedCalendars[key]) return;\n    this.selectedCalendars[key]['calendars'] = value;\n    this.selectedCalendars = { ...this.selectedCalendars };\n\n    const participantsCalendars = {};\n    Object.keys(this.selectedCalendars).forEach(key => {\n      participantsCalendars[key] = this.selectedCalendars[key].calendars;\n    });\n    this.internals.setFormValue(JSON.stringify(participantsCalendars), this.name);\n    this.valueChanged.emit({ value: JSON.stringify(participantsCalendars), name: this.name });\n  }\n\n  setParticipants(participants: Participant[]) {\n    const selectedParticipants = {};\n    participants?.forEach(participant => {\n      if (participant?.availability?.calendar_ids && participant?.availability?.calendar_ids?.length > 0) {\n        const isOpen = participant.is_organizer ? true : false;\n        selectedParticipants[participant.email] = {\n          isOpen: isOpen,\n          name: participant.name || participant.email,\n          availability: participant.availability,\n        };\n      }\n    });\n    return selectedParticipants;\n  }\n  @RegisterComponent<NylasConnectedCalendars, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-connected-calendars',\n    stateToProps: new Map([\n      ['schedulerConfig.additionalParticipants', 'participantOptions'],\n      ['schedulerConfig.calendars', 'calendars'],\n      ['schedulerConfig.selectedConfiguration', 'selectedConfiguration'],\n    ]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-connected-calendars\" part=\"npca\">\n          <div class=\"header\" part=\"npca__header\">\n            <h3>Connected Calendars</h3>\n            <p>\n              Select the calendars to use for checking your availability.\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">\n                  Check availability across one or more calendars. If you select multiple calendars for a participant, the participant must be available across all of their\n                  calendars to be considered available.\n                </span>\n              </tooltip-component>\n            </p>\n          </div>\n          <div class=\"content\" part=\"npca__content\">\n            <form ref={el => (this.connectedCalendarsFormRef = el as HTMLFormElement)}>\n              {Object.keys(this.participantCalendars).map((key, index) => {\n                const participant = this.selectedCalendars[key];\n                const participantCalendars = this.participantCalendars[key];\n                if (!participant || !participant.name) return;\n                return (\n                  <div class=\"participant-container\" part=\"npca__participant-container\" key={`participant-conatiner-${index}`}>\n                    <div class=\"participant-title\" part=\"npca__participant-title\">\n                      <p>{participant.name}'s connected calendars</p>\n                      <div class=\"participant-toggle\" part=\"npca__participant-toggle--container\">\n                        <span\n                          class={`chevron ${participant.isOpen ? 'open' : 'closed'}`}\n                          onClick={() => {\n                            this.selectedCalendars[key].isOpen = !participant.isOpen;\n                            this.selectedCalendars = { ...this.selectedCalendars };\n                          }}\n                        >\n                          <chevron-icon width=\"24\" height=\"24\" />\n                        </span>\n                      </div>\n                    </div>\n                    {participant.isOpen && (\n                      <nylas-calendar-picker\n                        key={key}\n                        name={`participant-${key}`}\n                        calendars={participantCalendars}\n                        defaultSelectedCalendars={this.participantDefaultSelectedCalendars[key]}\n                      />\n                    )}\n                  </div>\n                );\n              })}\n            </form>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  margin: 1rem;\n  @include default-css-variables;\n}\n\n.nylas-custom-booking-flow__title {\n  color: var(--nylas-base-900);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px;\n  /* 125% */\n  margin: 0;\n  text-align: left;\n}\n\n.nylas-custom-booking-flow__subtitle {\n  color: var(--nylas-base-600);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px;\n  /* 142.857% */\n  margin: 0.25rem 0px 0px;\n  text-align: left;\n}\n\n.nylas-custom-booking-flow__content {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.nylas-custom-booking-flow__block {\n  display: flex;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { checkForMissingSlots, debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Host, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-custom-booking-flow` component is an input form for booking type (automatically or manually accept bookings) and confirmation redirect URL (default or custom).\n * This component is a container for the `nylas-booking-confirmation-type`, `nylas-booking-confirmation-redirect` components.\n *\n * ```html\n * <nylas-custom-booking-flow>\n *   <div slot=\"inputs\">\n *     <nylas-booking-confirmation-type></nylas-booking-confirmation-type>\n *     <nylas-booking-confirmation-redirect></nylas-booking-confirmation-redirect>\n *   </div>\n * </nylas-custom-booking-flow>\n * ```\n *\n * @slot inputs - The custom booking flow inputs. This includes the booking type, confirmation redirect type, and custom redirect URL components.\n */\n@Component({\n  tag: 'nylas-custom-booking-flow',\n  styleUrl: 'nylas-custom-booking-flow.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasCustomBookingFlow {\n  @Element() el!: HTMLElement;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-custom-booking-flow', 'connectedCallback');\n  }\n  disconnectedCallback() {\n    debug('nylas-custom-booking-flow', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-custom-booking-flow', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-custom-booking-flow', 'componentDidLoad');\n    checkForMissingSlots(['inputs'], this.el);\n  }\n\n  @RegisterComponent<NylasCustomBookingFlow, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-custom-booking-flow',\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <nylas-form-card exportparts=\"nfc__header: ncbf__header\">\n          <h1 slot=\"header-title\" class=\"nylas-custom-booking-flow__title\" part=\"ncbf__title\">\n            Custom booking flow\n          </h1>\n          <div slot=\"content\" class=\"nylas-custom-booking-flow__content\">\n            <slot name=\"inputs\"></slot>\n          </div>\n        </nylas-form-card>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n@import '../../../common/mixins/inputs.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-custom-event-slug {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  text-align: left;\n\n  .header {\n    padding: 1rem;\n    display: grid;\n    grid-template-columns: 1fr auto;\n\n    h3 {\n      border-radius: var(--nylas-border-radius-2x);\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n\n    .drawer-toggle {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n\n      .chevron {\n        display: flex;\n        align-self: center;\n        cursor: pointer;\n\n        &:hover,\n        &:active {\n          color: var(--nylas-primary);\n        }\n\n        &.open {\n          transform: rotate(90deg);\n        }\n\n        &.closed {\n          transform: rotate(270deg);\n        }\n\n        &.disabled {\n          cursor: not-allowed;\n          color: var(--nylas-base-300);\n\n          &:hover {\n            color: var(--nylas-base-300);\n          }\n        }\n      }\n    }\n  }\n\n  .nylas-custom-event-slug__body {\n    display: grid;\n    grid-template-columns: 1fr;\n    background-color: var(--nylas-base-25);\n    border-radius: 0 0 var(--nylas-border-radius-2x) var(--nylas-border-radius-2x);\n    border-top: 1px solid var(--nylas-base-200);\n\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n\n    .nylas-custom-event-slug__section {\n      padding: 1rem;\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      color: var(--nylas-base-800);\n\n      @media #{$mobile} {\n        border: none;\n      }\n\n      .nylas-custom-event-slug__row {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n\n        label {\n          display: flex;\n          align-items: center;\n\n          span.required {\n            color: var(--nylas-error, #cc4841);\n          }\n\n          span.label-icon {\n            margin-left: 4px;\n\n            tooltip-component {\n              display: flex;\n            }\n          }\n        }\n\n        p {\n          margin: 0.25rem 0 0 0;\n          font-size: 1rem;\n          font-weight: 500;\n          line-height: 24px;\n          color: var(--nylas-base-900);\n        }\n\n        .input-container {\n          width: 100%;\n        }\n      }\n    }\n\n    span.error-message {\n      color: var(--nylas-error);\n    }\n\n    span.help-text {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n\n  .nylas-custom-event-slug__input-wrapper {\n    @include textfield;\n    width: -moz-available;\n    width: -webkit-fill-available;\n    display: flex;\n    flex-direction: row;\n    gap: 0.125rem;\n    border-radius: var(--nylas-border-radius-2x);\n    z-index: 1;\n\n    &.focus {\n      outline: 2px solid var(--nylas-primary);\n    }\n\n    &.error {\n      border-color: var(--nylas-error);\n      outline: none;\n    }\n\n    input-component::part(ic__input) {\n      outline: none;\n      border: none;\n      width: 100%;\n      font-size: 1rem;\n      height: auto;\n      padding-left: 0px;\n    }\n\n    .prefix {\n      z-index: 1;\n      margin-top: 1px;\n      color: var(--nylas-base-400);\n      font-weight: 500;\n      font-size: 24px;\n    }\n\n    .icon {\n      margin-right: 0.25rem;\n      padding: 0 0.75rem;\n      height: 100%;\n      display: flex;\n      align-items: center;\n      right: 0;\n      cursor: pointer;\n      user-select: none;\n\n      &.disabled {\n        cursor: not-allowed;\n      }\n\n      &:hover {\n        svg path {\n          fill: var(--nylas-primary);\n        }\n      }\n\n      &:active {\n        svg path {\n          fill: var(--nylas-base-500);\n        }\n      }\n\n      .copied {\n        display: flex;\n        align-items: center;\n        font-size: 0.875rem;\n        gap: 0.125rem;\n      }\n    }\n  }\n}","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-custom-event-slug` component is a UI component that allows users to add a custom URL slug for their event link.\n *\n * @part nces - The nylas-custom-event-slug container\n * @part nces__body - The body of the event communication section\n * @part nces__header - The header of the event communication section\n * @part nces__drawer-toggle--container - The card's drawer toggle container\n * @part nces__input-textfield - The custom slug input textfield\n */\n@Component({\n  tag: 'nylas-custom-event-slug',\n  styleUrl: 'nylas-custom-event-slug.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasCustomEventSlug {\n  @Element() host!: HTMLNylasCustomEventSlugElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The default custom event slug\n   */\n  @Prop() defaultUrlSlug?: string;\n  /**\n   * Is the custom event slug card expanded\n   */\n  @Prop() isOpen: boolean = true;\n  /**\n   * Slug error message\n   */\n  @Prop() slugErrorMessage: string = '';\n  /**\n   * The name of the component\n   */\n  @Prop() name: string = 'custom-event-slug';\n  /**\n   * Indicates if a slug is required for the configuration.\n   * When set to true, the user must enter a slug when creating or editing a configuration.\n   * The slug is used for hosted pages that are public.\n   */\n  @Prop() requiresSlug: boolean = false;\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The URL slug state\n   */\n  @State() urlSlug!: string;\n\n  /**\n   * The focus state of the input container.\n   */\n  @State() focus = false;\n\n  /**\n   * The copied state for the copy to clipboard button\n   */\n  @State() copied = false;\n\n  /**\n   * This event is fired when the slug value changes\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-custom-event-slug', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-custom-event-slug', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-custom-event-slug', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-custom-event-slug', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.urlSlug = this.defaultUrlSlug || '';\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-custom-event-slug', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-custom-event-slug', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-custom-event-slug', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-custom-event-slug', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-custom-event-slug', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-custom-booking-flow', 'selectedConfigurationChangedHandler', newValue);\n    this.urlSlug = newValue?.slug || this.defaultUrlSlug || '';\n  }\n\n  @Listen('nylasFormInputChanged')\n  async nylasFormInputChangeHandler(event: CustomEvent<{ value: string; name: string }>) {\n    const { name, value } = event.detail;\n    this.internals.setValidity({});\n\n    if (name === 'event-slug') {\n      this.urlSlug = value;\n      this.internals.setFormValue(JSON.stringify(value), this.name);\n      this.valueChanged.emit({ value: JSON.stringify(value), name: this.name });\n    }\n  }\n\n  @Listen('nylasFormInputFocused')\n  async nylasFormInputFocusHandler() {\n    this.focus = true;\n  }\n\n  @Listen('nylasFormInputBlurred')\n  async nylasFormInputBlurHandler() {\n    this.slugErrorMessage = '';\n    this.internals.setValidity({});\n    this.focus = false;\n    if (this.requiresSlug && this.urlSlug === '') {\n      this.internals.setValidity({ customError: true }, 'Slug is required');\n      this.slugErrorMessage = 'Slug cannot be blank';\n      return;\n    }\n    if (!/^[A-Za-z0-9-]*$/.test(this.urlSlug)) {\n      this.internals.setValidity({ customError: true }, 'Invalid slug: Only letters, numbers, and hyphens are allowed.');\n      this.slugErrorMessage = 'Invalid slug: Only letters, numbers, and hyphens are allowed.';\n    }\n  }\n\n  @Listen('formSubmitted', { target: 'window' })\n  formSubmittedHandler(event: CustomEvent) {\n    debug('nylas-event-title', 'formSubmittedHandler', event);\n    this.nylasFormInputBlurHandler();\n  }\n\n  toggleDrawer() {\n    this.isOpen = !this.isOpen;\n  }\n\n  async copyToClipboard() {\n    try {\n      await navigator.clipboard.writeText(`${this.urlSlug}`);\n\n      this.copied = true;\n      setTimeout(() => {\n        this.copied = false;\n      }, 1000);\n    } catch (err) {\n      console.error('Failed to copy: ', err);\n    }\n  }\n\n  @RegisterComponent<NylasCustomEventSlug, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-custom-event-slug',\n    stateToProps: new Map([\n      ['schedulerConfig.requiresSlug', 'requiresSlug'],\n      ['schedulerConfig.selectedConfiguration', 'selectedConfiguration'],\n    ]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    if (!this.requiresSlug) return null;\n    const isComponentReady = typeof this.urlSlug !== 'undefined';\n    return (\n      <Host>\n        <div class=\"nylas-custom-event-slug\" part=\"nces\">\n          <div class=\"header\" part=\"nces__header\">\n            <div>\n              <h3>Custom event slug</h3>\n              <p>Create a custom URL slug for this event</p>\n            </div>\n            <div class=\"drawer-toggle\" part=\"nces__drawer-toggle--container\">\n              <span class={`chevron ${this.isOpen ? 'open' : 'closed'} `} onClick={() => this.toggleDrawer()}>\n                <chevron-icon width=\"24\" height=\"24\" />\n              </span>\n            </div>\n          </div>\n\n          {this.isOpen && (\n            <div class=\"nylas-custom-event-slug__body\" part=\"nces__body\">\n              <div class=\"nylas-custom-event-slug__section\">\n                <div class=\"nylas-custom-event-slug__row\">\n                  <div class=\"input-container\">\n                    <label>\n                      Event URL slug\n                      <span class=\"label-icon\">\n                        <tooltip-component>\n                          <info-icon slot=\"tooltip-icon\" />\n                          <span slot=\"tooltip-content\">Provide a custom slug for your URL to help uniquely identify your event (letters, numbers, and hyphens only)</span>\n                        </tooltip-component>\n                      </span>\n                    </label>\n\n                    <div class={{ 'nylas-custom-event-slug__input-wrapper': true, 'focus': this.focus, 'error': !!this.slugErrorMessage }}>\n                      <div slot=\"prefix\" class=\"prefix\">\n                        &#47;\n                      </div>\n                      {isComponentReady && (\n                        <input-component\n                          name=\"event-slug\"\n                          id=\"event-slug\"\n                          type=\"text\"\n                          required={false}\n                          placeholder=\"my-link-name\"\n                          exportparts=\"ic_input: nces__input-textfield\"\n                          defaultValue={this.urlSlug}\n                        />\n                      )}\n                      <div slot=\"icon\" class={{ icon: true, disabled: !this.urlSlug }} onClick={() => !this.copied && !!this.urlSlug && this.copyToClipboard()}>\n                        {this.copied ? (\n                          <div class=\"copied\">\n                            <checkmark-icon width=\"12\" height=\"18\" /> Copied!\n                          </div>\n                        ) : (\n                          <copy-icon width=\"12\" height=\"18\" />\n                        )}\n                      </div>\n                    </div>\n                    {this.slugErrorMessage && <span class=\"error-message\">{this.slugErrorMessage}</span>}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-customize-booking-settings {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n  .nylas-customize-booking-settings__settings {\n    display: flex;\n    flex-direction: column;\n    gap: 1.5rem;\n    padding: 1rem;\n    margin: 1rem 0;\n    .nylas-customize-booking-settings__settings-div {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n  }\n}\n\n.label {\n  margin-left: 32px;\n  font-size: 16px;\n  font-weight: 400;\n  color: var(--nylas-base-800);\n  line-height: 24px;\n  .label-contents {\n    margin: 0;\n    display: inline-block;\n    @media #{$mobile} {\n      display: block;\n    }\n  }\n  tooltip-component {\n    display: inline-block;\n  }\n}\n\ntooltip-component#guests::part(tc__content) {\n  @media #{$mobile} {\n    left: 58px;\n  }\n}\n\ntooltip-component#reschedule::part(tc__content) {\n  left: 58px;\n  @media #{$mobile} {\n    left: 58px;\n  }\n}\n\ntooltip-component#cancel::part(tc__content) {\n  left: -58px;\n  @media #{$mobile} {\n    left: 58px;\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-customize-booking-settings` component is a UI component that displays the booking calendar picker.\n * @part ncbs - The booking calendar picker container\n * @part ncbs__header - The header of the booking calendar picker\n * @part ncbs__settings - The settings container\n * @part ncbs__settings-div - The div inside the settings container that contains the checkbox and tooltip for each setting\n * @part ncbs__additional_guests - The additional guests setting\n * @part ncbs__cancellation_options - The cancellation options setting\n * @part ncbs__rescheduling_options - The rescheduling options setting\n */\n@Component({\n  tag: 'nylas-customize-booking-settings',\n  styleUrl: 'nylas-customize-booking-settings.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasCustomizeBookingSettings {\n  @Element() host!: HTMLNylasCustomizeBookingSettingsElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * @deprecated The default additional guests hidden setting as set in the configuration.\n   */\n  @Prop() defaultHideAdditionalGuests: boolean = this.selectedConfiguration?.scheduler?.hide_additional_guests ?? false;\n\n  /**\n   * @deprecated The default hide cancellation options setting as set in the configuration.\n   */\n  @Prop() defaultHideCancellationOptions: boolean = this.selectedConfiguration?.scheduler?.hide_cancellation_options ?? false;\n\n  /**\n   * @deprecated The default hide rescheduling options setting as set in the configuration.\n   */\n  @Prop() defaultHideReschedulingOptions: boolean = this.selectedConfiguration?.scheduler?.hide_rescheduling_options ?? false;\n\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'customize-booking-settings';\n\n  /**\n   * State to store the allowed additional guests setting.\n   */\n  @State() allowGuestsToInvite!: boolean;\n\n  /**\n   * State to store the hide cancel booking setting.\n   */\n  @State() hideCancellationOptions!: boolean;\n\n  /**\n   * State to store the hide reschedule booking setting.\n   */\n  @State() hideReschedulingOptions!: boolean;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * This event is fired when the selected booking calendar changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-customize-booking-settings', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-customize-booking-settings', 'selectedConfigurationChangedHandler', newValue);\n    this.allowGuestsToInvite = !newValue?.scheduler?.hide_additional_guests;\n    this.hideCancellationOptions = newValue?.scheduler?.hide_cancellation_options ?? false;\n    this.hideReschedulingOptions = newValue?.scheduler?.hide_rescheduling_options ?? false;\n  }\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-customize-booking-settings', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-customize-booking-settings', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-customize-booking-settings', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-customize-booking-settings', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      // Set the default values if the selected configuration is not available\n      this.allowGuestsToInvite = true;\n      this.hideCancellationOptions = false;\n      this.hideReschedulingOptions = false;\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-customize-booking-settings', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-customize-booking-settings', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-customize-booking-settings', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-customize-booking-settings', 'componentDidRender');\n  }\n\n  @Listen('nylasFormCheckboxToggled')\n  checkboxToggledHandler(event: CustomEvent<{ name: string; checked: boolean }>) {\n    const { name, checked } = event.detail;\n    switch (name) {\n      case 'hide_additional_guests':\n        this.allowGuestsToInvite = checked;\n        break;\n      case 'hide_cancellation_options':\n        this.hideCancellationOptions = checked;\n        break;\n      case 'hide_rescheduling_options':\n        this.hideReschedulingOptions = checked;\n        break;\n    }\n    this.valueChanged.emit({\n      value: JSON.stringify({\n        additionalGuestsHidden: !this.allowGuestsToInvite,\n        hideCancellationOptions: this.hideCancellationOptions,\n        hideReschedulingOptions: this.hideReschedulingOptions,\n      }),\n      name: this.name,\n    });\n    this.internals.setFormValue(\n      JSON.stringify({\n        additionalGuestsHidden: !this.allowGuestsToInvite,\n        hideCancellationOptions: this.hideCancellationOptions,\n        hideReschedulingOptions: this.hideReschedulingOptions,\n      }),\n      this.name,\n    );\n  }\n\n  @RegisterComponent<NylasCustomizeBookingSettings, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-customize-booking-settings',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    const showComponent = typeof this.hideCancellationOptions === 'boolean' && typeof this.hideReschedulingOptions === 'boolean' && typeof this.allowGuestsToInvite === 'boolean';\n\n    return (\n      <Host>\n        {showComponent && (\n          <div class=\"nylas-customize-booking-settings\" part=\"ncbs\">\n            <div class=\"header\" part=\"ncbs__header\">\n              <h3>Additional settings</h3>\n              <p>Booking settings for the event.</p>\n            </div>\n\n            <div class=\"nylas-customize-booking-settings__settings\" part=\"ncbs__settings\">\n              <div class=\"nylas-customize-booking-settings__settings-div\" part=\"ncbs__settings-div , ncbs__additional_guests\">\n                <checkbox-component name=\"hide_additional_guests\" label=\"Allow guests to invite additional guests.\" checked={this.allowGuestsToInvite}>\n                  <span slot=\"label\" class=\"label\">\n                    <p class=\"label-contents\">Allow guests to invite additional guests.</p>\n                  </span>\n                </checkbox-component>\n              </div>\n              <div class=\"nylas-customize-booking-settings__settings-div\" part=\"ncbs__settings-div , ncbs__rescheduling_options\">\n                <checkbox-component name=\"hide_rescheduling_options\" label=\"Hide 'Reschedule' option on booking page and emails.\" checked={this.hideReschedulingOptions}>\n                  <span slot=\"label\" class=\"label\">\n                    <p class=\"label-contents\">Hide rescheduling option.</p>\n                    <tooltip-component id=\"reschedule\">\n                      <info-icon slot=\"tooltip-icon\" />\n                      <span slot=\"tooltip-content\">\n                        Hide the&nbsp;<strong>Reschedule</strong>&nbsp;button in the booking confirmation and email notifications.\n                      </span>\n                    </tooltip-component>\n                  </span>\n                </checkbox-component>\n              </div>\n              <div class=\"nylas-customize-booking-settings__settings-div\" part=\"ncbs__settings-div , ncbs__cancellation_options\">\n                <checkbox-component name=\"hide_cancellation_options\" label=\"Hide 'Cancel' option on booking page and emails.\" checked={this.hideCancellationOptions}>\n                  <span slot=\"label\" class=\"label\">\n                    <p class=\"label-contents\">Hide cancellation option.</p>\n                    <tooltip-component id=\"cancel\">\n                      <info-icon slot=\"tooltip-icon\" />\n                      <span slot=\"tooltip-content\">\n                        Hide the&nbsp;<strong>Cancel</strong>&nbsp;button in the booking confirmation and email notifications.\n                      </span>\n                    </tooltip-component>\n                  </span>\n                </checkbox-component>\n              </div>\n            </div>\n          </div>\n        )}\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-event-description {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n  textarea {\n    padding: 12px 16px;\n    border-width: 1;\n    resize: vertical;\n    border-radius: 8px;\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n    border: 1px solid var(--nylas-base-200);\n    &::-webkit-resizer {\n      display: none;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, sanitize } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-event-description` component is a form input for the description of an event.\n * @part nedesc - The event description container\n * @part nedesc__textarea - The event description textarea\n */\n@Component({\n  tag: 'nylas-event-description',\n  styleUrl: 'nylas-event-description.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventDescription {\n  /**\n   * The host element <nylas-event-description>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The event description stored in the configuration\n   */\n  @Prop() eventDescription?: string;\n\n  /**\n   * The name of the event description input.\n   */\n  @Prop() name: string = 'description';\n  /**\n   * The selected event description state. This defaults to the event description from the configuration or an empty string.\n   */\n  @State() description: string = this.eventDescription || this.selectedConfiguration?.event_booking?.description || '';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-event-description', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-custom-booking-flow', 'selectedConfigurationChangedHandler', newValue);\n    if (newValue?.event_booking?.description) {\n      this.description = newValue?.event_booking?.description;\n    }\n  }\n\n  /**\n   * Event emitted when the event description changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-event-description', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-description', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-description', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.description = this.eventDescription || '';\n    }\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-description', 'disconnectedCallback');\n  }\n\n  handleChange(event) {\n    const value = sanitize(event.target.value);\n    this.description = value;\n    this.internals.setFormValue(value, 'description');\n    this.valueChanged.emit({ value: value, name: this.name });\n  }\n\n  @RegisterComponent<NylasEventDescription, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-description',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-event-description\" part=\"nedesc\">\n          <label htmlFor=\"description\">\n            Event description\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">The event description appears in the Scheduler Editors manager view.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <textarea id=\"description\" part=\"nedesc__textarea\" name=\"description\" value={this.description} maxlength=\"8192\" onInput={e => this.handleChange(e)}></textarea>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n}\n\n.nylas-event-duration {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.required {\n      color: var(--nylas-error, #cc4841);\n    }\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n.nylas-event-duration__wrapper {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  input {\n    padding: 12px 16px;\n    border-width: 1;\n    border-radius: 8px;\n    border: 1px solid var(--nylas-base-200);\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n    width: 48px;\n  }\n  input-dropdown::part(id_dropdown-input) {\n    border: 1px solid var(--nylas-base-200);\n    border-radius: var(--nylas-border-radius-2x);\n    padding: 14px 16px;\n    width: 50px;\n  }\n  input-dropdown::part(id_dropdown-content) {\n    width: 100%;\n    min-width: unset;\n    height: 200px;\n  }\n\n  select-dropdown {\n    width: 120px;\n    @media #{$mobile} {\n      width: 100%;\n    }\n  }\n\n  select-dropdown::part(sd_dropdown-button) {\n    border: 1px solid var(--nylas-base-200);\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, Listen, State, h, Element, Prop, Watch, Event, EventEmitter } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-event-duration` component is a form input for the duration of an event.\n *\n * @part ned - The event duration container\n * @part ned__dropdown - The dropdown container for the duration increment\n * @part ned__dropdown-button - The dropdown button for the duration increment\n * @part ned__dropdown-content - The dropdown content for the duration increment\n * @part ned__input_dropdown - The input dropdown container for the duration minutes\n * @part ned__input_dropdown-input - The input for the duration minutes\n * @part ned__input_dropdown-content - The dropdown content for the input duration minutes\n */\n@Component({\n  tag: 'nylas-event-duration',\n  styleUrl: 'nylas-event-duration.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventDuration {\n  /**\n   * The host element <nylas-event-duration>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The name of the event duration. Default is 'duration'.\n   */\n  @Prop() name: string = 'duration';\n  /**\n   * The event duration in minutes as set in the configuration.\n   */\n  @Prop() eventDurationMinutes?: number;\n\n  /**\n   * The selected event duration state. This defaults to the event duration from the configuration or 30 minutes.\n   */\n  @State() duration: number = this.eventDurationMinutes ? (this.eventDurationMinutes >= 60 ? this.eventDurationMinutes / 60 : this.eventDurationMinutes) : 30;\n  /**\n   * The duration in minutes. This defaults to the event duration from the configuration or 30 minutes.\n   */\n  @State() durationMinutes!: number;\n  /**\n   * The duration increment. This defaults to minute(s).\n   */\n  @State() durationIncrement!: number;\n  /**\n   * The durationMinutesOptions for the dropdown.\n   */\n  @State() durationMinutesOptions = [\n    { value: 15, label: '15' },\n    { value: 30, label: '30' },\n    { value: 45, label: '45' },\n    { value: 60, label: '60' },\n  ];\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-event-duration', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newVal: Configuration) {\n    const configDuration = newVal?.availability?.duration_minutes;\n    if (configDuration) {\n      this.duration = configDuration >= 60 ? configDuration / 60 : configDuration;\n      this.durationMinutes = configDuration ? configDuration : 30;\n      this.durationIncrement = configDuration >= 60 ? 60 : 1;\n    }\n  }\n\n  @Watch('durationMinutes')\n  durationMinutesChangedHandler(newValue: number, oldValue: number) {\n    debug('nylas-event-duration', 'durationMinutesChangedHandler', newValue);\n    if (newValue === oldValue) {\n      return;\n    }\n    this.valueChanged.emit({ value: newValue.toString(), name: this.name });\n  }\n\n  /**\n   * Event emitted when the event duration changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-event-duration', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-duration', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n    this.setDurationMintueOptions();\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-duration', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    }\n    this.duration = this.duration ? this.duration : this.eventDurationMinutes ? (this.eventDurationMinutes >= 60 ? this.eventDurationMinutes / 60 : this.eventDurationMinutes) : 30;\n    this.durationMinutes = this.durationMinutes ? this.durationMinutes : this.duration ? this.duration : 30;\n    this.durationIncrement = this.durationIncrement ? this.durationIncrement : this.duration >= 60 ? 60 : 1;\n    this.internals.setFormValue(this.durationMinutes.toString(), 'duration');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-duration', 'disconnectedCallback');\n  }\n\n  setDurationMintueOptions() {\n    if (this.durationIncrement === 1) {\n      this.durationMinutesOptions = [\n        { value: 15, label: '15' },\n        { value: 30, label: '30' },\n        { value: 45, label: '45' },\n        { value: 60, label: '60' },\n      ];\n    } else {\n      this.durationMinutesOptions = Array.from({ length: 23 }, (_, i) => ({ value: i + 1, label: (i + 1).toString() }));\n    }\n    return this.durationMinutesOptions;\n  }\n\n  handleChange(event) {\n    this.duration = event.target.value;\n    this.durationMinutes = this.duration * this.durationIncrement;\n    this.internals.setFormValue(this.durationMinutes.toString(), this.name);\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-calendar-picker', 'nylasFormDropdownChangedHandler', event.detail);\n    const { value } = event.detail;\n    this.durationIncrement = parseInt(value);\n    if (this.durationIncrement === 1) {\n      this.duration = 60;\n    } else {\n      this.duration = 1;\n    }\n    this.setDurationMintueOptions();\n    this.durationMinutes = this.duration * this.durationIncrement;\n    this.internals.setFormValue(this.durationMinutes.toString(), 'duration');\n  }\n\n  @Listen('inputOptionChanged')\n  inputOptionChangedHandler(event: CustomEvent<{ value: number; name: string }>) {\n    debug('nylas-calendar-picker', 'inputOptionChangedHandler', event.detail);\n    const { value } = event.detail;\n    this.duration = value;\n    this.durationMinutes = this.duration * this.durationIncrement;\n    this.internals.setFormValue(this.durationMinutes.toString(), this.name);\n  }\n\n  @RegisterComponent<NylasEventDuration, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-duration',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    const durationOptions = [\n      { value: 1, label: 'minute' },\n      { value: 60, label: 'hour' },\n    ];\n\n    return (\n      <Host>\n        <div class=\"nylas-event-duration\" part=\"ned\">\n          <label htmlFor=\"duration\">\n            Event duration<span class=\"required\">*</span>\n          </label>\n          <div class=\"nylas-event-duration__wrapper\">\n            <input-dropdown\n              name={'event-duration'}\n              options={this.durationMinutesOptions}\n              inputValue={this.duration.toString()}\n              exportparts=\"id_dropdown: ned__input_dropdown, id_dropdown-input: ned__input_dropdown-input, id_dropdown-content: ned__input_dropdown-content\"\n              defaultInputOption={this.durationMinutesOptions.find(i => i.value == this.duration)}\n            />\n            {this.durationIncrement && (\n              <select-dropdown\n                name={'event-duration'}\n                options={durationOptions}\n                pluralizedLabel={this.duration > 1 ? 's' : ''}\n                exportparts=\"sd_dropdown: ned__dropdown, sd_dropdown-button: ned__dropdown-button, sd_dropdown-content: ned__dropdown-content\"\n                defaultSelectedOption={durationOptions.find(i => i.value == this.durationIncrement)}\n                withSearch={false}\n              />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  margin: 1rem;\n  @include default-css-variables;\n}\n\n.nylas-event-info__title {\n  color: var(--nylas-base-900);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px; /* 125% */\n  margin: 0;\n  text-align: left;\n}\n.nylas-event-info__subtitle {\n  color: var(--nylas-base-600);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px; /* 142.857% */\n  margin: 0.25rem 0px 0px;\n  text-align: left;\n}\n.nylas-event-info__content {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.nylas-event-info__block {\n  display: flex;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { checkForMissingSlots, debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Host, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-event-info` component is an input form for event information such as title, description, duration, location.\n * This component is a container for the `nylas-event-title`, `nylas-event-description`, `nylas-event-duration`, and `nylas-event-location` components.\n *\n * ```html\n * <nylas-event-info>\n *   <div slot=\"inputs\">\n *     <nylas-event-title></nylas-event-title>\n *     <nylas-event-description></nylas-event-description>\n *     <nylas-event-duration></nylas-event-duration>\n *     <nylas-lcation-component></nylas-event-location>\n *   </div>\n * </nylas-event-info>\n * ```\n *\n * @slot inputs - The event information inputs. This includes the event title, description, duration, and location components.\n */\n@Component({\n  tag: 'nylas-event-info',\n  styleUrl: 'nylas-event-info.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventInfo {\n  @Element() el!: HTMLElement;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  connectedCallback() {\n    debug('nylas-event-info', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-info', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-info', 'componentDidLoad');\n    checkForMissingSlots(['inputs'], this.el);\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-info', 'disconnectedCallback');\n  }\n\n  @RegisterComponent<NylasEventInfo, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-info',\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <nylas-form-card exportparts=\"nfc__header: nei__header\">\n          <h1 slot=\"header-title\" class=\"nylas-event-info__title\" part=\"nei__title\">\n            Event information\n          </h1>\n          <div slot=\"content\" class=\"nylas-event-info__content\">\n            <slot name=\"inputs\"></slot>\n          </div>\n        </nylas-form-card>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  margin: 1rem;\n  @include default-css-variables;\n}\n\n.nylas-event-limits__title {\n  color: var(--nylas-base-900);\n  font-size: 16px;\n  font-style: normal;\n  font-weight: 600;\n  line-height: 20px; /* 125% */\n  margin: 0;\n  text-align: left;\n}\n.nylas-event-limits__subtitle {\n  color: var(--nylas-base-600);\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n  line-height: 20px; /* 142.857% */\n  margin: 0.25rem 0px 0px;\n  text-align: left;\n}\n.nylas-event-limits__content {\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n}\n\n.nylas-event-limits__block {\n  display: flex;\n  justify-content: space-between;\n  gap: 0.5rem;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { checkForMissingSlots, debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Host, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-event-limits` component is an input form for event limits, such as the number of available days in the future and\n * the minimum period of notice that a guest must provide to cancel a booking.\n * This component is a container for the `nylas-limit-future-bookings` and `nylas-min-cancellation-notice` components.\n *\n * ```html\n * <nylas-event-limits>\n *   <div slot=\"inputs\">\n *     <nylas-limit-future-bookings></nylas-limit-future-bookings>\n *     <nylas-min-cancellation-notice></nylas-min-cancellation-notice>\n *   </div>\n * </nylas-event-limits>\n * ```\n *\n * @slot inputs - The event information inputs. This includes the limit future bookings and minimum cancellation notice components.\n */\n@Component({\n  tag: 'nylas-event-limits',\n  styleUrl: 'nylas-event-limits.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventLimits {\n  @Element() el!: HTMLElement;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  connectedCallback() {\n    debug('nylas-event-limits', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-limits', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-limits', 'componentDidLoad');\n    checkForMissingSlots(['inputs'], this.el);\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-limits', 'disconnectedCallback');\n  }\n\n  @RegisterComponent<NylasEventLimits, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-limits',\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <nylas-form-card exportparts=\"nfc__header: nel__header\">\n          <h1 slot=\"header-title\" class=\"nylas-event-limits__title\">\n            Event limits\n          </h1>\n          <div slot=\"content\" class=\"nylas-event-limits__content\">\n            <slot name=\"inputs\"></slot>\n          </div>\n        </nylas-form-card>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-event-location {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  font-family: var(--nylas-font-family);\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n\n  span[slot='select-icon'] {\n    border-right: 1px solid var(--nylas-base-200);\n    padding: 16px 0.75rem 16px 0.5rem;\n    border-radius: var(--nylas-border-radius-2x);\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n    height: 20px;\n  }\n  div.location-input {\n    display: grid;\n    grid-template-columns: auto 1fr;\n    width: 100%;\n    gap: 0.5rem;\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n    input {\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 12px 16px;\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n  select-dropdown {\n    width: 208px;\n    @media #{$mobile} {\n      width: 100%;\n    }\n  }\n  select-dropdown::part(sd_dropdown) {\n    width: 100%;\n  }\n  select-dropdown::part(sd_dropdown-content) {\n    left: calc(35px + 0.5rem);\n  }\n  select-dropdown::part(sd_dropdown-button) {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    border: 1px solid var(--nylas-base-200);\n    padding: 0 0.5rem;\n  }\n  select-dropdown::part(sd_dropdown-button-selected-label) {\n    display: inline-flex;\n    align-self: center;\n    padding: 14px 0;\n    font-family: var(--nylas-font-family);\n    font-size: 16px;\n    line-height: 24px;\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, sanitize } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Conference, Configuration } from '@nylas/core';\nimport { CONFERENCE_PROVIDER_MAP, PROVIDER_CONFERENCE_MAP } from '@/common/constants';\nimport { User } from '@/common/nylas-api-request';\n\n/**\n * The `nylas-event-location` component is a form input for the location of an event.\n *\n * @part nel - The event location container\n * @part nel__location - The event location input\n * @part nel__dropdown - The dropdown container\n * @part nel__dropdown-button - The dropdown button\n * @part nel__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-event-location',\n  styleUrl: 'nylas-event-location.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventLocation {\n  /*\n   * The host element <nylas-event-location>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The name of the event location input.\n   */\n  @Prop() name: string = 'location';\n\n  /**\n   * The current user\n   */\n  @Prop() currentUser?: User;\n  /**\n   * The users provider\n   */\n  @Prop() userProvider?: string;\n  /**\n   * The event conferencing stored in the configuration\n   */\n  @Prop() eventConferencing?: Conference;\n  /**\n   * The conference providers where the key is the provider name ('zoom') and the value is the grant id.\n   * We currently support same provider ('google', 'microsoft') for all participants and 'zoom' for cross-provider conferencing.\n   */\n  @Prop() conferenceProviders?: Record<string, string>;\n\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The event location stored in the configuration\n   */\n  @Prop() eventLocation?: string;\n  /**\n   * The selected event location state. This defaults to the event location from the configuration or an empty string.\n   */\n  @State() location: string = this.eventLocation ?? '';\n  /**\n   * The grant id for the conferencing of non-default conferencing options.\n   */\n  @State() grantId: string = this.eventConferencing ? this.setDefaultGrantID(this.eventConferencing) : '';\n  /**\n   * The selected location option. This defaults to 'none'.\n   */\n  @State() selectedLocationOption: string = this.eventConferencing ? this.setDefaultLocationOption(this.eventConferencing, this.location) : '';\n  /**\n   * The current user provider state.\n   */\n  @State() userProviderState: string = this.userProvider ?? '';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-event-location', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-custom-booking-flow', 'selectedConfigurationChangedHandler', newValue);\n    const configLocation = newValue?.event_booking?.location;\n    const configConferencing = newValue?.event_booking?.conferencing;\n    if (configConferencing?.provider) {\n      this.selectedLocationOption = this.setDefaultLocationOption(configConferencing, configLocation ?? '');\n      this.grantId = this.setDefaultGrantID(configConferencing);\n      this.location = configLocation ? configLocation : '';\n    } else if (configLocation) {\n      this.selectedLocationOption = configLocation ? 'custom' : 'none';\n      this.location = configLocation;\n    } else {\n      this.selectedLocationOption = 'none';\n      this.location = '';\n    }\n  }\n\n  /**\n   * This event is fired when the value of the event location changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-event-location', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-location', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-location', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    }\n    if (this.currentUser?.provider) {\n      this.userProviderState = this.currentUser.provider;\n    }\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-location', 'disconnectedCallback');\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string }>) {\n    this.selectedLocationOption = event.detail.value;\n    let payload;\n    switch (this.selectedLocationOption) {\n      case 'none':\n        this.location = '';\n        this.setFormValue('', this.name);\n        this.valueChanged.emit({ value: '', name: this.name });\n        this.valueChanged.emit({ value: JSON.stringify({}), name: 'conference' });\n        break;\n      case 'custom':\n        this.valueChanged.emit({ value: JSON.stringify({}), name: 'conference' });\n        break;\n      case 'google':\n        this.location = '';\n        this.setFormValue('', this.name);\n        const googleConfGrantId = this.conferenceProviders?.['google'];\n        payload = {\n          provider: PROVIDER_CONFERENCE_MAP.google,\n          autocreate: googleConfGrantId\n            ? {\n                conf_grant_id: googleConfGrantId,\n              }\n            : {},\n        };\n        this.valueChanged.emit({ value: JSON.stringify(payload), name: 'conference' });\n        this.valueChanged.emit({ value: '', name: this.name });\n        break;\n      case 'microsoft':\n        this.location = '';\n        this.setFormValue('', this.name);\n        const microsoftConfGrantId = this.conferenceProviders?.['microsoft'];\n        payload = {\n          provider: PROVIDER_CONFERENCE_MAP.microsoft,\n          autocreate: microsoftConfGrantId\n            ? {\n                conf_grant_id: microsoftConfGrantId,\n              }\n            : {},\n        };\n        this.valueChanged.emit({ value: JSON.stringify(payload), name: 'conference' });\n        this.valueChanged.emit({ value: '', name: this.name });\n        break;\n      case 'zoom':\n        this.location = '';\n        this.setFormValue('', this.name);\n        const zoomConfGrantId = this.conferenceProviders?.['zoom'];\n        payload = {\n          provider: PROVIDER_CONFERENCE_MAP.zoom,\n          autocreate: zoomConfGrantId\n            ? {\n                conf_grant_id: zoomConfGrantId,\n              }\n            : {},\n        };\n        this.valueChanged.emit({ value: JSON.stringify(payload), name: 'conference' });\n        this.valueChanged.emit({ value: '', name: this.name });\n        break;\n    }\n  }\n\n  setDefaultLocationOption(eventConferencing: Conference, eventLocation: string) {\n    if (eventConferencing != null && eventConferencing?.provider != null && eventConferencing?.autocreate != null) {\n      return CONFERENCE_PROVIDER_MAP[eventConferencing?.provider];\n    }\n    return eventLocation ? 'custom' : 'none';\n  }\n  setDefaultGrantID(eventConferencing: Conference) {\n    if (eventConferencing != null && eventConferencing?.autocreate != null) {\n      return eventConferencing?.autocreate?.conf_grant_id;\n    }\n    return '';\n  }\n\n  setFormValue(value: string, name: string) {\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(value, name);\n    }\n  }\n\n  handleChange(event) {\n    const value = sanitize(event.target.value);\n    this.location = value;\n    this.setFormValue(value, this.name);\n    this.valueChanged.emit({ value: value, name: this.name });\n  }\n\n  @RegisterComponent<NylasEventLocation, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-location',\n    stateToProps: new Map([\n      ['schedulerConfig.selectedConfiguration', 'selectedConfiguration'],\n      ['schedulerConfig.conferenceProviders', 'conferenceProviders'],\n      ['schedulerConfig.currentUser', 'currentUser'],\n    ]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    const locationOptions = [\n      { value: 'none', label: 'None' },\n      { value: 'custom', label: 'Custom location' },\n    ];\n    switch (this.userProviderState) {\n      case 'google':\n        locationOptions.push({ value: 'google', label: 'Google Meet' });\n        break;\n      case 'microsoft':\n        locationOptions.push({ value: 'microsoft', label: 'Microsoft Teams' });\n        break;\n    }\n\n    if (this.conferenceProviders?.['zoom']) {\n      locationOptions.push({ value: 'zoom', label: 'Zoom Meeting' });\n    }\n    const newLocationOptions = [...locationOptions];\n    const defaultOption = locationOptions.find(i => i.value == this.selectedLocationOption);\n\n    const icons = {\n      none: <location-off-icon />,\n      custom: <location-icon />,\n      google: <google-meet-icon />,\n      microsoft: <microsoft-teams-icon />,\n      zoom: <zoom-icon />,\n    };\n    const locationIcon = icons[this.selectedLocationOption];\n    return (\n      <Host>\n        <div class=\"nylas-event-location\" part=\"nel\">\n          <label htmlFor=\"location\">\n            Event meeting or location\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Select a conferencing option or add a custom location.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          <div class=\"location-input\">\n            {defaultOption?.label && (\n              <select-dropdown\n                withSearch={false}\n                name=\"location\"\n                options={newLocationOptions}\n                defaultSelectedOption={defaultOption}\n                exportparts=\"sd_dropdown: nel__dropdown, sd_dropdown-button: nel__dropdown-button, sd_dropdown-content: nel__dropdown-content\"\n              >\n                <span slot=\"select-icon\">{locationIcon}</span>\n              </select-dropdown>\n            )}\n            {this.selectedLocationOption === 'custom' && (\n              <input type=\"text\" part=\"nel__location\" id=\"location\" name=\"location\" maxlength=\"1024\" value={this.location} onInput={e => this.handleChange(e)} />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n}\n\n.nylas-event-title {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  position: relative;\n  text-align: left;\n\n  div.title {\n    padding: 12px 16px;\n    border: 1px solid var(--nylas-base-200);\n    border-radius: var(--nylas-border-radius-2x);\n    overflow: scroll;\n    white-space: nowrap;\n    scrollbar-width: thin;\n\n    &::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n    }\n\n    &.error {\n      border-color: var(--nylas-error);\n      border-width: 2px;\n      outline: none;\n    }\n  }\n\n  input {\n    padding: 12px 16px;\n    border-width: 1;\n    border-radius: 8px;\n    border: 1px solid var(--nylas-base-200);\n  }\n\n  span.help-text {\n    display: flex;\n    gap: 4px;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 14px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 21px;\n  }\n\n  span.error-message {\n    color: var(--nylas-error);\n  }\n\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%;\n\n    /* 21px */\n    span.required {\n      color: var(--nylas-error, #cc4841);\n    }\n\n    span.label-icon {\n      margin-left: 4px;\n\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n\n.highlighted-tag {\n  background-color: var(--nylas-base-200);\n  border-radius: var(--nylas-border-radius);\n  padding: 5px;\n  margin-left: 4px;\n}\n\n.token-options {\n  display: block;\n  background-color: var(--nylas-base-0);\n  width: 100%;\n  max-height: 336px;\n  overflow: auto;\n  z-index: 1;\n  border-radius: 4px;\n  position: absolute;\n  top: calc(48px + 24px + 8px); // 48px is the height of the input, 24px is the height of the label, 8px is the gap between the label and the input\n\n  @media #{$mobile} {\n    right: 0;\n    width: 325px;\n    max-width: unset;\n  }\n\n  box-shadow: 0px 4px 6px -2px #0000000d;\n  box-shadow: 0px 10px 15px -3px #0000001a;\n\n  ul {\n    padding: 0;\n    list-style-type: none;\n    color: var(--nylas-base-900);\n    max-height: 336px;\n    margin: 0;\n\n    li {\n      padding: 16px, 12px, 16px, 12px;\n      color: black;\n      padding: 12px 16px;\n      text-decoration: none;\n      display: block;\n      font-family: inherit;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 20px;\n      letter-spacing: 0px;\n      text-align: left;\n      cursor: pointer;\n\n      .token-label {\n        display: flex;\n        flex-direction: column;\n        font-weight: 400;\n\n        .token {\n          color: var(--nylas-abse-900);\n          font-size: 16px;\n          line-height: 24px;\n        }\n\n        .description {\n          color: var(--nylas-base-600);\n          font-size: 14px;\n          line-height: 21px;\n        }\n      }\n\n      &:hover,\n      &:focus,\n      &:active,\n      &.active {\n        background-color: var(--nylas-base-100);\n\n        .token-label {\n          .token {\n            color: var(--nylas-primary);\n          }\n        }\n      }\n    }\n  }\n\n  .selected {\n    background-color: var(--nylas-base-100);\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, getBrowser, isNonPrintableKey, sanitize } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { EVENT_TITLE_TOKENS as eventTitleTokens } from '@/common/constants';\nimport { Configuration } from '@nylas/core';\n\ninterface CustomShadowRoot extends ShadowRoot {\n  getSelection: () => Selection | null;\n}\n\ntype Token = {\n  token: string;\n  value: string;\n  description: string;\n};\n\n/**\n * The `nylas-event-title` component is a form input for the title of an event.\n * @part net - The event title container\n * @part net__title - The event title input\n * @part net__dropdown-content - The token options container\n */\n@Component({\n  tag: 'nylas-event-title',\n  styleUrl: 'nylas-event-title.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasEventTitle {\n  @Element() host!: HTMLElement;\n  @AttachInternals() internals!: ElementInternals;\n\n  // Properties\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The title of the event from the cofiguration.\n   */\n  @Prop() eventTitle?: string = this.selectedConfiguration?.event_booking?.title;\n  /**\n   * The name attribute of this component.\n   */\n  @Prop() name: string = 'title';\n\n  // State variables\n  /**\n   * Whether to show the tokens dropdown.\n   */\n  @State() showTokens: boolean = false;\n  /**\n   * The available token options for the dropdown.\n   */\n  @State() availableTokens: { label: string; value: string; labelHTML: Token }[] = eventTitleTokens.map(token => ({\n    label: token.token,\n    value: token.value,\n    labelHTML: token,\n  }));\n  /**\n   * The filtered token options for the dropdown based on the current query.\n   */\n  @State() filteredTokens: { label: string; value: string; labelHTML: Token }[] = this.availableTokens;\n  /**\n   * The aria-activedescendant attribute value. This is used to indicate the\n   * currently active descendant in the tokens dropdown.\n   */\n  @State() ariaActivedescendant: string = '';\n  /**\n   * Stores the reference to the current word being typed.\n   * This is used to update the event title with the selected token tag when\n   * an option is selected from the dropdown by clicking on it.\n   */\n  @State() currentWord: {\n    $value: string;\n    fullText: string;\n    index: number;\n    focusOffset: number;\n  } = { $value: '', fullText: '', index: -1, focusOffset: -1 };\n\n  @State() validationError: string = '';\n  @State() configEventTitle: string = '';\n\n  // Reference to the title div element\n  private titleRef!: HTMLDivElement;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-event-title', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('ariaActivedescendant')\n  ariaActivedescendantChangedHandler(newValue: string) {\n    debug('nylas-event-title', 'ariaActivedescendantChangedHandler', newValue);\n    if (newValue !== '') {\n      const activeOption = this.host.shadowRoot?.getElementById(newValue);\n      activeOption?.classList.add('active');\n    } else {\n      const options = this.host.shadowRoot?.querySelectorAll('.token-options li.active');\n      options?.forEach(option => option.classList.remove('active'));\n    }\n  }\n\n  @Watch('selectedConfiguration')\n  configChangedHandler(newVal) {\n    const title = newVal?.event_booking?.title;\n    this.configEventTitle = title;\n    if (title) {\n      this.updateEventTitleFromProp(title);\n    }\n  }\n\n  // Events\n  /**\n   * This event is fired when the value of the event title changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-event-title', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-event-title', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-event-title', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.eventTitle = this.selectedConfiguration?.event_booking?.title;\n    }\n    this.updateEventTitleFromProp(this.eventTitle || '');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-event-title', 'disconnectedCallback');\n  }\n\n  @Listen('formSubmitted', { target: 'window' })\n  formSubmittedHandler(event: CustomEvent) {\n    debug('nylas-event-title', 'formSubmittedHandler', event);\n    if (!this.internals?.validity?.valid) {\n      this.validationError = 'Event title is required';\n    } else {\n      this.validationError = '';\n    }\n  }\n\n  updateEventTitleFromProp(newValue: string) {\n    debug('nylas-event-title', 'eventTitleChangedHandler', newValue);\n    const title = newValue || this.configEventTitle;\n    if (this.titleRef) {\n      this.titleRef.innerHTML = this.highlightTokens(title);\n      this.titleRef.focus();\n      if (typeof this.internals.setValidity === 'function') {\n        if (!title || title === '') {\n          this.internals?.setValidity({ customError: true }, `Event title is required`, this.titleRef);\n        } else {\n          this.internals?.setValidity({ customError: false });\n        }\n      }\n    }\n  }\n\n  highlightTokens(title: string) {\n    let outputHtml = title;\n\n    eventTitleTokens.forEach(tokenObj => {\n      const token = tokenObj.value;\n      // Create a regular expression that matches the token as a whole word\n      const regex = new RegExp(`(\\\\${token})(?!\\\\w)`, 'g');\n      // Replace the token with a span element\n      outputHtml = outputHtml?.replace(regex, '<span class=\"highlighted-tag\">$1</span>') || '';\n    });\n    return outputHtml;\n  }\n\n  getCurrentSelectionForBrowser() {\n    const getSelectionTextData = (nodeValue, offset, node, allSelected) => {\n      // Remove zero-width space characters from the text, because they are not visible and cause issues with the selection\n      const text = nodeValue.replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\n      const dollarIndex = text.lastIndexOf('$');\n      const lastWord = text.substring(dollarIndex).split(' ')[0];\n      return {\n        focusOffset: offset,\n        dollarIndex,\n        lastWord,\n        currentText: text,\n        node,\n        allSelected,\n      };\n    };\n\n    // Check if the selection has selected all the text in the node, we need this to handle the case where the user selects all the text and then types or deletes\n    const isAllSelected = (selection: Selection) => selection.anchorOffset === 0 && selection.focusOffset === selection.focusNode?.nodeValue?.length;\n\n    const currentBrowser = getBrowser();\n    switch (currentBrowser) {\n      case 'Chrome':\n        const shadowRootSelection = (this.host.shadowRoot as CustomShadowRoot)?.getSelection();\n        const focusNode = shadowRootSelection?.focusNode;\n        const focusNodeValue = focusNode?.nodeValue || '';\n        const allSelected = shadowRootSelection && isAllSelected(shadowRootSelection);\n        return getSelectionTextData(focusNodeValue, shadowRootSelection?.focusOffset || -1, focusNode, allSelected);\n      case 'Firefox':\n        const selection = document.getSelection();\n        const anchorNodeValue = selection?.anchorNode?.nodeValue || '';\n        const allSelectedFirefox = selection && isAllSelected(selection);\n        return getSelectionTextData(anchorNodeValue, selection?.focusOffset || -1, selection?.anchorNode, allSelectedFirefox);\n      case 'Safari':\n        const windowSelection = window.getSelection();\n        const anchorNode = (windowSelection as any)?.getComposedRanges(this.host.shadowRoot as CustomShadowRoot)[0];\n        const currentText = anchorNode?.startContainer?.nodeValue || '';\n        const allSelectedSafari = windowSelection && isAllSelected(windowSelection);\n        return getSelectionTextData(currentText, anchorNode?.endOffset || -1, anchorNode?.startContainer, allSelectedSafari);\n      default:\n        console.warn('Browser not supported');\n        return null;\n    }\n  }\n\n  handleChange(event: Event) {\n    let textContent = (event.target as HTMLDivElement).textContent || '';\n    textContent = sanitize(textContent);\n\n    // All browsers handle Selection within Shadow DOM differently, so get the current selection based on the browser\n    const currentSelection = this.getCurrentSelectionForBrowser();\n    if (!currentSelection) {\n      this.updateEventTitle(textContent);\n      this.resetDropdown();\n      return;\n    }\n    const { focusOffset, dollarIndex, lastWord, currentText } = currentSelection;\n\n    if (dollarIndex === -1 || focusOffset < dollarIndex) {\n      this.updateEventTitle(textContent);\n      this.resetDropdown();\n      return;\n    }\n    if (lastWord.startsWith('$')) {\n      this.showTokens = true;\n      // Update the current word being typed, we need this reference to update the event title with the selected token\n      // because the user can select an option from the dropdown by clicking on it, which will not trigger the input event.\n      this.currentWord = {\n        $value: lastWord,\n        fullText: currentText,\n        index: dollarIndex,\n        focusOffset,\n      };\n      this.populateSuggestionsDropdown(lastWord);\n    } else {\n      this.resetDropdown();\n    }\n    this.updateEventTitle(textContent);\n  }\n\n  handleInputKeyDown(event) {\n    const selection = this.getCurrentSelectionForBrowser();\n\n    // If no text is remaining in the title, reset the title to an empty string\n    if (selection?.allSelected && !isNonPrintableKey(event)) {\n      this.titleRef.innerHTML = '';\n    }\n\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      const activeOption = this.host.shadowRoot?.getElementById(this.ariaActivedescendant);\n      if (activeOption) {\n        activeOption.click();\n        this.ariaActivedescendant = '';\n      }\n    } else if (event.key === 'ArrowDown') {\n      event.preventDefault();\n      const activeOption = this.host.shadowRoot?.getElementById(this.ariaActivedescendant);\n      if (activeOption) {\n        const nextOption = activeOption.nextElementSibling;\n        if (nextOption) {\n          this.ariaActivedescendant = nextOption.id;\n        } else {\n          this.ariaActivedescendant = this.filteredTokens[0].label;\n        }\n      } else {\n        this.ariaActivedescendant = this.filteredTokens[0].label;\n      }\n    } else if (event.key === 'ArrowUp') {\n      event.preventDefault();\n      const activeOption = this.host.shadowRoot?.getElementById(this.ariaActivedescendant);\n      if (activeOption) {\n        const prevOption = activeOption.previousElementSibling;\n        if (prevOption) {\n          this.ariaActivedescendant = prevOption.id;\n        } else {\n          this.ariaActivedescendant = this.filteredTokens[this.filteredTokens.length - 1].label;\n        }\n      } else {\n        this.ariaActivedescendant = this.filteredTokens[this.filteredTokens.length - 1].label;\n      }\n    } else if (event.key === 'Escape') {\n      event.preventDefault();\n      this.resetDropdown();\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      if (selection?.currentText.startsWith('${')) {\n        selection?.node?.parentNode && selection.node.parentNode.removeChild(selection.node);\n      }\n      if (this.titleRef.textContent === '' || selection?.currentText === '' || selection?.allSelected) {\n        this.titleRef.innerHTML = '';\n      }\n    }\n  }\n\n  selectOption(e: Event, option: { label: string; value: string; labelHTML: Token }) {\n    e.preventDefault();\n    const word = this.currentWord.fullText;\n    const dollarWord = this.currentWord.$value;\n\n    // Traverse the DOM to find the text node that contains the current word fullText\n    let currentNode = this.titleRef.firstChild;\n    let textNode: ChildNode | null = null;\n\n    while (currentNode) {\n      if (currentNode.nodeType === 3) {\n        const currentNodeText = currentNode.textContent?.replace(/[\\u200B-\\u200D\\uFEFF]/g, '') || '';\n        const wordText = word.replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\n        if (currentNodeText.includes(wordText)) {\n          textNode = currentNode;\n          break;\n        }\n      }\n      currentNode = currentNode.nextSibling;\n    }\n\n    if (!textNode) {\n      return;\n    }\n    // Split the text node into three parts: text before the token, the token, and text after the token\n    const text = textNode.textContent || '';\n    const index = text.indexOf(dollarWord);\n    const textBefore = text.substring(0, index);\n    const textAfter = text.substring(index + dollarWord.length);\n    const newTextNode = document.createTextNode(textBefore);\n    const newRange = document.createRange();\n\n    // Create a new span element to replace the text node\n    const tagSpan = document.createElement('span');\n    tagSpan.classList.add('highlighted-tag');\n    tagSpan.textContent = `${option.value}`;\n    const newTextNodeAfter = document.createTextNode(textAfter);\n\n    if (textAfter !== '') {\n      // If there is text after the token, add it to the new span element\n      textNode.replaceWith(newTextNode, tagSpan, newTextNodeAfter);\n      newRange.setStart(newTextNodeAfter, 1);\n    } else {\n      // If there is no text after the token, add a zero-width space character (Without this, the cursor will not move outside the highlighted span element)\n      const afterNode = document.createTextNode('\\u200B');\n      textNode.replaceWith(newTextNode, tagSpan, afterNode);\n      newRange.setStart(afterNode, 1);\n    }\n\n    // Hide the dropdown\n    this.resetDropdown();\n    this.titleRef.focus();\n\n    // Set the focus to the new span element\n    const sel = window.getSelection();\n    newRange.collapse(true);\n    sel?.removeAllRanges();\n    sel?.addRange(newRange);\n\n    // Update the event title with the selected token\n    this.updateEventTitle(this.titleRef.textContent || '');\n  }\n\n  populateSuggestionsDropdown(query: string = '') {\n    this.filteredTokens = this.availableTokens.filter(obj => {\n      return obj.label.startsWith(query.toString()) || obj.value.startsWith(query.toString());\n    });\n\n    // Set the first option as the active descendant\n    if (this.filteredTokens.length > 0) {\n      this.ariaActivedescendant = this.filteredTokens[0].label;\n    }\n  }\n\n  updateEventTitle(text: string) {\n    const value = text.replace(/ +/g, ' ');\n    if (value === '') {\n      this.internals?.setValidity({ customError: true }, `Event title is required`, this.titleRef);\n      this.validationError = 'Event title is required';\n    } else {\n      this.internals?.setValidity({ customError: false });\n      this.validationError = '';\n    }\n    this.internals?.setFormValue(value, this.name);\n    this.valueChanged.emit({ value: value, name: this.name });\n  }\n\n  resetDropdown() {\n    this.showTokens = false;\n    this.ariaActivedescendant = '';\n  }\n\n  getLabelHTML(token: { token: string; description: string }) {\n    return (\n      <div class=\"token-label\">\n        <span class=\"token\">{token.token}</span>\n        <span class=\"description\">{token.description}</span>\n      </div>\n    );\n  }\n\n  @RegisterComponent<NylasEventTitle, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-event-title',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-event-title\" part=\"net\">\n          <label htmlFor=\"title\">\n            Event title<span class=\"required\">*</span>\n          </label>\n          <div\n            class={{\n              title: true,\n              error: this.validationError !== '',\n            }}\n            part=\"net__title\"\n            ref={el => (this.titleRef = el as HTMLDivElement)}\n            contentEditable=\"true\"\n            onInput={e => this.handleChange(e)}\n            onKeyDown={event => this.handleInputKeyDown(event)}\n          ></div>\n          {this.showTokens && this.filteredTokens?.length > 0 && (\n            <div class=\"token-options\" part=\"net__dropdown-content\">\n              <ul tabindex=\"-1\" role=\"listbox\" aria-label={this.name} aria-activedescendant={this.ariaActivedescendant}>\n                {this.filteredTokens.map(option => (\n                  <li\n                    tabindex=\"0\"\n                    key={option.label}\n                    id={option.label}\n                    class={{ active: this.ariaActivedescendant === option.label }}\n                    onClick={e => this.selectOption(e, option)}\n                    role=\"option\"\n                  >\n                    {this.getLabelHTML(option.labelHTML)}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n          <span class=\"help-text\">\n            Create a dynamic templated event title by typing <code>$</code> and selecting a template item.\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">\n                  For example, Interview with <code>{'${invitee}'}</code>\n                </span>\n              </tooltip-component>\n            </span>\n          </span>\n          {this.validationError != '' && <span class=\"error-message\">{this.validationError}</span>}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-limit-future-bookings {\n  display: flex;\n  justify-content: space-between;\n  font-family: var(--nylas-font-family);\n  @media #{$mobile} {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n\nselect-dropdown::part(sd_dropdown-button) {\n  border: none;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-limit-future-bookings` component is a form input for the number of days in the future a guest is allowed to book an event.\n *\n * @part nlfb - The limit future bookings container\n * @part nlfb__number-dropdown - The number dropdown container\n * @part nlfb__number-dropdown-button - The number dropdown button\n * @part nlfb__number-dropdown-content - The number dropdown content\n * @part nlfb__period-dropdown - The period dropdown container\n * @part nlfb__period-dropdown-button - The period dropdown button\n * @part nlfb__period-dropdown-content - The period dropdown content\n */\n@Component({\n  tag: 'nylas-limit-future-bookings',\n  styleUrl: 'nylas-limit-future-bookings.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasLimitFutureBookings {\n  /**\n   * The host element <nylas-limit-future-bookings>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The number of days into the future that invitees will see availability, as set in the configuration.\n   */\n  @Prop() availableDaysInFuture?: number;\n  /**\n   * The name of the limit future bookings input.\n   */\n  @Prop() name: string = 'limit-future-bookings';\n\n  /**\n   * The selected number for the available days in the future.\n   */\n  @State() selectedNumber;\n  /**\n   * The selected period for the available days in the future.\n   */\n  @State() selectedPeriod;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-limit-future-bookings', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newVal: Configuration) {\n    const daysInFuture = newVal?.scheduler?.available_days_in_future || this.availableDaysInFuture || 1;\n    if (daysInFuture) {\n      this.updateNumberAndPeriodFromDays(daysInFuture);\n    }\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(daysInFuture?.toString(), this.name);\n  }\n\n  /**\n   * Event emitted when the future booking limit changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-limit-future-bookings', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-limit-future-bookings', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-limit-future-bookings', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.updateNumberAndPeriodFromDays(this.availableDaysInFuture || 1);\n    }\n  }\n\n  disconnectedCallback() {\n    debug('nylas-limit-future-bookings', 'disconnectedCallback');\n  }\n\n  @Listen('timePeriodChanged')\n  timePeriodChangedHandler(\n    event: CustomEvent<{\n      number: number;\n      period: string;\n    }>,\n  ) {\n    const { number, period } = event.detail;\n    let availableDaysInFuture;\n    if (period === 'day') {\n      availableDaysInFuture = number;\n    } else if (period === 'week') {\n      availableDaysInFuture = number * 7;\n    } else {\n      availableDaysInFuture = number * 30;\n    }\n    this.valueChanged.emit({ value: availableDaysInFuture, name: 'availableDaysInFuture' });\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(availableDaysInFuture.toString(), this.name);\n  }\n\n  updateNumberAndPeriodFromDays(days: number): void {\n    let number, period;\n    if (days >= 30 && days % 30 === 0) {\n      number = days / 30;\n      period = 'month';\n    } else if (days >= 7 && days % 7 === 0) {\n      number = days / 7;\n      period = 'week';\n    } else {\n      number = days;\n      period = 'day';\n    }\n    this.selectedNumber = number;\n    this.selectedPeriod = period;\n  }\n\n  @RegisterComponent<NylasLimitFutureBookings, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-limit-future-bookings',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    const showTImePeriodSelector = typeof this.selectedNumber == 'number' && typeof this.selectedPeriod == 'string';\n    return (\n      <Host>\n        <div class=\"nylas-limit-future-bookings\" part=\"nlfb\">\n          <label>\n            Limit future bookings\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">The limit on how far in the future bookings can be made.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          {showTImePeriodSelector && (\n            <time-period-selector\n              id=\"limit-future-bookings\"\n              timePeriods={['day', 'week', 'month']}\n              exportparts=\"tps__number-dropdown: nlfb__number-dropdown, tps__number-dropdown-button: nlfb__number-dropdown-button, tps__number-dropdown-content: nlfb__number-dropdown-content, tps__period-dropdown: nlfb__period-dropdown, tps__period-dropdown-button: nlfb__period-dropdown-button, tps__period-dropdown-content: nlfb__period-dropdown-content\"\n              defaultSelectedNumber={this.selectedNumber}\n              defaultSelectedPeriod={this.selectedPeriod}\n            />\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-min-booking-notice {\n  display: flex;\n  justify-content: space-between;\n  font-family: var(--nylas-font-family);\n  @media #{$mobile} {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n\nselect-dropdown::part(sd_dropdown-button) {\n  border: none;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-min-booking-notice` component is a form input for the minimum period of notice (minutes) that a guest must\n * provide to book an event.\n *\n * @part nmbn - The minimum booking notice container\n * @part nmbn__number-dropdown - The number dropdown container\n * @part nmbn__number-dropdown-button - The number dropdown button\n * @part nmbn__number-dropdown-content - The number dropdown content\n * @part nmbn__period-dropdown - The period dropdown container\n * @part nmbn__period-dropdown-button - The period dropdown button\n * @part nmbn__period-dropdown-content - The period dropdown content\n */\n@Component({\n  tag: 'nylas-min-booking-notice',\n  styleUrl: 'nylas-min-booking-notice.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasMinBookingNotice {\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The minimum booking notice (minutes) stored in the configuration\n   */\n  @Prop() minBookingNotice?: number;\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n  /**\n   * The host element <nylas-min-booking-notice>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The name of the min booking notice input.\n   */\n  @Prop() name: string = 'min-booking-notice';\n\n  /**\n   * The selected number of minutes for the min booking notice.\n   */\n  @State() selectedNumber;\n  /**\n   * The selected period for the min booking notice.\n   */\n  @State() selectedPeriod;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-min-booking-notice', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newVal: Configuration) {\n    const minBookingNotice = newVal?.scheduler?.min_booking_notice || this.minBookingNotice || 1;\n    if (minBookingNotice) {\n      this.updateNumberAndPeriodFromMinutes(minBookingNotice);\n    }\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(minBookingNotice?.toString(), this.name);\n  }\n\n  /**\n   * This event is fired when the value of the min booking notice changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-min-booking-notice', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-min-booking-notice', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-min-booking-notice', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.updateNumberAndPeriodFromMinutes(this.minBookingNotice || 1);\n    }\n  }\n\n  disconnectedCallback() {\n    debug('nylas-min-booking-notice', 'disconnectedCallback');\n  }\n\n  @Listen('timePeriodChanged')\n  timePeriodChangedHandler(\n    event: CustomEvent<{\n      number: number;\n      period: string;\n    }>,\n  ) {\n    const { number, period } = event.detail;\n    let totalMinutes;\n    const minutesInHour = 60;\n    const minutesInDay = minutesInHour * 24;\n    const minutesInWeek = minutesInDay * 7;\n    const minutesInMonth = minutesInDay * 30; // Assuming 30 days in a month for simplification\n\n    if (period === 'minute') {\n      totalMinutes = number;\n    } else if (period === 'hour') {\n      totalMinutes = number * minutesInHour;\n    } else if (period === 'day') {\n      totalMinutes = number * minutesInDay;\n    } else if (period === 'week') {\n      totalMinutes = number * minutesInWeek;\n    } else if (period === 'month') {\n      totalMinutes = number * minutesInMonth;\n    } else {\n      totalMinutes = 0;\n    }\n    this.valueChanged.emit({ value: totalMinutes, name: 'minBookingNotice' });\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(totalMinutes.toString(), this.name);\n  }\n\n  private updateNumberAndPeriodFromMinutes(minutes: number): void {\n    const minutesInHour = 60;\n    const minutesInDay = minutesInHour * 24;\n    const minutesInWeek = minutesInDay * 7;\n    const minutesInMonth = minutesInDay * 30; // Assuming 30 days in a month for simplification\n    let number, period;\n    if (minutes >= minutesInMonth) {\n      number = Math.floor(minutes / minutesInMonth);\n      period = 'month';\n    } else if (minutes >= minutesInWeek) {\n      number = Math.floor(minutes / minutesInWeek);\n      period = 'week';\n    } else if (minutes >= minutesInDay) {\n      number = Math.floor(minutes / minutesInDay);\n      period = 'day';\n    } else if (minutes >= minutesInHour) {\n      number = Math.floor(minutes / minutesInHour);\n      period = 'hour';\n    } else {\n      number = minutes;\n      period = 'minute';\n    }\n    this.selectedNumber = number;\n    this.selectedPeriod = period;\n  }\n\n  @RegisterComponent<NylasMinBookingNotice, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-min-booking-notice',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    const showTImePeriodSelector = typeof this.selectedNumber == 'number' && typeof this.selectedPeriod == 'string';\n    return (\n      <Host>\n        <div class=\"nylas-min-booking-notice\" part=\"nmbn\">\n          <label>\n            Minimum booking notice\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">The minimum amount of time in the future that a new booking can be made.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          {showTImePeriodSelector && (\n            <time-period-selector\n              id=\"min-booking-notice\"\n              exportparts=\"tps__number-dropdown: nmbn__number-dropdown, tps__number-dropdown-button: nmbn__number-dropdown-button, tps__number-dropdown-content: nmbn__number-dropdown-content, tps__period-dropdown: nmbn__period-dropdown, tps__period-dropdown-button: nmbn__period-dropdown-button, tps__period-dropdown-content: nmbn__period-dropdown-content\"\n              timePeriods={['minute', 'hour', 'day', 'week']}\n              defaultSelectedNumber={this.selectedNumber}\n              defaultSelectedPeriod={this.selectedPeriod}\n            />\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  @include default-css-variables;\n}\n\n.nylas-min-cancellation-notice {\n  display: flex;\n  justify-content: space-between;\n  font-family: var(--nylas-font-family);\n  @media #{$mobile} {\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n  label {\n    display: flex;\n    align-items: center;\n    color: var(--nylas-base-800);\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 150%; /* 21px */\n    span.label-icon {\n      margin-left: 4px;\n      tooltip-component {\n        display: flex;\n      }\n    }\n  }\n}\n\nselect-dropdown::part(sd_dropdown-button) {\n  border: none;\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Host, State, h, Element, Prop, Watch, Event, EventEmitter, Listen } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-min-cancellation-notice` component is a form input for the minimum period of notice (minutes) that a guest must\n * provide to cancel a booked event.\n *\n * @part nmcn - The minimum cancellation notice container\n * @part nmcn__number-dropdown - The number dropdown container\n * @part nmcn__number-dropdown-button - The number dropdown button\n * @part nmcn__number-dropdown-content - The number dropdown content\n * @part nmcn__period-dropdown - The period dropdown container\n * @part nmcn__period-dropdown-button - The period dropdown button\n * @part nmcn__period-dropdown-content - The period dropdown content\n */\n@Component({\n  tag: 'nylas-min-cancellation-notice',\n  styleUrl: 'nylas-min-cancellation-notice.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasMinCancellationNotice {\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The minimum cancellation notice (minutes) stored in the configuration\n   */\n  @Prop() minCancellationNotice?: number;\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n  /**\n   * The host element <nylas-min-cancellation-notice>\n   */\n  @Element() host!: HTMLElement;\n  /**\n   * The name of the min cancellation notice input.\n   */\n  @Prop() name: string = 'min-cancellation-notice';\n\n  /**\n   * The selected number of minutes for the min cancellation notice.\n   */\n  @State() selectedNumber;\n  /**\n   * The selected period for the min cancellation notice.\n   */\n  @State() selectedPeriod;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-min-cancellation-notice', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newVal: Configuration) {\n    const minCancellationNotice = typeof newVal?.scheduler?.min_cancellation_notice !== 'undefined' ? newVal?.scheduler?.min_cancellation_notice : this.minCancellationNotice || 0;\n    if (typeof minCancellationNotice === 'number') {\n      this.updateNumberAndPeriodFromMinutes(minCancellationNotice);\n    }\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(minCancellationNotice?.toString(), this.name);\n  }\n\n  /**\n   * This event is fired when the value of the min cancellation notice changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  connectedCallback() {\n    debug('nylas-min-cancellation-notice', 'connectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-min-cancellation-notice', 'componentWillLoad');\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-min-cancellation-notice', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.updateNumberAndPeriodFromMinutes(this.minCancellationNotice || 0);\n    }\n  }\n\n  disconnectedCallback() {\n    debug('nylas-min-cancellation-notice', 'disconnectedCallback');\n  }\n\n  @Listen('timePeriodChanged')\n  timePeriodChangedHandler(\n    event: CustomEvent<{\n      number: number;\n      period: string;\n    }>,\n  ) {\n    const { number, period } = event.detail;\n    let totalMinutes;\n    const minutesInHour = 60;\n    const minutesInDay = minutesInHour * 24;\n    const minutesInWeek = minutesInDay * 7;\n    const minutesInMonth = minutesInDay * 30; // Assuming 30 days in a month for simplification\n\n    if (period === 'minute') {\n      totalMinutes = number;\n    } else if (period === 'hour') {\n      totalMinutes = number * minutesInHour;\n    } else if (period === 'day') {\n      totalMinutes = number * minutesInDay;\n    } else if (period === 'week') {\n      totalMinutes = number * minutesInWeek;\n    } else if (period === 'month') {\n      totalMinutes = number * minutesInMonth;\n    } else {\n      totalMinutes = 0;\n    }\n    this.valueChanged.emit({ value: totalMinutes, name: 'minCancellationNotice' });\n    if (typeof this.internals.setFormValue !== 'function') {\n      return;\n    }\n    this.internals.setFormValue(totalMinutes.toString(), this.name);\n  }\n\n  private updateNumberAndPeriodFromMinutes(minutes: number): void {\n    const minutesInHour = 60;\n    const minutesInDay = minutesInHour * 24;\n    const minutesInWeek = minutesInDay * 7;\n    const minutesInMonth = minutesInDay * 30; // Assuming 30 days in a month for simplification\n    let number, period;\n    if (minutes == 0) {\n      number = 0;\n      period = 'minute';\n    } else if (minutes >= minutesInMonth) {\n      number = Math.floor(minutes / minutesInMonth);\n      period = 'month';\n    } else if (minutes >= minutesInWeek) {\n      number = Math.floor(minutes / minutesInWeek);\n      period = 'week';\n    } else if (minutes >= minutesInDay) {\n      number = Math.floor(minutes / minutesInDay);\n      period = 'day';\n    } else if (minutes >= minutesInHour) {\n      number = Math.floor(minutes / minutesInHour);\n      period = 'hour';\n    } else {\n      number = minutes;\n      period = 'minute';\n    }\n    this.selectedNumber = number;\n    this.selectedPeriod = period;\n  }\n\n  @RegisterComponent<NylasMinCancellationNotice, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-min-cancellation-notice',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    const showTimePeriodSelector = typeof this.selectedNumber == 'number' && typeof this.selectedPeriod == 'string';\n    return (\n      <Host>\n        <div class=\"nylas-min-cancellation-notice\" part=\"nmcn\">\n          <label>\n            Minimum cancellation notice\n            <span class=\"label-icon\">\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">The minimum amount of time required to cancel a booking.</span>\n              </tooltip-component>\n            </span>\n          </label>\n          {showTimePeriodSelector && (\n            <time-period-selector\n              id=\"min-cancellation-notice\"\n              exportparts=\"tps__number-dropdown: nmcn__number-dropdown, tps__number-dropdown-button: nmcn__number-dropdown-button, tps__number-dropdown-content: nmcn__number-dropdown-content, tps__period-dropdown: nmcn__period-dropdown, tps__period-dropdown-button: nmcn__period-dropdown-button, tps__period-dropdown-content: nmcn__period-dropdown-content\"\n              timePeriods={['minute', 'hour', 'day', 'week']}\n              defaultSelectedNumber={this.selectedNumber}\n              defaultSelectedPeriod={this.selectedPeriod}\n            />\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n@import '../../../common/mixins/inputs.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-page-name {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  text-align: left;\n\n  .header {\n    padding: 1rem;\n    display: grid;\n    grid-template-columns: 1fr auto;\n\n    h3 {\n      border-radius: var(--nylas-border-radius-2x);\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      display: flex;\n      gap: 4px;\n      align-items: center;\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n\n    .drawer-toggle {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n\n      .chevron {\n        display: flex;\n        align-self: center;\n        cursor: pointer;\n\n        &:hover,\n        &:active {\n          color: var(--nylas-primary);\n        }\n\n        &.open {\n          transform: rotate(90deg);\n        }\n\n        &.closed {\n          transform: rotate(270deg);\n        }\n\n        &.disabled {\n          cursor: not-allowed;\n          color: var(--nylas-base-300);\n\n          &:hover {\n            color: var(--nylas-base-300);\n          }\n        }\n      }\n    }\n  }\n\n  .nylas-page-name__body {\n    display: grid;\n    grid-template-columns: 1fr;\n    background-color: var(--nylas-base-25);\n    border-radius: 0 0 var(--nylas-border-radius-2x) var(--nylas-border-radius-2x);\n    border-top: 1px solid var(--nylas-base-200);\n\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n\n    .nylas-page-name__section {\n      padding: 1rem;\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      color: var(--nylas-base-800);\n\n      @media #{$mobile} {\n        border: none;\n      }\n\n      .nylas-page-name__row {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n\n        label {\n          display: flex;\n          align-items: center;\n\n          span.required {\n            color: var(--nylas-error, #cc4841);\n          }\n        }\n\n        p {\n          margin: 0.25rem 0 0 0;\n          font-size: 1rem;\n          font-weight: 500;\n          line-height: 24px;\n          color: var(--nylas-base-900);\n        }\n\n        .input-container {\n          width: 100%;\n        }\n      }\n    }\n  }\n\n  .nylas-page-name__input-wrapper {\n    @include textfield;\n    width: -moz-available;\n    width: -webkit-fill-available;\n    display: flex;\n    flex-direction: row;\n    gap: 0.125rem;\n    border-radius: var(--nylas-border-radius-2x);\n    z-index: 1;\n\n    input-component::part(ic__input) {\n      outline: none;\n      border: none;\n      width: 100%;\n      font-size: 1rem;\n      height: auto;\n      padding-left: 0px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\n/**\n * The `nylas-page-name` component is a UI component that allows users to add a custom page name which will appear in the top left corner of the date picker.\n *\n * @part npn - The nylas-page-name container\n * @part npn__body - The body of the event communication section\n * @part npn__header - The header of the event communication section\n * @part npn__drawer-toggle--container - The card's drawer toggle container\n * @part npn__input-textfield - The page name input textfield\n */\n@Component({\n  tag: 'nylas-page-name',\n  styleUrl: 'nylas-page-name.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasPageName {\n  @Element() host!: HTMLNylasPageNameElement;\n\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The default page name\n   */\n  @Prop() pageName?: string;\n  /**\n   * Show toggle button that allows users to expand or collapse the card\n   */\n  @Prop() showToggle: boolean = true;\n  /**\n   * Is the page name container card expanded\n   */\n  @Prop() isOpen: boolean = true;\n  /**\n   * The name of the component\n   */\n  @Prop() name: string = 'page-name';\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The current page name state\n   */\n  @State() currentPageName!: string;\n\n  /**\n   * This event is fired when the page name value changes\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-page-name', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-page-name', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-page-name', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-page-name', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.currentPageName = this.pageName ?? '';\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-page-name', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-page-name', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-page-name', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-page-name', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-page-name', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-custom-booking-flow', 'selectedConfigurationChangedHandler', newValue);\n    this.currentPageName = newValue?.name ?? this.pageName ?? '';\n  }\n\n  @Listen('nylasFormInputChanged')\n  async nylasFormInputChangeHandler(event: CustomEvent<{ value: string; name: string }>) {\n    const { name, value } = event.detail;\n\n    if (name === 'page-name') {\n      this.currentPageName = value;\n      this.internals.setFormValue(JSON.stringify(value), this.name);\n      this.valueChanged.emit({ value: JSON.stringify(value), name: this.name });\n    }\n  }\n\n  toggleDrawer() {\n    this.isOpen = !this.isOpen;\n  }\n\n  @RegisterComponent<NylasPageName, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-page-name',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const isComponentReady = typeof this.currentPageName !== 'undefined';\n    return (\n      <Host>\n        <div class=\"nylas-page-name\" part=\"nces\">\n          <div class=\"header\" part=\"nces__header\">\n            <div>\n              <h3>Page name</h3>\n              <p>\n                Set the Scheduling Page name.\n                <tooltip-component>\n                  <info-icon slot=\"tooltip-icon\" />\n                  <span slot=\"tooltip-content\">\n                    By default, Scheduling Pages use your user name as the Page name. The Page name is displayed in the top-left corner of the calendar view.\n                  </span>\n                </tooltip-component>\n              </p>\n            </div>\n\n            {this.showToggle && (\n              <div class=\"drawer-toggle\" part=\"nces__drawer-toggle--container\">\n                <span class={`chevron ${this.isOpen ? 'open' : 'closed'} `} onClick={() => this.toggleDrawer()}>\n                  <chevron-icon width=\"24\" height=\"24\" />\n                </span>\n              </div>\n            )}\n          </div>\n\n          {this.isOpen && (\n            <div class=\"nylas-page-name__body\" part=\"nces__body\">\n              <div class=\"nylas-page-name__section\">\n                <div class=\"nylas-page-name__row\">\n                  <div class=\"input-container\">\n                    <div class=\"nylas-page-name__input-wrapper\">\n                      {isComponentReady && (\n                        <input-component\n                          name=\"page-name\"\n                          id=\"page-name\"\n                          type=\"text\"\n                          required={false}\n                          exportparts=\"ic_input: npn__input-textfield\"\n                          defaultValue={this.currentPageName ?? ''}\n                        />\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-page-styling {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  text-align: left;\n\n  &.no-border {\n    border: none;\n  }\n\n  .header {\n    padding: 1rem;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    border-bottom: 1px solid var(--nylas-base-200);\n\n    h3 {\n      border-radius: var(--nylas-border-radius-2x);\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n\n    .drawer-toggle {\n      display: flex;\n      gap: 24px;\n      align-items: center;\n\n      .chevron {\n        display: flex;\n        align-self: center;\n        cursor: pointer;\n\n        &:hover,\n        &:active {\n          color: var(--nylas-primary);\n        }\n\n        &.open {\n          transform: rotate(90deg);\n        }\n\n        &.closed {\n          transform: rotate(270deg);\n        }\n\n        &.disabled {\n          cursor: not-allowed;\n          color: var(--nylas-base-300);\n\n          &:hover {\n            color: var(--nylas-base-300);\n          }\n        }\n      }\n    }\n  }\n\n  .nylas-page-styling__body {\n    display: grid;\n    grid-template-columns: 1fr auto;\n    background-color: var(--nylas-base-25);\n    border-radius: 0 0 var(--nylas-border-radius-2x);\n\n    @media #{$mobile} {\n      grid-template-columns: 1fr;\n    }\n\n    .nylas-page-styling__section {\n      padding: 1rem;\n      display: flex;\n      flex-direction: column;\n      gap: 1rem;\n      color: var(--nylas-base-800);\n\n      &.no-padding {\n        padding: 0;\n      }\n\n      @media #{$mobile} {\n        border: none;\n      }\n\n      .nylas-page-styling__row {\n        display: grid;\n        grid-template-columns: 1fr;\n        align-items: center;\n\n        label {\n          display: flex;\n          align-items: center;\n\n          span.required {\n            color: var(--nylas-error, #cc4841);\n          }\n\n          span.label-icon {\n            margin-left: 4px;\n\n            tooltip-component {\n              display: flex;\n            }\n          }\n        }\n\n        p {\n          margin: 0.25rem 0 0 0;\n          font-size: 1rem;\n          font-weight: 500;\n          line-height: 24px;\n          color: var(--nylas-base-900);\n        }\n\n        .subsection {\n          display: flex;\n          flex-direction: column;\n          gap: 1rem;\n\n          &.hide {\n            display: none;\n          }\n\n          h3 {\n            margin: 0;\n            font-size: 1rem;\n            font-weight: 600;\n            line-height: 20px;\n            color: var(--nylas-base-900);\n            text-align: left;\n          }\n\n          .input-container,\n          > * {\n            display: flex;\n            flex-direction: column;\n            column-gap: 2rem;\n            row-gap: 0.25rem;\n            width: 100%;\n            flex: 1;\n\n            textarea {\n              padding: 12px 16px;\n              border-width: 1;\n              resize: vertical;\n              border-radius: 8px;\n              font-family: var(--nylas-font-family);\n              font-size: 16px;\n              line-height: 24px;\n              border: 1px solid var(--nylas-base-200);\n            }\n          }\n        }\n      }\n    }\n\n    span.error-message {\n      color: var(--nylas-error);\n    }\n\n    span.help-text {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug, sanitize } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Appearance, Configuration } from '@nylas/core';\n\n/**\n * The `nylas-page-styling` component is a UI component that allows users to customize the styling of the scheduling page.\n * To use this component, pass a slot `custom-page-style-inputs` to the `nylas-scheduler-editor` component with the input\n * fields you want to display. The component will automatically update the appearance object when the input fields are changed.\n * Ensure that the input fields have the `name` attribute set to the key in the appearance object.\n *\n * If you want to style the Nylas hosted scheduler page, you can use this component to customize the appearance of the page.\n * The fields that can be customized in the Nylas hosted scheduler page are:\n * - Primary color: (name: color)\n * - Company logo: (name: company_logo_url)\n * - Submit button label: (name: submit_button_label)\n * - Thank you message: (name: thank_you_message)\n *\n * @slot custom-page-style-inputs - This slot is used to pass a custom page style form to the Nylas Scheduler Editor component.\n * @part nps - The nylas-page-styling container\n * @part nps__header - The header of the page styling section\n * @part nps__drawer-toggle--container - The page styling drawer toggle container\n * @part nps__body - The body of the page styling section\n * @part nps__title-input-textfield - The page styling page title input textfield\n * @part nps__company-name-input-textfield - The page styling company name input textfield\n * @part nps__input-image-url - The page styling company logo input textfield\n * @part nps__color-picker - The page styling color picker\n * @part nps__color-picker-button - The page styling color picker button\n * @part nps__color-picker-button-label - The page styling color input field label *\n * @part nps__color-picker-button-selected-label - The page styling color picker label denoting which color is selected\n * @part nps__submit-button-label-input-textfield - The page styling submut button label input textfield\n * @part nps__message-textarea - The page styling thank you message textarea\n */\n@Component({\n  tag: 'nylas-page-styling',\n  styleUrl: 'nylas-page-styling.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasPageStyling {\n  @Element() host!: HTMLNylasPageStylingElement;\n  /**\n   * The selected configuration.\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The appearance data to display\n   */\n  @Prop() appearance?: Appearance;\n  /**\n   * Is the page styling card open\n   */\n  @Prop() isOpen: boolean = true;\n  /**\n   * The name of the component\n   */\n  @Prop() name: string = 'page-styling';\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The confirmation email template state.\n   */\n  @State() currentAppearance!: Appearance;\n  /**\n   * The confirmation email template state.\n   */\n  @State() customInputsSlot: Element | null = null;\n\n  /**\n   * This event is fired when the email reminders change.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  /**\n   * This event is fired when the form is submitted in the parent component.\n   */\n  @Event() bookingFormSubmitted!: EventEmitter<void>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-page-styling', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-page-styling', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-page-styling', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-page-styling', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    }\n  }\n\n  componentWillUpdate() {\n    debug('nylas-page-styling', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-page-styling', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-page-styling', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-page-styling', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-page-styling', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  customInputsSlotChangedHandler(newValue: Element | null) {\n    debug('nylas-page-styling', 'customInputsSlotChangedHandler', newValue);\n\n    const appearance = this.currentAppearance;\n\n    function updateInputDefaultValues(element: HTMLElement) {\n      // Process elements with a 'name' attribute\n      if (element.hasAttribute && element.hasAttribute('name')) {\n        const key = element.getAttribute('name');\n        if (appearance && key && key in appearance && appearance[key] !== undefined) {\n          // Update attributes based on component type\n          const componentType = element.getAttribute('component-type');\n\n          element.setAttribute('data-page-styling', 'true');\n\n          if (componentType === 'checkbox') {\n            element.setAttribute('checked', appearance[key]);\n          } else if (componentType === 'radio-group') {\n            element.setAttribute('default-selected-value', appearance[key]);\n          } else if (componentType === 'color-picker') {\n            element.setAttribute('default-selected-color', appearance[key]);\n          } else if (componentType === 'select-dropdown') {\n            const options = element.getAttribute('options');\n            const selectedOption = options ? JSON.parse(options).find((option: { value: string }) => option.value === appearance[key]) : null;\n            element.setAttribute('default-selected-option', JSON.stringify(selectedOption));\n          } else if (componentType === 'image-url') {\n            element.setAttribute('image-url', appearance[key]);\n          } else {\n            // Default case: set the default value\n            element.setAttribute('default-value', appearance[key]);\n          }\n        }\n      }\n\n      // Recursively process child elements (skip text nodes)\n      element.childNodes.forEach(child => {\n        if (child.nodeType === Node.ELEMENT_NODE) {\n          updateInputDefaultValues(child as HTMLElement); // Cast child to HTMLElement\n        }\n      });\n    }\n\n    // Start the recursive process with the cloned element (newValue)\n    if (newValue) {\n      updateInputDefaultValues(newValue as HTMLElement);\n    }\n  }\n\n  cloneAndCopyProps(element: HTMLElement): HTMLElement {\n    // Clone the current element\n    const clonedElement = element.cloneNode(false) as HTMLElement; // Do a shallow clone first\n    const componentType = element.getAttribute('component-type');\n    const key = element.getAttribute('name');\n\n    // Copy properties like 'options' and 'value' for custom elements\n    if ((element as any).options) {\n      const options = (element as any).getAttribute('options');\n      console.log('page-styling options', element, options);\n      if (typeof options === 'string') {\n        try {\n          const parsedOptions = JSON.parse(options);\n          (clonedElement as any).options = parsedOptions; // Parse the 'options' string\n          if (componentType === 'select-dropdown' && key && key in this.currentAppearance) {\n            const selectedOption = parsedOptions.find((option: { value: string }) => option.value === this.currentAppearance[key]);\n            (clonedElement as any).setAttribute('default-selected-option', JSON.stringify(selectedOption));\n          }\n        } catch (e) {\n          console.error('Error parsing options', e);\n        }\n      } else {\n        (clonedElement as any).options = (element as any).options; // Copy 'options' property\n      }\n    }\n\n    if ((element as any).value) {\n      (clonedElement as any).value = (element as any).value; // Copy 'value' property\n    }\n\n    // Recursively process child elements\n    element.childNodes.forEach(child => {\n      if (child.nodeType === Node.ELEMENT_NODE) {\n        // If the child is an element, recursively clone and process it\n        const clonedChild = this.cloneAndCopyProps(child as HTMLElement);\n        clonedElement.appendChild(clonedChild); // Append the cloned child to the parent clone\n      } else if (child.nodeType === Node.TEXT_NODE) {\n        // For text nodes, just clone and append the text content\n        clonedElement.appendChild(child.cloneNode(true));\n      }\n    });\n\n    return clonedElement; // Return the cloned element with its children\n  }\n\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-page-styling', 'selectedConfigurationChangedHandler', newValue);\n    this.currentAppearance = newValue?.appearance || {};\n    // Get the slot element\n    const editor = document.querySelector('nylas-scheduler-editor');\n    const slotElement = editor?.shadowRoot?.querySelector('slot[name=\"custom-page-style-inputs\"]') as HTMLSlotElement;\n    if (!slotElement) {\n      return;\n    }\n\n    const divElement = document.createElement('div');\n\n    // Get the slotted content (the nodes passed into the slot)\n    const slottedElements = slotElement?.assignedElements({ flatten: true });\n    // Clone each of the slotted nodes and append them to the cloned slot\n    slottedElements?.forEach(element => {\n      const clonedElement = this.cloneAndCopyProps(element as HTMLElement); // Clone recursively and copy properties\n\n      // Clone the slotted element (deep clone)\n      this.customInputsSlotChangedHandler(clonedElement);\n      // Append the cloned element to the document fragment\n      divElement.appendChild(clonedElement);\n    });\n\n    // Replace the original content with the new cloned and updated content\n    const bodyElement = this.host.shadowRoot?.querySelector('.nylas-page-styling');\n    const slotContainer = bodyElement?.querySelector('.nylas-page-styling__body .subsection');\n\n    if (slotContainer) {\n      // Remove existing children (if necessary) and append the new content\n      slotContainer.innerHTML = ''; // Clear existing content\n      divElement.childNodes.forEach(child => {\n        slotContainer.appendChild(child); // Append each child of divElement\n      });\n      this.customInputsSlot = divElement;\n    }\n  }\n\n  checkIfElementIsInSlot(name: string): boolean {\n    const findElement = document?.querySelector(`[slot=\"custom-page-style-inputs\"] [name=\"${name}\"]`);\n    return findElement ? true : false;\n  }\n\n  @Listen('nylasFormInputChanged', { target: 'document' })\n  async nylasFormInputChangeHandler(event: CustomEvent<{ value: string; name: string; type?: string }>) {\n    const { name, value } = event.detail;\n    const type = event.detail?.type;\n\n    if (!this.checkIfElementIsInSlot(name)) {\n      return;\n    }\n    switch (name) {\n      case 'submit_button_label':\n        this.currentAppearance = { ...this.currentAppearance, submit_button_label: value };\n        break;\n      case 'thank_you_message':\n        if (type === 'multi_line_text') {\n          const value = sanitize(event.detail.value);\n          this.currentAppearance = { ...this.currentAppearance, thank_you_message: value };\n        }\n        break;\n      default:\n        this.currentAppearance = { ...this.currentAppearance, [name]: value };\n        break;\n    }\n    this.updateConfirmationFormValue();\n  }\n\n  @Listen('nylasFormDropdownChanged', { target: 'document' })\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-page-styling', 'nylasFormDropdownChangedHandler', event.detail);\n    const { value, name } = event.detail;\n\n    if (!this.checkIfElementIsInSlot(name)) {\n      return;\n    }\n    if (name === 'color') {\n      this.currentAppearance = { ...this.currentAppearance, color: value };\n    } else {\n      this.currentAppearance = { ...this.currentAppearance, [name]: value };\n    }\n    this.updateConfirmationFormValue();\n  }\n\n  @Listen('valueChanged', { target: 'document' })\n  valueChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-page-styling', 'valueChangedHandler', event.detail);\n    const { value, name } = event.detail;\n\n    if (!this.checkIfElementIsInSlot(name)) {\n      return;\n    }\n    if (name === 'company_logo_url') {\n      this.currentAppearance = { ...this.currentAppearance, company_logo_url: value };\n    } else {\n      this.currentAppearance = { ...this.currentAppearance, [name]: value };\n    }\n    this.updateConfirmationFormValue();\n  }\n\n  @Listen('nylasFormCheckboxToggled', { target: 'document' })\n  checkboxToggledHandler(event: CustomEvent<{ checked: boolean; name: string; label: string }>) {\n    const { checked, name } = event.detail;\n    if (!this.checkIfElementIsInSlot(name)) {\n      return;\n    }\n    this.currentAppearance = { ...this.currentAppearance, [name]: checked };\n    this.updateConfirmationFormValue();\n  }\n\n  @Listen('nylasFormRadioChanged', { target: 'document' })\n  radioChangedHandler(event: CustomEvent<{ value: string; name: string; label: string; type: string }>) {\n    const { value, name } = event.detail;\n    if (!this.checkIfElementIsInSlot(name)) {\n      return;\n    }\n    this.currentAppearance = { ...this.currentAppearance, [name]: value };\n    this.updateConfirmationFormValue();\n  }\n\n  updateConfirmationFormValue() {\n    debug('nylas-page-styling', 'updateConfirmationFormValue');\n    this.internals.setFormValue(JSON.stringify(this.currentAppearance), this.name);\n    this.valueChanged.emit({ value: JSON.stringify(this.currentAppearance), name: this.name });\n  }\n\n  toggleConfirmationEmail() {\n    this.isOpen = !this.isOpen;\n  }\n\n  @RegisterComponent<NylasPageStyling, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-page-styling',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div part=\"nps\" class={{ 'nylas-page-styling': true, 'no-border': !this.customInputsSlot }}>\n          {this.customInputsSlot ? (\n            <div class=\"header\" part=\"nps__header\">\n              <div>\n                <h3>Page styling and customization</h3>\n              </div>\n              <div class=\"drawer-toggle\" part=\"nps__drawer-toggle--container\">\n                <span class={`chevron ${this.isOpen ? 'open' : 'closed'} `} onClick={() => this.toggleConfirmationEmail()}>\n                  <chevron-icon width=\"24\" height=\"24\" />\n                </span>\n              </div>\n            </div>\n          ) : null}\n\n          <div id=\"nylas-page-styling__body\" class=\"nylas-page-styling__body\" part=\"nps__body\">\n            <div class={{ 'nylas-page-styling__section': true, 'no-padding': !this.customInputsSlot }}>\n              <div class=\"nylas-page-styling__row\">\n                <div class={{ subsection: true, hide: !this.isOpen }}></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-participant-booking-calendars {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n\n  .header {\n    padding: 1rem;\n\n    h3 {\n      margin: 0;\n      font-size: 16px;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n  }\n\n  .content {\n    .participant-container {\n      padding-top: 12px;\n      border-top: 1px solid var(--nylas-base-200);\n\n      .participant-title {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 4px 16px 16px;\n\n        p {\n          margin: 0;\n        }\n\n        .participant-toggle {\n          display: flex;\n          gap: 24px;\n          align-items: center;\n\n          .chevron {\n            display: flex;\n            align-self: center;\n            cursor: pointer;\n\n            &:hover,\n            &:active {\n              color: var(--nylas-primary);\n            }\n\n            &.open {\n              transform: rotate(90deg);\n            }\n\n            &.closed {\n              transform: rotate(270deg);\n            }\n\n            &.disabled {\n              cursor: not-allowed;\n              color: var(--nylas-base-300);\n\n              &:hover {\n                color: var(--nylas-base-300);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n\nnylas-booking-calendar-picker::part(nbcp) {\n  margin: 0;\n  border: none;\n  border-top: 1px solid var(--nylas-base-200);\n  border-top-right-radius: 0;\n  border-top-left-radius: 0;\n}","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { AdditionalParticipant, Calendar, Configuration, Participant } from '@nylas/core';\n\n/**\n * The `nylas-participant-booking-calendars` component is a form input for selecting calendars to check availability for participants.\n */\n@Component({\n  tag: 'nylas-participant-booking-calendars',\n  styleUrl: 'nylas-participant-booking-calendars.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasParticipantBookingCalendars {\n  @Element() host!: HTMLNylasParticipantBookingCalendarsElement;\n  private bookingCalendarsFormRef!: HTMLFormElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The name of the participants custom availability.\n   */\n  @Prop() name: string = 'participant-booking-calendars';\n\n  /**\n   * The participants selected in the add participants section.\n   */\n  @Prop() participants: Participant[] = this.selectedConfiguration?.participants || [];\n\n  /**\n   * The calendars to choose from for the organizer / logged in user.\n   */\n  @Prop() calendars?: Calendar[];\n\n  /**\n   * The participant options passed in the additionalParticipants prop\n   * from the nylas-scheduler-editor component.\n   */\n  @Prop() participantOptions?: AdditionalParticipant[];\n\n  /**\n   * This event is fired when the participants custom availability changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The state to store the custom availability setting for participants.\n   */\n  @State() selectedCalendars: {\n    [key: string]: {\n      isOpen: boolean;\n      name: string;\n      calendar?: Calendar;\n    };\n  } = this.setParticipants(this.participants);\n\n  /**\n   * Participants calendar options.\n   */\n  @State() participantCalendars: {\n    [key: string]: Calendar[];\n  } = {};\n\n  /**\n   * The state to store the default selected calendars for each participant\n   */\n  @State() participantDefaultSelectedCalendar: {\n    [key: string]: string;\n  } = {};\n\n  // Watchers\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-participant-booking-calendars', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('calendars')\n  calendarsChangedHandler(newValue: Calendar[]) {\n    debug('nylas-participant-booking-calendars', 'calendarsChangedHandler', newValue);\n    this.participantCalendars = this.getParticipantCalendarOptions(this.participants, this.participantOptions);\n  }\n\n  @Watch('participants')\n  participantsChangedHandler(newValue: Participant[]) {\n    debug('nylas-participant-booking-calendars', 'participantsChangedHandler', newValue);\n    this.selectedCalendars = this.setParticipants(newValue);\n    this.participantCalendars = this.getParticipantCalendarOptions(newValue, this.participantOptions);\n  }\n\n  @Watch('participantOptions')\n  participantOptionsChangedHandler(newValue: AdditionalParticipant[]) {\n    debug('nylas-calendar-picker', 'participantOptionsChangedHandler', newValue);\n    this.participantCalendars = this.getParticipantCalendarOptions(this.participants, newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-participant-booking-calendars', 'selectedConfigurationChangedHandler', newValue);\n    const participants = newValue?.participants || this.participants;\n    if (participants && participants.length > 0) {\n      this.selectedCalendars = this.setParticipants(participants);\n      this.participantCalendars = this.getParticipantCalendarOptions(participants, this.participantOptions);\n    }\n  }\n\n  getParticipantCalendarOptions(addedParticipants: Participant[], availableParticipantOptions: AdditionalParticipant[] | undefined) {\n    // Get the participants from the availableParticipantOptions prop that are in the addedParticipants prop\n    const organizer = addedParticipants?.find(participant => participant.is_organizer);\n    const participantCalendars = {};\n    const showAdditionalParticipantBookingCalendars = this.selectedConfiguration?.availability?.availability_rules?.availability_method !== 'collective';\n    if (availableParticipantOptions && showAdditionalParticipantBookingCalendars) {\n      const participants = addedParticipants?.filter(participant => availableParticipantOptions.some(availableParticipant => availableParticipant.email === participant.email));\n      const remainingParticipants = addedParticipants?.filter(\n        participant => !availableParticipantOptions.some(availableParticipant => availableParticipant.email === participant.email),\n      );\n\n      // Get the calendar options for each participant with email as the key\n      participants?.forEach(participant => {\n        const participantOption = availableParticipantOptions?.find(participantOption => participantOption.email === participant.email);\n        if (!participantOption) return;\n        this.participantDefaultSelectedCalendar[participant.email] = participant.booking?.calendar_id ?? 'primary';\n        const calendars = participantOption.calendars ?? [];\n        participantCalendars[participant.email] = calendars;\n      });\n      // If it is round robin config, add the remaining participant calendars to the participantCalendars\n      // (Round-robin does not have an organizer, and we filtered out the participants not passed in the participantOptions prop,\n      // so we need to add the remaining participants calendars to the participantCalendars)\n      remainingParticipants?.forEach(participant => {\n        if (participant?.booking?.calendar_id) {\n          participantCalendars[participant.email] = this.calendars ?? [{ id: 'primary', name: participant.email }];\n          this.participantDefaultSelectedCalendar[participant.email] = participant?.booking?.calendar_id ?? 'primary';\n        }\n      });\n    }\n    // Add the organizer's calendars to the participantCalendars\n    if (organizer) {\n      participantCalendars[organizer.email] = this.calendars ?? [{ id: 'primary', name: organizer.email }];\n      this.participantDefaultSelectedCalendar[organizer.email] = organizer?.booking?.calendar_id ?? 'primary';\n    }\n    return participantCalendars;\n  }\n\n  // Lifecycle Methods\n  connectedCallback() {\n    debug('nylas-participant-booking-calendars', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-participant-booking-calendars', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-participant-booking-calendars', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-participant-booking-calendars', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedCalendars = this.setParticipants(this.selectedConfiguration?.participants);\n      this.participantCalendars = this.getParticipantCalendarOptions(this.selectedConfiguration?.participants, this.participantOptions);\n    }\n  }\n\n  @Listen('valueChanged')\n  handleValueChanged(event: CustomEvent) {\n    debug('[nylas-editor-tabs]', 'handleValueChanged', event);\n    const { name, value } = event.detail;\n    if (!name.startsWith('participant-booking-')) {\n      return;\n    }\n    // Validate the form\n    if (!this.bookingCalendarsFormRef.checkValidity()) {\n      this.internals.setValidity({ customError: true }, 'Please select at least one calendar for each participant.');\n      return;\n    } else {\n      this.internals.setValidity({});\n    }\n\n    const key = name.split('participant-booking-')[1];\n    if (!this.selectedCalendars[key]) return;\n    this.selectedCalendars[key]['calendar'] = value;\n    this.selectedCalendars = { ...this.selectedCalendars };\n\n    const participantsCalendars = {};\n    Object.keys(this.selectedCalendars).forEach(key => {\n      participantsCalendars[key] = this.selectedCalendars[key]?.calendar;\n    });\n    this.internals.setFormValue(JSON.stringify(participantsCalendars), this.name);\n    this.valueChanged.emit({ value: JSON.stringify(participantsCalendars), name: this.name });\n  }\n\n  setParticipants(participants: Participant[]) {\n    const selectedParticipants = {};\n    participants?.forEach(participant => {\n      if (participant?.booking?.calendar_id) {\n        const isOpen = participant.is_organizer ? true : false;\n        selectedParticipants[participant.email] = {\n          isOpen: isOpen,\n          calendar: participant.booking?.calendar_id || 'primary',\n          name: participant.name || participant.email,\n        };\n      }\n    });\n    return selectedParticipants;\n  }\n  @RegisterComponent<NylasParticipantBookingCalendars, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-participant-booking-calendars',\n    stateToProps: new Map([\n      ['schedulerConfig.additionalParticipants', 'participantOptions'],\n      ['schedulerConfig.calendars', 'calendars'],\n      ['schedulerConfig.selectedConfiguration', 'selectedConfiguration'],\n    ]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-participant-booking-calendars\" part=\"npbc\">\n          <div class=\"header\" part=\"npbc__header\">\n            <h3>Book to this calendar</h3>\n            <p>Select the calendar where you want to add event bookings.</p>\n          </div>\n          <div class=\"content\" part=\"npbc__content\">\n            <form ref={el => (this.bookingCalendarsFormRef = el as HTMLFormElement)}>\n              {this.participantCalendars &&\n                Object.keys(this.participantCalendars).map((key, index) => {\n                  const participant = this.selectedCalendars[key];\n                  const participantCalendars = this.participantCalendars[key];\n                  if (!participant || !participant.name) return;\n                  return (\n                    <div class=\"participant-container\" part=\"npbc__participant-container\" key={`participant-conatiner-${index}`}>\n                      <div class=\"participant-title\" part=\"npbc__participant-title\">\n                        <p>{participant.name}'s booking calendar</p>\n                        <div class=\"participant-toggle\" part=\"npbc__participant-toggle--container\">\n                          <span\n                            class={`chevron ${participant.isOpen ? 'open' : 'closed'}`}\n                            onClick={() => {\n                              this.selectedCalendars[key].isOpen = !participant.isOpen;\n                              this.selectedCalendars = { ...this.selectedCalendars };\n                            }}\n                          >\n                            <chevron-icon width=\"24\" height=\"24\" />\n                          </span>\n                        </div>\n                      </div>\n                      {participant.isOpen && (\n                        <nylas-booking-calendar-picker\n                          key={key}\n                          name={`participant-booking-${key}`}\n                          calendars={participantCalendars}\n                          hideHeader={true}\n                          defaultBookingCalendar={this.participantDefaultSelectedCalendar[key]}\n                        />\n                      )}\n                    </div>\n                  );\n                })}\n            </form>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-participants-custom-availability {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .header {\n    padding: 1rem;\n    h3 {\n      margin: 0;\n      font-size: 16px;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n  .content {\n    .participant-container {\n      padding-top: 8px;\n      border-top: 1px solid var(--nylas-base-200);\n      .participant-title {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        padding: 4px 16px 12px;\n        p {\n          margin: 0;\n        }\n        .participant-toggle {\n          display: flex;\n          gap: 24px;\n          align-items: center;\n          .chevron {\n            display: flex;\n            align-self: center;\n            cursor: pointer;\n\n            &:hover,\n            &:active {\n              color: var(--nylas-primary);\n            }\n\n            &.open {\n              transform: rotate(90deg);\n            }\n\n            &.closed {\n              transform: rotate(270deg);\n            }\n\n            &.disabled {\n              cursor: not-allowed;\n              color: var(--nylas-base-300);\n              &:hover {\n                color: var(--nylas-base-300);\n              }\n            }\n          }\n        }\n      }\n      nylas-availability-picker::part(nap) {\n        margin: 0;\n        border: none;\n      }\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Availability, Configuration, OpenHours, Participant } from '@nylas/core';\nimport { DEFAULT_OPEN_HOURS } from '@/common/constants';\n\n/**\n * The `nylas-participants-custom-availability` component is a form input for setting custom availability for participants.\n *\n * @part npca - The participants custom availability container\n * @part npca__header - The header of the participants custom availability\n * @part npca__content - The content of the participants custom availability\n * @part npca__participant-container - The participant container\n * @part npca__participant-title - The title of the participant\n * @part npca__participant-toggle--container - The toggle container for the participant\n * @part npca__toggle-label - The label of the toggle\n * @part npca_toggle-input - The input of the toggle\n * @part npca_toggle-slider - The slider of the toggle\n */\n@Component({\n  tag: 'nylas-participants-custom-availability',\n  styleUrl: 'nylas-participants-custom-availability.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasParticipantsCustomAvailability {\n  @Element() host!: HTMLNylasParticipantsCustomAvailabilityElement;\n  private participantFormRef!: HTMLFormElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n\n  /**\n   * The name of the participants custom availability.\n   */\n  @Prop() name: string = 'participant-custom-availability';\n\n  /**\n   * The participants selected in the add participants section.\n   */\n  @Prop() participants: Participant[] = this.selectedConfiguration?.participants || [];\n\n  /**\n   * This event is fired when the participants custom availability changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The state to store the custom availability setting for participants.\n   */\n  @State() selectedParticipants: {\n    [key: string]: {\n      setCustom: boolean;\n      isOpen: boolean;\n      openHours: OpenHours[];\n      name: string;\n      availability?: Availability;\n    };\n  } = this.setParticipants(this.participants);\n\n  // Watchers\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-participants-custom-availability', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('participants')\n  participantsChangedHandler(newValue: Participant[], oldValue: Participant[]) {\n    debug('nylas-participants-custom-availability', 'participantsChangedHandler', newValue, oldValue);\n    this.selectedParticipants = this.setParticipants(newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration, oldValue: Configuration) {\n    debug('nylas-participants-custom-availability', 'selectedConfigurationChangedHandler', newValue, oldValue);\n    if (newValue?.participants) {\n      this.selectedParticipants = this.setParticipants(newValue?.participants);\n    }\n  }\n\n  // Lifecycle Methods\n  connectedCallback() {\n    debug('nylas-participants-custom-availability', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-participants-custom-availability', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-participants-custom-availability', 'componentWillLoad');\n  }\n\n  componentDidLoad() {\n    debug('nylas-participants-custom-availability', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedParticipants = this.setParticipants(this.selectedConfiguration?.participants);\n    } else {\n      this.selectedParticipants = this.setParticipants(this.participants);\n    }\n  }\n\n  // Event Handlers\n  @Listen('nylasFormSwitchToggled')\n  nylasFormSwitchToggledHandler(event: CustomEvent<{ checked: boolean; name: string; label: boolean }>) {\n    debug('nylas-participants-custom-availability', 'nylasFormSwitchToggledHandler', event.detail);\n    const openHours = this.selectedConfiguration?.participants.find(participant => participant.email === event.detail.name)?.availability?.open_hours || [];\n    this.selectedParticipants[event.detail.name]['isOpen'] = event.detail.checked;\n    this.selectedParticipants[event.detail.name]['setCustom'] = event.detail.checked;\n    this.selectedParticipants[event.detail.name]['openHours'] = event.detail.checked ? (openHours?.length > 0 ? openHours : DEFAULT_OPEN_HOURS) : [];\n    this.selectedParticipants = { ...this.selectedParticipants };\n    this.updateFormValue();\n  }\n\n  @Listen('valueChanged')\n  handleValueChanged(event: CustomEvent) {\n    debug('[nylas-editor-tabs]', 'handleValueChanged', event);\n    const { name, value } = event.detail;\n    if (!name.startsWith('participant-')) {\n      return;\n    }\n    // Validate the form\n    if (!this.participantFormRef.checkValidity()) {\n      this.internals.setValidity({ customError: true }, 'Please fix the overlapping time ranges.');\n      return;\n    } else {\n      this.internals.setValidity({});\n    }\n\n    const jsonValue = JSON.parse(value);\n\n    const key = name.split('-')[2];\n    if (!this.selectedParticipants[key]) return;\n    this.selectedParticipants[key]['openHours'] = jsonValue.openHours;\n    this.selectedParticipants = { ...this.selectedParticipants };\n\n    this.updateFormValue();\n  }\n\n  updateFormValue() {\n    const participantOpenHours = {};\n    const participants = this.selectedConfiguration?.participants || this.participants;\n    participants.forEach(participant => {\n      participantOpenHours[participant.email] = this.selectedParticipants[participant.email].openHours;\n    });\n    this.internals.setFormValue(JSON.stringify(participantOpenHours), this.name);\n    this.valueChanged.emit({ value: JSON.stringify(participantOpenHours), name: this.name });\n  }\n\n  setParticipants(participants: Participant[]) {\n    const selectedParticipants = {};\n    participants?.forEach(participant => {\n      selectedParticipants[participant.email] = {\n        isOpen: false,\n        setCustom: !!participant.availability?.open_hours ? true : false,\n        openHours: participant.availability?.open_hours || [],\n        name: participant.name || participant.email,\n        availability: participant.availability,\n      };\n    });\n    return selectedParticipants;\n  }\n  @RegisterComponent<NylasParticipantsCustomAvailability, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-participants-custom-availability',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    eventToProps: {},\n    fireRegisterEvent: true,\n  })\n  render() {\n    return (\n      <Host>\n        <div class=\"nylas-participants-custom-availability\" part=\"npca\">\n          <div class=\"header\" part=\"npca__header\">\n            <h3>Participant open hours</h3>\n            <p>If not set, Nylas uses the default open hours for this participant.</p>\n          </div>\n          <div class=\"content\" part=\"npca__content\">\n            <form ref={el => (this.participantFormRef = el as HTMLFormElement)}>\n              {Object.keys(this.selectedParticipants).map((key, index) => {\n                const participant = this.selectedParticipants[key];\n                if (!participant || !participant.name || !participant.availability) return;\n                return (\n                  <div class=\"participant-container\" part=\"npca__participant-container\" key={`participant-conatiner-${index}`}>\n                    <div class=\"participant-title\" part=\"npca__participant-title\">\n                      <p>{participant.name}'s open hours</p>\n                      <div class=\"participant-toggle\" part=\"npca__participant-toggle--container\">\n                        <toggle-switch\n                          exportparts=\"ts_label: npca__toggle-label, ts_input: npca_toggle-input, ts_slider: npca_toggle-slider\"\n                          name={key}\n                          checked={!!participant?.openHours && participant?.openHours.length > 0}\n                        />\n                        <span\n                          class={`chevron ${participant.isOpen ? 'open' : 'closed'} ${participant.setCustom ? '' : 'disabled'}`}\n                          onClick={() => {\n                            if (!participant.setCustom) return;\n                            this.selectedParticipants[key].isOpen = !participant.isOpen;\n                            this.selectedParticipants = { ...this.selectedParticipants };\n                          }}\n                        >\n                          <chevron-icon width=\"24\" height=\"24\" />\n                        </span>\n                      </div>\n                    </div>\n                    {participant.isOpen && (\n                      <nylas-availability-picker\n                        key={index}\n                        name={`participant-${index}-${key}`}\n                        openHours={participant.openHours}\n                        defaultTimezone={participant.openHours?.[0]?.timezone}\n                        hideHeader={true}\n                      />\n                    )}\n                  </div>\n                );\n              })}\n            </form>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-scheduling-method {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n  }\n\n  .nylas-scheduling-method__dropdown {\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n\n    span.nylas-scheduling-method__dropdown-label {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      color: var(--nylas-base-800);\n      margin: 0.25rem 0 0 0;\n      font-size: 14px;\n      font-weight: 400;\n      line-height: 20px;\n      text-align: left;\n\n      tooltip-component {\n        display: flex;\n      }\n    }\n\n    select-dropdown::part(sd_dropdown) {\n      width: 100%;\n    }\n\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n\n    select-dropdown::part(sd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n    }\n\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n\n    input-component::part(ic__input) {\n      background: var(--nylas-base-50);\n      outline: none;\n      cursor: not-allowed;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AdditionalParticipant, Configuration } from '@nylas/core';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\n\n/**\n * The `nylas-scheduling-method` component is a UI component that displays the booking calendar picker.\n * @part nsm - The booking calendar picker container\n * @part nsm__header - The header of the booking calendar picker\n * @part nsm__input-label - The input label of the booking calendar picker\n * @part nsm__dropdown - The dropdown container\n * @part nsm__dropdown-button - The dropdown button\n * @part nsm__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-scheduling-method',\n  styleUrl: 'nylas-scheduling-method.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasSchedulingMethod {\n  @Element() host!: HTMLNylasSchedulingMethodElement;\n\n  /**\n   * The name of the booking type picker.\n   */\n  @Prop() name: string = 'availability-method';\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The participant options passed in the additionalParticipants prop\n   * from the nylas-scheduler-editor component.\n   */\n  @Prop() participantOptions?: AdditionalParticipant[];\n  /**\n   * This prop is used to display the component in a disabled state / read-only mode.\n   */\n  @Prop() readOnly: boolean = false;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The selected booking type.\n   */\n  @State() selectedBookingType: string = '';\n\n  /**\n   * This event is fired when the selected booking calendar changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n    valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void;\n  }>;\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-scheduling-method', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-scheduling-method', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-scheduling-method', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-scheduling-method', 'componentDidLoad');\n    const bookingtType = this.selectedConfiguration?.availability?.availability_rules?.availability_method?.toString();\n\n    // TODO: Remove this when the internals in tests are fixed.\n    if (bookingtType && typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(bookingtType, 'booking-calendar');\n    }\n    this.selectedBookingType = bookingtType || 'collective';\n    this.valueChanged.emit({ value: this.selectedBookingType, name: this.name });\n  }\n\n  componentWillUpdate() {\n    debug('nylas-scheduling-method', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-scheduling-method', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-scheduling-method', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-scheduling-method', 'componentDidRender');\n  }\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-scheduling-method', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-scheduling-method', 'nylasFormDropdownChangedHandler', event.detail);\n    // Pass as handler so that if event.defaultPrevented by parent app, this will be skipped.\n    const valueChanged = (event: CustomEvent<{ value: string; name: string }>) => {\n      const { value } = event.detail;\n      if (value) {\n        this.selectedBookingType = value;\n        this.internals.setFormValue(value, this.name);\n      }\n    };\n    this.valueChanged.emit({ value: event.detail.value, name: this.name, valueChanged });\n  }\n\n  @RegisterComponent<NylasSchedulingMethod, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-scheduling-method',\n    stateToProps: new Map([\n      ['schedulerConfig.selectedConfiguration', 'selectedConfiguration'],\n      ['schedulerConfig.additionalParticipants', 'participantOptions'],\n    ]),\n    eventToProps: {\n      valueChanged: async (\n        event: CustomEvent<{ value: string; name: string; valueChanged?: (event: CustomEvent<{ value: string; name: string }>) => void }>,\n        _nylasSchedulerConfigConnector: NylasSchedulerConfigConnector,\n      ) => {\n        const { valueChanged } = event.detail;\n        // If a handler is passed, call it.\n        if (valueChanged) {\n          valueChanged(event);\n        }\n      },\n    },\n    fireRegisterEvent: true,\n  })\n  render() {\n    const bookingTypeOptions = [\n      { label: 'Standard booking', value: 'collective' },\n      { label: 'Round-robin max fairness', value: 'max-fairness' },\n      { label: 'Round-robin max availability', value: 'max-availability' },\n    ];\n    const defaultBookingType = this.selectedConfiguration?.availability?.availability_rules?.availability_method?.toString();\n    const hasAdditionalParticipants =\n      this.participantOptions &&\n      this.participantOptions?.length > 0 &&\n      !!this.participantOptions[0].email &&\n      !!this.participantOptions[0].name &&\n      !!this.participantOptions[0].calendars &&\n      this.participantOptions[0].calendars.length > 0;\n\n    // If a default availability method is set in the configuration (developer settings), do not show the booking type picker.\n    // Or, if a default availability method is not set and there are no additional participants, do not show the booking type picker.\n    if ((defaultBookingType || !hasAdditionalParticipants) && !this.readOnly) {\n      return null;\n    }\n\n    return (\n      <Host>\n        <div class=\"nylas-scheduling-method\" part=\"nsm\">\n          <div class=\"header\" part=\"nsm__header\">\n            <h3>Scheduling method</h3>\n          </div>\n          <div class=\"nylas-scheduling-method__dropdown\">\n            <span class=\"nylas-scheduling-method__dropdown-label\">\n              Select a scheduling method for the event.\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">\n                  <strong>Standard Booking</strong>\n                  <br />\n                  - Allows 1:1 bookings, or n:1 bookings with additional participants.\n                  <br />\n                  <br />\n                  <strong>Round-Robin Maximize Fairness</strong>\n                  <br />\n                  - Rotates through the list of participants you select, displaying the participant with the fewest recent bookings.\n                  <br />\n                  <br />\n                  <strong>Round-Robin Maximize Availability</strong>\n                  <br />\n                  - Rotates through the list of participants you select, prioritizing participants with the fewest recent bookings, but making as many time-slots available as\n                  possible.\n                  <br />\n                </span>\n              </tooltip-component>\n            </span>\n            {this.readOnly ? (\n              <input-component\n                name=\"availability-method-read-only\"\n                type=\"text\"\n                exportparts=\"ic__label: nsm__input-label, ic__input: nsm__input, ic__input_wrapper: nsm__input_wrapper\"\n                readOnly\n                defaultValue={bookingTypeOptions.find(cal => cal.value == defaultBookingType)?.label ?? bookingTypeOptions[0].label}\n              />\n            ) : (\n              <select-dropdown\n                name={this.name}\n                options={bookingTypeOptions}\n                withSearch={false}\n                exportparts=\"sd_dropdown: nsm__dropdown, sd_dropdown-button: nsm__dropdown-button, sd_dropdown-content: nsm__dropdown-content\"\n                defaultSelectedOption={bookingTypeOptions.find(cal => cal.value == defaultBookingType) ?? bookingTypeOptions[0]}\n              />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n:host {\n  display: block;\n  @include default-css-variables;\n  width: inherit;\n}\n\n.nylas-timeslot-interval {\n  width: inherit;\n  display: flex;\n  flex-direction: column;\n  margin: 1rem;\n  border-radius: var(--nylas-border-radius-2x);\n  border: 1px solid var(--nylas-base-200);\n  .header {\n    padding: 1rem;\n    border-bottom: 1px solid var(--nylas-base-200);\n    h3 {\n      margin: 0;\n      font-size: 1rem;\n      font-weight: 600;\n      line-height: 20px;\n      color: var(--nylas-base-900);\n      text-align: left;\n    }\n    p {\n      margin: 0.25rem 0 0 0;\n      font-size: 0.875rem;\n      font-weight: 400;\n      line-height: 20px;\n      color: var(--nylas-base-600);\n      text-align: left;\n    }\n  }\n  .nylas-timeslot-interval__dropdown {\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n    span.label {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      color: var(--nylas-base-800);\n      tooltip-component {\n        display: flex;\n      }\n    }\n    select-dropdown {\n      margin-bottom: 1.5rem;\n    }\n    select-dropdown::part(sd_dropdown) {\n      width: 100%;\n    }\n    select-dropdown::part(sd_dropdown-content) {\n      width: 100%;\n      max-width: unset;\n    }\n    select-dropdown::part(sd_dropdown-button) {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border: 1px solid var(--nylas-base-200);\n      border-radius: var(--nylas-border-radius-2x);\n      padding: 1rem;\n    }\n    select-dropdown::part(sd_dropdown-button-selected-label) {\n      max-width: calc(100% - 2rem);\n      font-family: var(--nylas-font-family);\n      font-size: 16px;\n      line-height: 24px;\n    }\n  }\n}\n","import { RegisterComponent } from '@/common/register-component';\nimport { NylasSchedulerConfigConnector } from '@/connector/nylas-scheduler-config-connector';\nimport { debug } from '@/utils/utils';\nimport { AttachInternals, Component, Element, Event, EventEmitter, Host, Listen, Prop, State, Watch, h } from '@stencil/core';\nimport { NylasSchedulerEditor } from '../nylas-scheduler-editor/nylas-scheduler-editor';\nimport { Configuration } from '@nylas/core';\n\nconst defaultRoundToMinutes = 15;\n/**\n * The `nylas-timeslot-interval` component allows users to set their time slot interval preferences.\n * This component provides an option to set both `interval_minutes` and `round_to` in the configuration.\n *\n * @part nti - The timeslot interval container\n * @part nti__header - The header of the timeslot interval picker\n * @part nti__input-label - The input label of the timeslot interval picker\n * @part nti__dropdown - The dropdown container\n * @part nti__dropdown-button - The dropdown button\n * @part nti__dropdown-content - The dropdown content\n */\n@Component({\n  tag: 'nylas-timeslot-interval',\n  styleUrl: 'nylas-timeslot-interval.scss',\n  shadow: true,\n  formAssociated: true,\n})\nexport class NylasTimeslotInterval {\n  @Element() host!: HTMLNylasTimeslotIntervalElement;\n  /**\n   * The selected config\n   */\n  @Prop() selectedConfiguration?: Configuration;\n  /**\n   * The name of the calendar picker.\n   */\n  @Prop() name: string = 'timeslot-picker';\n\n  /**\n   * The event duration in minutes.\n   */\n  @Prop() eventDurationMinutes?: number = this.selectedConfiguration?.availability?.duration_minutes;\n  /**\n   * @deprecated The default interval minutes.\n   */\n  @Prop() defaultIntervalMinutes: number = this.selectedConfiguration?.availability?.interval_minutes ?? this.eventDurationMinutes ?? 10;\n  /**\n   * @deprecated The round to option in minutes as set in the configuration.\n   */\n  @Prop() defaultRoundTo?: number = this.selectedConfiguration?.availability?.round_to ?? undefined;\n\n  /**\n   * The element internals.\n   */\n  @AttachInternals() internals!: ElementInternals;\n\n  /**\n   * The internal event duration minutes state.\n   */\n  @State() internalEventDurationMinutes!: number;\n\n  /**\n   * The selected interval minutes.\n   */\n  @State() selectedInterval!: number;\n\n  /**\n   * The selected round to minutes.\n   */\n  @State() selectedRoundTo!: boolean;\n\n  /***\n   * The state to store that component is ready to render.\n   */\n  @State() componentLoaded: boolean = false;\n\n  /**\n   * This event is fired when the selected booking calendar changes.\n   */\n  @Event() valueChanged!: EventEmitter<{\n    value: string;\n    name: string;\n  }>;\n\n  /**\n   * When a name prop is passed, stencil does not automatically set the name attribute on the host element.\n   * Since this component is form-associated, the name attribute is required for form submission.\n   * This is a workaround to ensure that the name attribute is set on the host element.\n   */\n  @Watch('name')\n  elementNameChangedHandler(newValue: string) {\n    debug('nylas-timeslot-interval', 'elementNameChangedHandler', newValue);\n    this.host.setAttribute('name', newValue);\n  }\n\n  @Watch('selectedConfiguration')\n  selectedConfigurationChangedHandler(newValue: Configuration) {\n    debug('nylas-timeslot-interval', 'selectedConfigurationChangedHandler', newValue);\n    this.internalEventDurationMinutes = newValue?.availability?.duration_minutes ?? this.eventDurationMinutes ?? 30;\n    const internalIntervalMinutes = newValue.availability?.interval_minutes ?? this.internalEventDurationMinutes ?? 30;\n    this.selectedInterval = newValue.availability?.interval_minutes ?? internalIntervalMinutes ?? 10;\n    const roundToMinutes = newValue.availability?.round_to || null;\n    this.selectedRoundTo = roundToMinutes && roundToMinutes === internalIntervalMinutes ? true : false;\n  }\n\n  // Lifecycle methods\n  connectedCallback() {\n    debug('nylas-timeslot-interval', 'connectedCallback');\n  }\n\n  disconnectedCallback() {\n    debug('nylas-timeslot-interval', 'disconnectedCallback');\n  }\n\n  componentWillLoad() {\n    debug('nylas-timeslot-interval', 'componentWillLoad');\n    // See comment in the @Watch('name') decorator for more information.\n    this.host.setAttribute('name', this.name);\n  }\n\n  componentDidLoad() {\n    debug('nylas-timeslot-interval', 'componentDidLoad');\n    if (this.selectedConfiguration) {\n      this.selectedConfigurationChangedHandler(this.selectedConfiguration);\n    } else {\n      this.internalEventDurationMinutes = this.eventDurationMinutes ?? 30;\n      const internalIntervalMinutes = this.internalEventDurationMinutes;\n      this.selectedInterval = internalIntervalMinutes ?? 10;\n      this.selectedRoundTo = false;\n    }\n    this.componentLoaded = true;\n  }\n\n  componentWillUpdate() {\n    debug('nylas-timeslot-interval', 'componentWillUpdate');\n  }\n\n  componentDidUpdate() {\n    debug('nylas-timeslot-interval', 'componentDidUpdate');\n  }\n\n  componentWillRender() {\n    debug('nylas-timeslot-interval', 'componentWillRender');\n  }\n\n  componentDidRender() {\n    debug('nylas-timeslot-interval', 'componentDidRender');\n  }\n\n  @Listen('nylasFormDropdownChanged')\n  nylasFormDropdownChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-timeslot-interval', 'nylasFormDropdownChangedHandler', event.detail);\n    const value = event.detail.value;\n    if (value === 'duration') {\n      this.selectedInterval = this.internalEventDurationMinutes ?? 10;\n    } else {\n      this.selectedInterval = parseInt(event.detail.value);\n    }\n\n    this.valueChanged.emit({\n      value: JSON.stringify({\n        interval: this.selectedInterval,\n        roundTo: this.selectedRoundTo ? this.selectedInterval : defaultRoundToMinutes,\n      }),\n      name: this.name,\n    });\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(JSON.stringify({ interval: this.selectedInterval, roundTo: this.selectedRoundTo ? this.selectedInterval : defaultRoundToMinutes }), this.name);\n    }\n  }\n\n  @Listen('nylasFormRadioChanged')\n  nylasFormRadioChangedHandler(event: CustomEvent<{ value: string; name: string }>) {\n    debug('nylas-timeslot-interval', 'nylasFormRadioChangedHandler', event.detail);\n    const value = event.detail.value;\n    if (value === 'no-rounding') {\n      this.selectedRoundTo = false;\n    } else {\n      this.selectedRoundTo = true;\n    }\n\n    this.valueChanged.emit({\n      value: JSON.stringify({\n        interval: this.selectedInterval,\n        roundTo: this.selectedRoundTo ? this.selectedInterval : defaultRoundToMinutes,\n      }),\n      name: this.name,\n    });\n    if (typeof this.internals.setFormValue === 'function') {\n      this.internals.setFormValue(JSON.stringify({ interval: this.selectedInterval, roundTo: this.selectedRoundTo ? this.selectedInterval : defaultRoundToMinutes }), this.name);\n    }\n  }\n\n  @RegisterComponent<NylasTimeslotInterval, NylasSchedulerConfigConnector, Exclude<NylasSchedulerEditor['stores'], undefined>>({\n    name: 'nylas-timeslot-interval',\n    stateToProps: new Map([['schedulerConfig.selectedConfiguration', 'selectedConfiguration']]),\n    fireRegisterEvent: true,\n  })\n  render() {\n    const intervalPreferenceOptions = [\n      { value: 'duration', label: 'Length of the booking' },\n      { value: '5', label: '5 mins' },\n      { value: '10', label: '10 mins' },\n      { value: '15', label: '15 mins' },\n      { value: '20', label: '20 mins' },\n      { value: '30', label: '30 mins' },\n      { value: '45', label: '45 mins' },\n      { value: '60', label: '60 mins' },\n    ];\n\n    const defaultSelectedInterval =\n      typeof this.selectedInterval !== 'undefined'\n        ? this.selectedInterval == this.internalEventDurationMinutes\n          ? intervalPreferenceOptions[0]\n          : intervalPreferenceOptions.find(op => op.value == this.selectedInterval.toString()) ?? intervalPreferenceOptions[0]\n        : undefined;\n\n    return (\n      <Host>\n        <div class=\"nylas-timeslot-interval\" part=\"nti\">\n          <div class=\"header\" part=\"nti__header\">\n            <h3>Time slot settings</h3>\n          </div>\n\n          <div class=\"nylas-timeslot-interval__dropdown\">\n            <span class=\"label\" part=\"nti__input-label\">\n              Time slot interval.\n            </span>\n            {defaultSelectedInterval?.label && (\n              <select-dropdown\n                name=\"interval-minutes\"\n                options={intervalPreferenceOptions}\n                withSearch={false}\n                exportparts=\"sd_dropdown: nti__dropdown, sd_dropdown-button: nti__dropdown-button, sd_dropdown-content: nti__dropdown-content\"\n                defaultSelectedOption={defaultSelectedInterval}\n              />\n            )}\n            <span slot=\"label\" class=\"label\" part=\"nti__input-label\">\n              Time slot rounding type\n              <tooltip-component>\n                <info-icon slot=\"tooltip-icon\" />\n                <span slot=\"tooltip-content\">Select if you want to round the time slots to the nearest interval.</span>\n              </tooltip-component>\n            </span>\n            {this.componentLoaded && (\n              <radio-button-group\n                name=\"interval-preference\"\n                defaultSelectedValue={this.selectedRoundTo ? 'rounding' : 'no-rounding'}\n                options={[\n                  { value: 'no-rounding', label: 'Default', description: 'Time slots will be rounded to the nearest quarter-hour.' },\n                  {\n                    value: 'rounding',\n                    label: 'Interval rounding',\n                    description: 'Time slots will begin at times rounded to the interval value.',\n                  },\n                ]}\n              />\n            )}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'paintbrush-fill-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class PaintbrushFillIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '13';\n\n  render() {\n    return (\n      <svg width=\"16\" height=\"17\" viewBox=\"-3 0 16 17\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M5 2.875V0.375H0.5C0.223858 0.375 0 0.598858 0 0.875V7.37585H10V0.875C10 0.598858 9.77614 0.375 9.5 0.375H8V3.87722C8 4.15337 7.77614 4.37722 7.5 4.37722C7.22386 4.37722 7 4.15337 7 3.87722V0.375H6V2.875C6 3.15114 5.77614 3.375 5.5 3.375C5.22386 3.375 5 3.15114 5 2.875ZM10 8.37585H0V9.37938C0 10.4839 0.895431 11.3794 2 11.3794H3.5V14.8767C3.5 15.7051 4.17157 16.3767 5 16.3767C5.82843 16.3767 6.5 15.7051 6.5 14.8767V11.3794H8C9.10457 11.3794 10 10.4839 10 9.37938V8.37585Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'paintbrush-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class PaintbrushIcon {\n  @Prop() width: string = '16';\n  @Prop() height: string = '13';\n\n  render() {\n    return (\n      <svg width=\"16\" height=\"16\" viewBox=\"-3 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M0.5 -0.000976562C0.223858 -0.000976562 0 0.222881 0 0.499023L1.90735e-05 9.00337C1.90735e-05 10.1079 0.89545 11.0034 2.00002 11.0034H3.00411V14.0007C3.00411 15.1053 3.89954 16.0007 5.00411 16.0007C6.10868 16.0007 7.00411 15.1053 7.00411 14.0007V11.0034H8.00002C9.10459 11.0034 10 10.1079 10 9.00337V7.50339L10 7.49897V0.499023C10 0.222881 9.77614 -0.000976562 9.5 -0.000976562H0.5ZM1.00002 8.00342H9.00002V9.00337C9.00002 9.55566 8.5523 10.0034 8.00002 10.0034H6.50411C6.22797 10.0034 6.00411 10.2272 6.00411 10.5034V14.0007C6.00411 14.553 5.5564 15.0007 5.00411 15.0007C4.45183 15.0007 4.00411 14.553 4.00411 14.0007V10.5034C4.00411 10.2272 3.78026 10.0034 3.50411 10.0034H2.00002C1.44773 10.0034 1.00002 9.55566 1.00002 9.00337V8.00342ZM9 7.00339H1V0.999023H5V2.49902C5 2.77517 5.22386 2.99902 5.5 2.99902C5.77614 2.99902 6 2.77517 6 2.49902V0.999023H7V3.50122C7 3.77736 7.22386 4.00122 7.5 4.00122C7.77614 4.00122 8 3.77736 8 3.50122V0.999023H9V7.00339Z\"\n          fill=\"currentColor\"\n        />\n      </svg>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'people-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class PeopleIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    return (\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width={this.width} height={this.height} fill=\"none\" viewBox=\"0 0 20 20\">\n        <path\n          fill=\"currentColor\"\n          d=\"M11 10a2 2 0 0 1 2 2v1.5c0 2.054-2.088 3.5-5.5 3.5S2 15.554 2 13.5V12a2 2 0 0 1 2-2h7Zm0 1H4a1 1 0 0 0-1 1v1.5C3 14.907 4.579 16 7.5 16c2.921 0 4.5-1.093 4.5-2.5V12a1 1 0 0 0-1-1Zm5-1a2 2 0 0 1 2 2v.5c0 2.089-1.568 3.5-4.5 3.5-.141 0-.28-.003-.414-.01.208-.242.382-.502.522-.781l.097-.213h.039C15.976 14.931 17 13.96 17 12.5V12a1 1 0 0 0-1-1h-2.171a3 3 0 0 0-.594-1H16ZM7.5 2a3.5 3.5 0 1 1 0 7 3.5 3.5 0 0 1 0-7Zm7 2a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5Zm-7-1a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5Zm7 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z\"\n        />\n      </svg>\n    );\n  }\n}\n","@import '../../../common/styles/variables.scss';\n\n.switch {\n  @include default-css-variables;\n  display: inline-block;\n  height: 34px;\n  position: relative;\n  width: 60px;\n}\n\n.switch input {\n  display: none;\n}\n\n.slider {\n  background-color: var(--nylas-base-300);\n  bottom: 0;\n  cursor: pointer;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  transition: 0.4s;\n}\n\n.slider:before {\n  background-color: var(--nylas-base-0);\n  bottom: 4px;\n  content: '';\n  height: 32px;\n  left: 4px;\n  position: absolute;\n  transition: 0.4s;\n  width: 32px;\n}\n\ninput:checked + .slider {\n  background-color: var(--nylas-success);\n}\n\ninput:checked + .slider:before {\n  transform: translateX(32px);\n}\n\n.slider.round {\n  border-radius: 35px;\n  width: 72px;\n  height: 40px;\n}\n\n.slider.round:before {\n  border-radius: 50%;\n}\n","import { Component, h, Prop, State, Event, EventEmitter } from '@stencil/core';\n\n/**\n * The `toggle-switch` component is a UI component that allows users to toggle a switch.\n * This component is used in the scheduling form to input toggle switch type inputs.\n * Use it as a replacement for checkboxes when you want to present a switch in the UI.\n *\n * @part ts_label - The label of the toggle switch\n * @part ts_input - The input of the toggle switch\n * @part ts_slider - The slider of the toggle switch\n */\n@Component({\n  tag: 'toggle-switch',\n  styleUrl: 'toggle-switch.scss',\n  shadow: true,\n})\nexport class ToggleSwitchComponent {\n  /**\n   * The name of the toggle switch. This is used to identify the toggle switch when submitting a form.\n   */\n  @Prop() name: string = 'toggle-switch';\n  /**\n   * The default value of the toggle switch. This is the value that is displayed when the toggle switch is rendered.\n   */\n  @Prop() checked: boolean = false;\n  /**\n   * The label of the toggle switch. This is displayed next to the toggle switch.\n   */\n  @Prop() label: string = '';\n\n  /**\n   * The checked state of the toggle switch.\n   */\n  @State() isChecked: boolean = this.checked;\n\n  /**\n   * This event is fired when the toggle switch is toggled.\n   */\n  @Event() nylasFormSwitchToggled!: EventEmitter<{\n    checked: boolean;\n    name: string;\n    label: string;\n  }>;\n\n  // Lifecycle events\n  componentWillLoad() {\n    this.isChecked = this.checked;\n  }\n\n  toggleCheck() {\n    this.isChecked = !this.isChecked;\n    this.nylasFormSwitchToggled.emit({\n      checked: this.isChecked,\n      name: this.name,\n      label: this.label,\n    });\n  }\n\n  render() {\n    return (\n      <label class=\"switch\" part=\"ts_label\">\n        <input type=\"checkbox\" part=\"ts_input\" name={this.name} checked={this.isChecked} onChange={() => this.toggleCheck()} />\n        <div class=\"slider round\" part=\"ts_slider\"></div>\n      </label>\n    );\n  }\n}\n",":host {\n  display: flex;\n}\n","import { Component, Prop, h } from '@stencil/core';\n\n@Component({\n  tag: 'zoom-icon',\n  styleUrl: 'icon.css',\n  scoped: true,\n})\nexport class ZoomIcon {\n  @Prop() width: string = '20';\n  @Prop() height: string = '20';\n\n  render() {\n    // Spam icon svg\n    return (\n      <svg width={this.width} height={this.height} fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path\n          d=\"M19.7495 6.85792C19.2077 3.4745 16.5255 0.792345 13.1421 0.250451C12.1175 0.0865155 11.0702 0 10 0C8.92992 0 7.88256 0.0865155 6.85797 0.250451C3.47453 0.792345 0.792373 3.4745 0.250478 6.85792C0.0865433 7.87796 0 8.92987 0 10C0 11.0701 0.0865433 12.1175 0.250478 13.1421C0.792373 16.5255 3.47453 19.2077 6.85797 19.7495C7.88256 19.9135 8.92992 20 10 20C11.0702 20 12.1175 19.9135 13.1421 19.7495C16.5255 19.2077 19.2077 16.5255 19.7495 13.1421C19.9135 12.122 20 11.0701 20 10C20 8.92987 19.9135 7.88251 19.7495 6.85792Z\"\n          fill=\"url(#paint0_linear_22_6272)\"\n        />\n        <path\n          d=\"M12.154 12.1676C12.154 12.7596 11.6759 13.2377 11.0839 13.2377H6.42995C5.24598 13.2377 4.28516 12.2769 4.28516 11.0929V7.87794C4.28516 7.28596 4.76328 6.80786 5.35527 6.80786H10.0092C11.1932 6.80786 12.154 7.7687 12.154 8.95267V12.1676ZM14.8589 7.09475L13.2879 8.27412C13.0193 8.47448 12.8598 8.79324 12.8598 9.13022V10.9153C12.8598 11.2523 13.0193 11.5711 13.2879 11.7714L14.8589 12.9508C15.2141 13.2149 15.715 12.9645 15.715 12.5228V7.5228C15.715 7.08109 15.2096 6.83063 14.8589 7.09475Z\"\n          fill=\"white\"\n        />\n        <defs>\n          <linearGradient id=\"paint0_linear_22_6272\" x1=\"10\" y1=\"19.9954\" x2=\"10\" y2=\"-0.00455379\" gradientUnits=\"userSpaceOnUse\">\n            <stop stop-color=\"#003FAE\" />\n            <stop offset=\"0.02\" stop-color=\"#0142B7\" />\n            <stop offset=\"0.09\" stop-color=\"#044BD1\" />\n            <stop offset=\"0.16\" stop-color=\"#0752E5\" />\n            <stop offset=\"0.24\" stop-color=\"#0958F4\" />\n            <stop offset=\"0.34\" stop-color=\"#0A5BFC\" />\n            <stop offset=\"0.5\" stop-color=\"#0B5CFF\" />\n          </linearGradient>\n        </defs>\n      </svg>\n    );\n  }\n}\n"],"mappings":"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"}