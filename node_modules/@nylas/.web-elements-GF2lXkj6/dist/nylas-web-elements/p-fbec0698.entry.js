import{r as e,h as t,c as s,a as i}from"./p-68c2fadf.js";const n=".sc-chevron-icon-h{display:flex}";const o=n;const a=class{constructor(t){e(this,t);this.width="24";this.height="24"}render(){return t("svg",{key:"90d483478e14f04ab2793f5c922ccb87a8b1f1cc",xmlns:"http://www.w3.org/2000/svg",width:this.width,height:this.height,viewBox:"0 0 24 24",fill:"none"},t("path",{key:"b50664e82487982f62f962fd7e6586d2a68e42e9",fill:"currentColor",d:"M15.53 4.22a.75.75 0 0 1 0 1.06L8.81 12l6.72 6.72a.75.75 0 1 1-1.06 1.06l-7.25-7.25a.75.75 0 0 1 0-1.06l7.25-7.25a.75.75 0 0 1 1.06 0Z"}))}};a.style=o;const r=".sc-search-icon-h{display:flex}";const l=r;const d=class{constructor(t){e(this,t);this.width="15";this.height="15"}render(){return t("svg",{key:"bed5da3f7b1b6d9737b4289b2123ed11a0ce3298",width:this.width,height:this.height,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t("path",{key:"c43ccee98412d9f980018c737e15ce43d0f5c2be",fill:"currentColor",d:"M5.5 0C8.53757 0 11 2.46243 11 5.5C11 6.83879 10.5217 8.06586 9.72656 9.01962L13.8536 13.1464C14.0488 13.3417 14.0488 13.6583 13.8536 13.8536C13.68 14.0271 13.4106 14.0464 13.2157 13.9114L13.1464 13.8536L9.01962 9.72656C8.06586 10.5217 6.83879 11 5.5 11C2.46243 11 0 8.53757 0 5.5C0 2.46243 2.46243 0 5.5 0ZM5.5 1C3.01472 1 1 3.01472 1 5.5C1 7.98528 3.01472 10 5.5 10C7.98528 10 10 7.98528 10 5.5C10 3.01472 7.98528 1 5.5 1Z"}))}};d.style=l;const h=':host{display:block;position:relative;--nylas-primary:#2563eb;--nylas-error:#cc4841;--nylas-error-pressed:#992222;--nylas-wraning:#f06c00;--nylas-success:#16a392;--nylas-info:#2b8fc2;--nylas-base-0:#ffffff;--nylas-base-25:#fcfcfd;--nylas-base-50:#f8f9fc;--nylas-base-100:#eaecf5;--nylas-base-200:#d5d9eb;--nylas-base-300:#b3b8d8;--nylas-base-400:#717bbc;--nylas-base-500:#4e5ba6;--nylas-base-600:#3e4784;--nylas-base-700:#263f72;--nylas-base-800:#293056;--nylas-base-900:#101323;--nylas-base-950:#0e101b;--nylas-border-radius:0.25rem;--nylas-border-radius-2x:0.5rem;--nylas-border-radius-3x:0.75rem;--nylas-font-family:"Inter", sans-serif;width:100%}@media screen and (max-width: 768px){:host{position:unset}}label{display:flex;color:var(--nylas-base-800, #293056);font-size:14px;font-style:normal;font-weight:400;line-height:150%;flex-direction:column;gap:4px;font-family:var(--nylas-font-family);font-size:16px;color:var(--nylas-base-800)}label.error{color:var(--nylas-error)}label span.required{color:var(--nylas-error);padding:0 0.25rem}label p{margin:0}label .error{color:var(--nylas-error)}.dropdown{display:inline-block;width:inherit}.dropbtn{color:var(--nylas-base-800);padding:14px;font-size:1rem;font-family:var(--nylas-font-family);cursor:pointer;display:flex;justify-content:space-between;gap:0.5rem;background:transparent;border:1px solid var(--nylas-base-300);border-radius:var(--nylas-border-radius-2x)}.dropbtn.error{border:1px solid var(--nylas-error)}.dropbtn.focus{background:transparent}.dropbtn:hover,.dropbtn:active{outline:1px solid var(--nylas-primary)}.dropbtn:active{outline:2px solid var(--nylas-primary)}.dropbtn span.chevron{display:flex;align-self:center}.dropbtn span.open{transform:rotate(90deg)}.dropbtn span.closed{transform:rotate(270deg)}.dropbtn span.selected-option{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:144px;font-size:14px;line-height:20px}@media screen and (max-width: 768px){.dropbtn span.selected-option{max-width:124px;font-size:16px}}.dropdown-content{display:block;margin-top:0.5rem;background-color:var(--nylas-base-0);width:100%;max-height:336px;overflow:auto;z-index:1;border-radius:4px;position:absolute;box-shadow:0px 4px 6px -2px rgba(0, 0, 0, 0.05);box-shadow:0px 10px 15px -3px rgba(0, 0, 0, 0.1)}@media screen and (max-width: 768px){.dropdown-content{right:0;width:325px;max-width:unset}}.search-box{border-bottom:1px solid var(--nylas-base-200);padding:10px;position:sticky;top:0;background:var(--nylas-base-0)}.search-box .icon{position:absolute;top:1.25rem;left:1.25rem;color:var(--nylas-base-300)}.dropdown-content ul{padding:0;list-style-type:none;color:var(--nylas-base-900);max-height:336px}.dropdown-content ul li{padding:16px, 12px, 16px, 12px;color:black;padding:12px 16px;text-decoration:none;display:block;font-family:inherit;font-size:14px;font-weight:400;line-height:20px;letter-spacing:0px;text-align:left;cursor:pointer}.dropdown-content ul li:hover,.dropdown-content ul li:focus{background-color:var(--nylas-base-100)}.dropdown-content .selected{background-color:#e7e7e7}input[type=text]{width:-webkit-fill-available;padding:inherit;border:1px solid #ccc;border-radius:4px;position:sticky;background:no-repeat scroll 7px 7px;padding-left:30px;background-size:16px 16px}';const c=h;const p=class{constructor(t){e(this,t);this.nylasFormDropdownChanged=s(this,"nylasFormDropdownChanged",7);this.nylasFormDropdownDefaultSelected=s(this,"nylasFormDropdownDefaultSelected",7);this.componentType="select-dropdown";this.name=undefined;this.options=[];this.defaultSelectedOption=null;this.withSearch=true;this.label=undefined;this.required=false;this.pluralizedLabel="";this.dropdownButtonText=undefined;this.withChevron=true;this.selectedOption=undefined;this.isOpen=false;this.searchValue="";this.filteredOptions=[...this.options];this.ariaActivedescendant="";this.errorMessage=""}optionsChangedHandler(e,t){if(e===t){return}this.filteredOptions=e}defaultSelectedOptionChangedHandler(e,t){if(typeof e==="undefined"||e?.label===t?.label){return}this.selectedOption=e;this.nylasFormDropdownDefaultSelected.emit({value:e?.value||"",name:this.name,error:this.errorMessage,label:this.label})}componentWillLoad(){this.el.setAttribute("component-type",this.componentType)}componentDidLoad(){this.filteredOptions=this.options;this.selectedOption=this.defaultSelectedOption;if(!this.selectedOption&&this.options.length>0){this.selectedOption=this.options[0]}this.nylasFormDropdownDefaultSelected.emit({value:this.selectedOption?.value||"",name:this.name,error:this.errorMessage,label:this.label})}handleBookingFormSubmitted(e){this.validate(this.selectedOption?.value||"");if(this.errorMessage){e.preventDefault()}}validate(e){if(this.required&&!e){this.errorMessage=`${this.label} is required.`}else{this.errorMessage=""}}toggleDropdown(){this.isOpen=!this.isOpen}filterOptions(e){const t=e.target.value;this.searchValue=t;this.filteredOptions=this.options.filter((e=>e.label.toLowerCase().includes(t.toLowerCase())))}selectOption(e){this.errorMessage="";this.selectedOption=e;this.toggleDropdown();this.nylasFormDropdownChanged.emit({value:e.value,name:this.name,error:this.errorMessage,label:this.label})}handleSelectButtonKeyDown(e){switch(e.key){case"ArrowDown":case"Enter":e.preventDefault();if(!this.isOpen){this.toggleDropdown()}this.inputRef?.focus();break;case"Escape":this.isOpen=false;break}}handleListboxKeydown(e){const t=this.filteredOptions;const s=t.findIndex((e=>e.value===this.ariaActivedescendant));if(e.key==="ArrowDown"||e.key==="Tab"&&!e.shiftKey){e.preventDefault();if(s===t.length-1){this.ariaActivedescendant="";this.inputRef?.focus();return}const i=s+1<t.length?s+1:0;this.ariaActivedescendant=t[i].value;this.focusOption(i)}else if(e.key==="ArrowUp"||e.key==="Tab"&&e.shiftKey){e.preventDefault();if(s===0){this.ariaActivedescendant="";this.inputRef?.focus();return}const i=s-1>=0?s-1:t.length-1;this.ariaActivedescendant=t[i].value;this.focusOption(i)}else if(e.key==="Enter"){e.preventDefault();if(this.ariaActivedescendant){this.selectOption(t[s])}}else if(e.key==="Escape"){this.isOpen=false}}focusOption(e){const t=this.filteredOptions[e];if(!t)return;const s=t.value;const i=this.el.shadowRoot?.getElementById(s);if(i){i.focus();i.scrollIntoView({behavior:"smooth",block:"nearest"})}}handleComboboxKeyDown(e){if(e.key==="ArrowDown"||e.key=="Tab"&&!e.shiftKey){e.preventDefault();this.ariaActivedescendant=this.filteredOptions[0].value;this.focusOption(0)}else if(e.key==="ArrowUp"||e.key==="Tab"&&e.shiftKey){e.preventDefault();this.ariaActivedescendant=this.filteredOptions[this.filteredOptions.length-1].value;this.focusOption(this.filteredOptions.length-1)}else if(e.key==="Escape"){this.isOpen=false}}generateButtonText(e,t){if(t){return t}return e?.label?`${e?.label+this.pluralizedLabel}`:""}handleOutsideClick(e){const t=e.composedPath();const s=t.includes(this.el);if(!s&&this.isOpen){this.isOpen=false}}render(){const e=this.generateButtonText(this.selectedOption,this.dropdownButtonText);return t("div",{key:"4b724d892194708b2dcd0ed74c8e23486ba2b4f7",class:"dropdown",part:"sd_dropdown"},t("label",{key:"06d33f4f5daa7c09eed054505989210e35c2beb5",part:"sd_dropdown_label",class:{error:!!this.errorMessage}},this.label&&t("p",null,t("span",{class:"label"},this.label),this.required&&t("span",{class:"required"},"*")),t("button",{key:"8e5952f7e2a1279670304e82f329da3e8e60522a",part:"sd_dropdown-button",class:{dropbtn:true,open:this.isOpen,error:!!this.errorMessage},onClick:()=>this.toggleDropdown(),"aria-haspopup":"listbox","aria-expanded":this.isOpen?"true":"false","aria-label":this.name,onKeyDown:e=>this.handleSelectButtonKeyDown(e)},t("slot",{key:"aece407da3b35858b9ec1248d09447706b3120cc",name:"select-icon","aria-hidden":"true"}),t("span",{key:"55aae4a92f862c81533635999fb60693705cb12b",class:"selected-option",part:"sd_dropdown-button-selected-label"},e),this.withChevron&&t("span",{class:{open:this.isOpen,closed:!this.isOpen,chevron:true},"aria-hidden":"true"},t("chevron-icon",{width:"16",height:"16"}))),this.errorMessage&&t("span",{class:"error help-text"},this.errorMessage)),this.isOpen?t("div",{class:"dropdown-content",part:"sd_dropdown-content"},this.withSearch&&t("div",{class:{"search-box":true,open:this.isOpen}},t("search-icon",{width:"15",height:"15",class:"icon"}),t("input",{type:"text",role:"combobox",placeholder:"Search",value:this.searchValue,ref:e=>this.inputRef=e,onInput:e=>this.filterOptions(e),onKeyDown:e=>this.handleComboboxKeyDown(e)})),t("ul",{tabindex:"-1",role:"listbox","aria-label":this.name,"aria-activedescendant":this.ariaActivedescendant,onKeyDown:e=>this.handleListboxKeydown(e)},this.filteredOptions.map((e=>e.value.toString()?t("li",{tabindex:"0",key:e.value,id:e.value,onClick:()=>this.selectOption(e),role:"option"},e.labelHTML?t("div",{part:"sd_dropdown-labelhtml"},e.labelHTML):e.label):null)))):null)}get el(){return i(this)}static get watchers(){return{options:["optionsChangedHandler"],defaultSelectedOption:["defaultSelectedOptionChangedHandler"]}}};p.style=c;export{a as chevron_icon,d as search_icon,p as select_dropdown};
//# sourceMappingURL=p-fbec0698.entry.js.map